%implements s97_b0_a366g_Outputs "C"

%function OutputsForTID(block, system, tid) Output
%if tid == 0
%assign ::GlobalCurrentTID = 0
%<SLibCGIRAccessLocalVar(696, 0, "")> %% B_97_1587_0
%<SLibCGIRAccessLocalVar(612, 0, "")> %% B_97_1376_0
%<SLibCGIRAccessLocalVar(1645, 0, "")> %% B_97_882_0
%<SLibCGIRAccessLocalVar(352, 0, "")> %% B_97_813_0
%<SLibCGIRAccessLocalVar(234, 0, "")> %% B_97_507_0
%<SLibCGIRAccessLocalVar(1637, 0, "")> %% B_97_496_0
%<SLibCGIRAccessLocalVar(186, 0, "")> %% B_97_427_0
%<SLibCGIRAccessLocalVar(549, 0, "")> %% B_97_1228_0
%<SLibCGIRAccessLocalVar(334, 0, "")> %% B_97_772_0
%<SLibCGIRAccessLocalVar(170, 0, "")> %% B_97_374_0
%<SLibCGIRAccessLocalVar(55, 0, "")> %% B_97_114_0
%<SLibCGIRAccessLocalVar(49, 0, "")> %% B_97_92_0
%<SLibCGIRAccessLocalVar(48, 0, "")> %% B_97_91_0
%<SLibCGIRAccessLocalVar(41, 0, "")> %% B_97_80_0
%<SLibCGIRAccessLocalVar(29, 0, "")> %% B_97_37_0
%<SLibCGIRAccessLocalVar(15, 0, "")> %% B_97_6_0
%<SLibCGIRAccessLocalVar(235, 0, "")> %% B_97_509_0
%<SLibCGIRAccessLocalVar(768, 0, "")> %% B_97_1769_0
%<SLibCGIRAccessLocalVar(529, 0, "")> %% B_97_1202_0
%<SLibCGIRAccessLocalVar(765, 0, "")> %% B_97_1764_0
%<SLibCGIRAccessLocalVar(726, 0, "")> %% B_97_1638_0
%<SLibCGIRAccessLocalVar(694, 0, "")> %% B_97_1563_0
%<SLibCGIRAccessLocalVar(690, 0, "")> %% B_97_1556_0
%<SLibCGIRAccessLocalVar(686, 0, "")> %% B_97_1549_0
%<SLibCGIRAccessLocalVar(642, 0, "")> %% B_97_1428_0
%<SLibCGIRAccessLocalVar(610, 0, "")> %% B_97_1352_0
%<SLibCGIRAccessLocalVar(606, 0, "")> %% B_97_1345_0
%<SLibCGIRAccessLocalVar(602, 0, "")> %% B_97_1338_0
%<SLibCGIRAccessLocalVar(526, 0, "")> %% B_97_1197_0
%<SLibCGIRAccessLocalVar(477, 0, "")> %% B_97_1083_0
%<SLibCGIRAccessLocalVar(382, 0, "")> %% B_97_865_0
%<SLibCGIRAccessLocalVar(216, 0, "")> %% B_97_479_0
%<SLibCGIRAccessLocalVar(1277, 0, "")> %% B_36_88_0
%<SLibCGIRAccessLocalVar(1434, 0, "")> %% B_27_198_0
%<SLibCGIRAccessLocalVar(54, 0, "")> %% B_97_110_0
%<SLibCGIRAccessLocalVar(6, 0, "")> %% B_97_1565_0
%<SLibCGIRAccessLocalVar(5, 0, "")> %% B_97_1558_0
%<SLibCGIRAccessLocalVar(4, 0, "")> %% B_97_1551_0
%<SLibCGIRAccessLocalVar(3, 0, "")> %% B_97_1354_0
%<SLibCGIRAccessLocalVar(2, 0, "")> %% B_97_1347_0
%<SLibCGIRAccessLocalVar(1, 0, "")> %% B_97_1340_0
%<SLibCGIRAccessLocalVar(1461, 0, "")> %% B_27_233_0
%<SLibCGIRAccessLocalVar(1455, 0, "")> %% B_27_224_0
%<SLibCGIRAccessLocalVar(504, 0, "")> %% B_97_1118_0
%<SLibCGIRAccessLocalVar(498, 0, "")> %% B_97_1109_0
%<SLibCGIRAccessLocalVar(59, 0, "")> %% B_97_134_0
%<SLibCGIRAccessLocalVar(1276, 0, "")> %% B_36_87_0
%<SLibCGIRAccessLocalVar(1325, 0, "")> %% B_30_38_0
%<SLibCGIRAccessLocalVar(1323, 0, "")> %% B_30_36_0
%<SLibCGIRAccessLocalVar(1433, 0, "")> %% B_27_197_0
%<SLibCGIRAccessLocalVar(1506, 0, "")> %% B_23_38_0
%<SLibCGIRAccessLocalVar(1504, 0, "")> %% B_23_36_0
%<SLibCGIRAccessLocalVar(725, 0, "")> %% B_97_1637_0
%<SLibCGIRAccessLocalVar(964, 0, "")> %% B_77_38_0
%<SLibCGIRAccessLocalVar(962, 0, "")> %% B_77_36_0
%<SLibCGIRAccessLocalVar(641, 0, "")> %% B_97_1427_0
%<SLibCGIRAccessLocalVar(1128, 0, "")> %% B_55_38_0
%<SLibCGIRAccessLocalVar(1126, 0, "")> %% B_55_36_0
%<SLibCGIRAccessLocalVar(476, 0, "")> %% B_97_1082_0
%<SLibCGIRAccessLocalVar(871, 0, "")> %% B_93_38_0
%<SLibCGIRAccessLocalVar(869, 0, "")> %% B_93_36_0
%<SLibCGIRAccessLocalVar(381, 0, "")> %% B_97_864_0
%<SLibCGIRAccessLocalVar(1046, 0, "")> %% B_66_38_0
%<SLibCGIRAccessLocalVar(1044, 0, "")> %% B_66_36_0
%<SLibCGIRAccessLocalVar(215, 0, "")> %% B_97_478_0
%<SLibCGIRAccessLocalVar(1210, 0, "")> %% B_44_38_0
%<SLibCGIRAccessLocalVar(1208, 0, "")> %% B_44_36_0
%<SLibCGIRAccessLocalVar(1285, 0, "")> %% B_36_101_0
%<SLibCGIRAccessLocalVar(1283, 0, "")> %% B_36_99_0
%<SLibCGIRAccessLocalVar(1251, 0, "")> %% B_36_49_0
%<SLibCGIRAccessLocalVar(1250, 0, "")> %% B_36_48_0
%<SLibCGIRAccessLocalVar(1446, 0, "")> %% B_27_215_0
%<SLibCGIRAccessLocalVar(1444, 0, "")> %% B_27_213_0
%<SLibCGIRAccessLocalVar(1442, 0, "")> %% B_27_211_0
%<SLibCGIRAccessLocalVar(1440, 0, "")> %% B_27_209_0
%<SLibCGIRAccessLocalVar(69, 0, "")> %% B_97_163_0
%<SLibCGIRAccessLocalVar(787, 0, "")> %% B_97_1801_0
%<SLibCGIRAccessLocalVar(767, 0, "")> %% B_97_1767_0
%<SLibCGIRAccessLocalVar(735, 0, "")> %% B_97_1714_0
%<SLibCGIRAccessLocalVar(734, 0, "")> %% B_97_1651_0
%<SLibCGIRAccessLocalVar(732, 0, "")> %% B_97_1649_0
%<SLibCGIRAccessLocalVar(699, 0, "")> %% B_97_1599_0
%<SLibCGIRAccessLocalVar(692, 0, "")> %% B_97_1560_0
%<SLibCGIRAccessLocalVar(688, 0, "")> %% B_97_1553_0
%<SLibCGIRAccessLocalVar(684, 0, "")> %% B_97_1546_0
%<SLibCGIRAccessLocalVar(650, 0, "")> %% B_97_1441_0
%<SLibCGIRAccessLocalVar(648, 0, "")> %% B_97_1439_0
%<SLibCGIRAccessLocalVar(615, 0, "")> %% B_97_1388_0
%<SLibCGIRAccessLocalVar(608, 0, "")> %% B_97_1349_0
%<SLibCGIRAccessLocalVar(604, 0, "")> %% B_97_1342_0
%<SLibCGIRAccessLocalVar(600, 0, "")> %% B_97_1335_0
%<SLibCGIRAccessLocalVar(561, 0, "")> %% B_97_1249_0
%<SLibCGIRAccessLocalVar(550, 0, "")> %% B_97_1230_0
%<SLibCGIRAccessLocalVar(528, 0, "")> %% B_97_1200_0
%<SLibCGIRAccessLocalVar(489, 0, "")> %% B_97_1100_0
%<SLibCGIRAccessLocalVar(487, 0, "")> %% B_97_1098_0
%<SLibCGIRAccessLocalVar(485, 0, "")> %% B_97_1096_0
%<SLibCGIRAccessLocalVar(483, 0, "")> %% B_97_1094_0
%<SLibCGIRAccessLocalVar(390, 0, "")> %% B_97_878_0
%<SLibCGIRAccessLocalVar(388, 0, "")> %% B_97_876_0
%<SLibCGIRAccessLocalVar(355, 0, "")> %% B_97_825_0
%<SLibCGIRAccessLocalVar(351, 0, "")> %% B_97_806_0
%<SLibCGIRAccessLocalVar(349, 0, "")> %% B_97_804_0
%<SLibCGIRAccessLocalVar(224, 0, "")> %% B_97_492_0
%<SLibCGIRAccessLocalVar(222, 0, "")> %% B_97_490_0
%<SLibCGIRAccessLocalVar(189, 0, "")> %% B_97_439_0
%<SLibCGIRAccessLocalVar(185, 0, "")> %% B_97_418_0
%<SLibCGIRAccessLocalVar(178, 0, "")> %% B_97_397_0
%<SLibCGIRAccessLocalVar(176, 0, "")> %% B_97_395_0
%<SLibCGIRAccessLocalVar(58, 0, "")> %% B_97_122_0
%assign cfgTxt = ""
%openfile cfgTxt
%assign localVarDecl = ""
%openfile localVarDecl

real_T *lastU;
real_T rtb_B_97_5_0;
real_T rtb_B_97_5_1;
real_T rtb_B_97_36_0;
real_T rtb_B_97_36_1;
real_T rtb_B_97_1_0;
real_T rtb_B_97_16_0;
real_T rtb_B_97_25_0[5];
real_T rtb_B_97_27_0;
real_T rtb_B_97_28_0;
real_T rtb_B_97_30_0[3];
real_T rtb_B_97_32_0;
real_T rtb_B_97_47_0;
real_T rtb_B_97_56_0[5];
real_T rtb_B_97_66_0;
real_T rtb_B_97_67_0;
real_T rtb_B_97_68_0;
boolean_T rtb_B_97_76_0;
real_T rtb_B_97_83_0;
real_T rtb_B_97_84_0;
real_T rtb_B_97_103_0;
real_T rtb_B_97_82_0;
boolean_T rtb_B_97_111_0;
real_T rtb_B_97_145_0;
uint8_T rtb_B_97_160_0;
real_T rtb_B_97_176_0;
real_T rtb_B_97_177_0;
real_T rtb_B_97_182_0;
real_T rtb_B_97_185_0;
real_T rtb_B_97_215_0;
real_T rtb_B_97_216_0;
real_T rtb_B_97_221_0;
real_T rtb_B_97_224_0;
real_T tmpForInput[9];
real_T rtb_B_97_396_0;
real_T rtb_B_97_409_0;
real_T rtb_B_97_410_0;
real_T rtb_B_97_411_0;
int8_T rtPrevAction;
int8_T rtAction;
real_T rtb_B_97_574_0;
real_T rtb_B_97_575_0;
real_T rtb_B_97_580_0;
real_T rtb_B_97_583_0;
real_T rtb_B_97_613_0;
real_T rtb_B_97_614_0;
real_T rtb_B_97_619_0;
real_T rtb_B_97_622_0;
real_T rtb_B_97_777_0;
real_T rtb_B_97_803_0;
real_T rtb_B_97_805_0;
real_T rtb_B_97_966_0;
real_T rtb_B_97_967_0;
real_T rtb_B_97_972_0;
real_T rtb_B_97_975_0;
real_T rtb_B_97_986_0;
real_T rtb_B_97_989_0;
real_T rtb_B_97_1173_0;
real_T rtb_B_97_1177_0[2];
real_T rtb_B_97_1194_0[18];
real_T rtb_B_97_17_0;
real_T rtb_B_97_1236_0;
real_T rtb_B_97_48_0;
real_T rtb_B_97_1718_0;
real_T rtb_B_97_1740_0[2];
real_T rtb_B_97_1804_0;
real_T rtb_B_27_80_0;
real_T rtb_B_27_81_0;
real_T rtb_B_27_86_0;
real_T rtb_B_27_89_0;
real_T rtb_B_27_100_0;
real_T rtb_B_27_103_0;
real_T rtb_B_77_37_0;
real_T rtb_B_97_1948_0;
real_T rtb_B_97_1997_0;
real_T rtb_B_97_2046_0;
real_T rtb_B_97_186_0;
real_T rtb_B_97_187_0;
real_T rtb_B_97_225_0;
real_T rtb_B_97_226_0;
real_T rtb_B_97_584_0;
real_T rtb_B_97_585_0;
real_T rtb_B_97_623_0;
real_T rtb_B_97_624_0;
real_T rtb_B_97_976_0;
real_T rtb_B_97_977_0;
real_T rtb_B_97_990_0;
real_T rtb_B_97_991_0;
real_T rtb_B_27_90_0;
real_T rtb_B_27_91_0;
real_T rtb_B_27_104_0;
real_T rtb_B_27_105_0;
real_T rtb_B_87_4_0[25];
int32_T i;
real_T tmp[25];
real_T tmp_0[5];
int32_T i_0;
boolean_T rtb_B_97_384_0;
real_T B_97_412_0_idx_0;
real_T B_97_412_0_idx_1;
real_T B_97_412_0_idx_2;
real_T B_5_0_0_idx_3;
real_T B_97_173_0_idx_0;
real_T B_97_173_0_idx_1;
real_T B_97_173_0_idx_2;
real_T B_97_212_0_idx_0;
real_T B_97_212_0_idx_1;
real_T B_97_212_0_idx_2;
real_T B_97_321_0_idx_0;
real_T B_97_321_0_idx_1;
real_T B_97_321_0_idx_2;
boolean_T B_97_384_0_idx_1;
boolean_T B_97_385_0_idx_1;
real_T B_97_328_1_idx_1;
real_T B_97_328_1_idx_2;
real_T B_97_719_0_idx_0;
real_T B_97_719_0_idx_1;
real_T B_97_719_0_idx_2;
real_T B_27_79_0_idx_0;
real_T B_27_79_0_idx_1;
real_T B_27_79_0_idx_2;
real_T B_27_95_0_idx_0;
real_T B_27_95_0_idx_1;
real_T B_27_95_0_idx_2;
real_T B_97_726_1_idx_0;
real_T B_97_726_1_idx_1;
real_T B_97_726_1_idx_2;
real_T B_97_965_0_idx_0;
real_T B_97_965_0_idx_1;
real_T B_97_965_0_idx_2;
real_T B_97_1542_0_idx_0;
real_T B_97_1542_0_idx_1;
real_T B_97_1542_0_idx_2;
real_T B_97_328_0_idx_0;
real_T B_97_328_0_idx_1;
real_T B_97_328_0_idx_2;
real_T B_97_291_1_idx_2;
real_T B_97_726_0_idx_0;
real_T B_97_726_0_idx_1;
real_T B_97_726_0_idx_2;
real_T B_97_781_0_idx_0;
real_T B_97_781_0_idx_1;
real_T B_97_781_0_idx_2;
real_T B_97_1331_0_idx_0;
real_T B_97_1331_0_idx_1;
real_T B_97_1331_0_idx_2;
real_T B_97_1542_1_idx_1;
real_T B_97_1542_1_idx_2;
B_Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_T *_rtB;
P_Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_T *_rtP;
X_Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_T *_rtX;
DW_Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_T *_rtDW;
%closefile localVarDecl
%assign _modelSS = ""

%assign tlcOutputsFcnOfS82B9 = OpaqueTLCBlockFcn("Outputs", 82, 9, 4, 1)
%assign tlcOutputsFcnOfS82B31 = OpaqueTLCBlockFcn("Outputs", 82, 31, 4, 1)
%assign tlcOutputsFcnOfS82B33 = OpaqueTLCBlockFcn("Outputs", 82, 33, 4, 1)
%assign tlcOutputsFcnOfS82B35 = OpaqueTLCBlockFcn("Outputs", 82, 35, 4, 1)
%assign tlcOutputsFcnOfS82B37 = OpaqueTLCBlockFcn("Outputs", 82, 37, 4, 1)
%assign tlcOutputsFcnOfS82B39 = OpaqueTLCBlockFcn("Outputs", 82, 39, 4, 1)
%assign tlcOutputsFcnOfS82B41 = OpaqueTLCBlockFcn("Outputs", 82, 41, 4, 1)
%assign tlcOutputsFcnOfS82B43 = OpaqueTLCBlockFcn("Outputs", 82, 43, 4, 1)
%assign tlcOutputsFcnOfS82B45 = OpaqueTLCBlockFcn("Outputs", 82, 45, 4, 1)
%assign tlcOutputsFcnOfS82B47 = OpaqueTLCBlockFcn("Outputs", 82, 47, 4, 1)
%assign tlcOutputsFcnOfS82B48 = OpaqueTLCBlockFcn("Outputs", 82, 48, 4, 1)
%assign tlcOutputsFcnOfS82B49 = OpaqueTLCBlockFcn("Outputs", 82, 49, 4, 1)
%assign tlcOutputsFcnOfS82B50 = OpaqueTLCBlockFcn("Outputs", 82, 50, 4, 1)
%assign tlcOutputsFcnOfS82B51 = OpaqueTLCBlockFcn("Outputs", 82, 51, 4, 1)
%assign tlcOutputsFcnOfS82B52 = OpaqueTLCBlockFcn("Outputs", 82, 52, 4, 1)
%assign tlcOutputsFcnOfS82B56 = OpaqueTLCBlockFcn("Outputs", 82, 56, 4, 1)
%assign tlcOutputsFcnOfS82B64 = OpaqueTLCBlockFcn("Outputs", 82, 64, 4, 1)
%assign tlcOutputsFcnOfS27B4 = OpaqueTLCBlockFcn("Outputs", 27, 4, 4, 1)
%assign tlcOutputsFcnOfS27B5 = OpaqueTLCBlockFcn("Outputs", 27, 5, 4, 1)
%assign tlcOutputsFcnOfS27B6 = OpaqueTLCBlockFcn("Outputs", 27, 6, 4, 1)
%assign tlcOutputsFcnOfS27B7 = OpaqueTLCBlockFcn("Outputs", 27, 7, 4, 1)
%assign tlcOutputsFcnOfS27B8 = OpaqueTLCBlockFcn("Outputs", 27, 8, 4, 1)
%assign tlcOutputsFcnOfS27B9 = OpaqueTLCBlockFcn("Outputs", 27, 9, 4, 1)
%assign tlcOutputsFcnOfS27B10 = OpaqueTLCBlockFcn("Outputs", 27, 10, 4, 1)
%assign tlcOutputsFcnOfS27B11 = OpaqueTLCBlockFcn("Outputs", 27, 11, 4, 1)
%assign tlcOutputsFcnOfS27B12 = OpaqueTLCBlockFcn("Outputs", 27, 12, 4, 1)
%assign tlcOutputsFcnOfS27B13 = OpaqueTLCBlockFcn("Outputs", 27, 13, 4, 1)
%assign tlcOutputsFcnOfS27B14 = OpaqueTLCBlockFcn("Outputs", 27, 14, 4, 1)
%assign tlcOutputsFcnOfS27B15 = OpaqueTLCBlockFcn("Outputs", 27, 15, 4, 1)
%assign tlcOutputsFcnOfS27B16 = OpaqueTLCBlockFcn("Outputs", 27, 16, 4, 1)
%assign tlcOutputsFcnOfS27B17 = OpaqueTLCBlockFcn("Outputs", 27, 17, 4, 1)
%assign tlcOutputsFcnOfS23B0 = OpaqueTLCBlockFcn("Outputs", 23, 0, 4, 1)
%assign tlcOutputsFcnOfS23B2 = OpaqueTLCBlockFcn("Outputs", 23, 2, 4, 1)
%assign tlcOutputsFcnOfS27B20 = OpaqueTLCBlockFcn("Outputs", 27, 20, 4, 1)
%assign tlcOutputsFcnOfS36B2 = OpaqueTLCBlockFcn("Outputs", 36, 2, 4, 1)
%assign tlcOutputsFcnOfS36B3 = OpaqueTLCBlockFcn("Outputs", 36, 3, 4, 1)
%assign tlcOutputsFcnOfS30B0 = OpaqueTLCBlockFcn("Outputs", 30, 0, 4, 1)
%assign tlcOutputsFcnOfS30B2 = OpaqueTLCBlockFcn("Outputs", 30, 2, 4, 1)
%assign tlcOutputsFcnOfS36B6 = OpaqueTLCBlockFcn("Outputs", 36, 6, 4, 1)
%assign tlcOutputsFcnOfS82B69 = OpaqueTLCBlockFcn("Outputs", 82, 69, 4, 1)
%assign tlcOutputsFcnOfS82B70 = OpaqueTLCBlockFcn("Outputs", 82, 70, 4, 1)
%assign tlcOutputsFcnOfS82B71 = OpaqueTLCBlockFcn("Outputs", 82, 71, 4, 1)
%assign tlcOutputsFcnOfS82B72 = OpaqueTLCBlockFcn("Outputs", 82, 72, 4, 1)
%assign tlcOutputsFcnOfS42B0 = OpaqueTLCBlockFcn("Outputs", 42, 0, 4, 1)
%assign tlcOutputsFcnOfS42B2 = OpaqueTLCBlockFcn("Outputs", 42, 2, 4, 1)
%assign tlcOutputsFcnOfS82B75 = OpaqueTLCBlockFcn("Outputs", 82, 75, 4, 1)
%assign tlcOutputsFcnOfS82B134 = OpaqueTLCBlockFcn("Outputs", 82, 134, 4, 1)
%assign tlcOutputsFcnOfS82B136 = OpaqueTLCBlockFcn("Outputs", 82, 136, 4, 1)
%assign tlcOutputsFcnOfS82B138 = OpaqueTLCBlockFcn("Outputs", 82, 138, 4, 1)
%assign tlcOutputsFcnOfS82B140 = OpaqueTLCBlockFcn("Outputs", 82, 140, 4, 1)
%assign tlcOutputsFcnOfS82B142 = OpaqueTLCBlockFcn("Outputs", 82, 142, 4, 1)
%assign tlcOutputsFcnOfS82B144 = OpaqueTLCBlockFcn("Outputs", 82, 144, 4, 1)
%assign tlcOutputsFcnOfS82B146 = OpaqueTLCBlockFcn("Outputs", 82, 146, 4, 1)
%assign tlcOutputsFcnOfS82B148 = OpaqueTLCBlockFcn("Outputs", 82, 148, 4, 1)
%assign tlcOutputsFcnOfS82B150 = OpaqueTLCBlockFcn("Outputs", 82, 150, 4, 1)
%assign tlcOutputsFcnOfS82B151 = OpaqueTLCBlockFcn("Outputs", 82, 151, 4, 1)
%assign tlcOutputsFcnOfS82B152 = OpaqueTLCBlockFcn("Outputs", 82, 152, 4, 1)
%assign tlcOutputsFcnOfS82B153 = OpaqueTLCBlockFcn("Outputs", 82, 153, 4, 1)
%assign tlcOutputsFcnOfS82B154 = OpaqueTLCBlockFcn("Outputs", 82, 154, 4, 1)
%assign tlcOutputsFcnOfS82B155 = OpaqueTLCBlockFcn("Outputs", 82, 155, 4, 1)
%assign tlcOutputsFcnOfS82B159 = OpaqueTLCBlockFcn("Outputs", 82, 159, 4, 1)
%assign tlcOutputsFcnOfS82B166 = OpaqueTLCBlockFcn("Outputs", 82, 166, 4, 1)
%assign tlcOutputsFcnOfS82B167 = OpaqueTLCBlockFcn("Outputs", 82, 167, 4, 1)
%assign tlcOutputsFcnOfS82B168 = OpaqueTLCBlockFcn("Outputs", 82, 168, 4, 1)
%assign tlcOutputsFcnOfS82B169 = OpaqueTLCBlockFcn("Outputs", 82, 169, 4, 1)
%assign tlcOutputsFcnOfS58B0 = OpaqueTLCBlockFcn("Outputs", 58, 0, 4, 1)
%assign tlcOutputsFcnOfS58B2 = OpaqueTLCBlockFcn("Outputs", 58, 2, 4, 1)
%assign tlcOutputsFcnOfS82B172 = OpaqueTLCBlockFcn("Outputs", 82, 172, 4, 1)
%assign tlcOutputsFcnOfS82B177 = OpaqueTLCBlockFcn("Outputs", 82, 177, 4, 1)
%assign tlcOutputsFcnOfS82B178 = OpaqueTLCBlockFcn("Outputs", 82, 178, 4, 1)
%assign tlcOutputsFcnOfS82B179 = OpaqueTLCBlockFcn("Outputs", 82, 179, 4, 1)
%assign tlcOutputsFcnOfS82B180 = OpaqueTLCBlockFcn("Outputs", 82, 180, 4, 1)
%assign tlcOutputsFcnOfS82B181 = OpaqueTLCBlockFcn("Outputs", 82, 181, 4, 1)
%assign tlcOutputsFcnOfS82B182 = OpaqueTLCBlockFcn("Outputs", 82, 182, 4, 1)
%assign tlcOutputsFcnOfS82B183 = OpaqueTLCBlockFcn("Outputs", 82, 183, 4, 1)
%assign tlcOutputsFcnOfS82B184 = OpaqueTLCBlockFcn("Outputs", 82, 184, 4, 1)
%assign tlcOutputsFcnOfS82B185 = OpaqueTLCBlockFcn("Outputs", 82, 185, 4, 1)
%assign tlcOutputsFcnOfS82B186 = OpaqueTLCBlockFcn("Outputs", 82, 186, 4, 1)
%assign tlcOutputsFcnOfS82B187 = OpaqueTLCBlockFcn("Outputs", 82, 187, 4, 1)
%assign tlcOutputsFcnOfS82B188 = OpaqueTLCBlockFcn("Outputs", 82, 188, 4, 1)
%assign tlcOutputsFcnOfS82B189 = OpaqueTLCBlockFcn("Outputs", 82, 189, 4, 1)
%assign tlcOutputsFcnOfS82B190 = OpaqueTLCBlockFcn("Outputs", 82, 190, 4, 1)
%assign tlcOutputsFcnOfS78B0 = OpaqueTLCBlockFcn("Outputs", 78, 0, 4, 1)
%assign tlcOutputsFcnOfS78B2 = OpaqueTLCBlockFcn("Outputs", 78, 2, 4, 1)
%assign tlcOutputsFcnOfS82B193 = OpaqueTLCBlockFcn("Outputs", 82, 193, 4, 1)
%assign tlcOutputsFcnOfS82B228 = OpaqueTLCBlockFcn("Outputs", 82, 228, 4, 1)
%assign tlcOutputsFcnOfS82B229 = OpaqueTLCBlockFcn("Outputs", 82, 229, 4, 1)
%assign tlcOutputsFcnOfS82B230 = OpaqueTLCBlockFcn("Outputs", 82, 230, 4, 1)
%assign tlcOutputsFcnOfS82B231 = OpaqueTLCBlockFcn("Outputs", 82, 231, 4, 1)
%assign tlcOutputsFcnOfS82B232 = OpaqueTLCBlockFcn("Outputs", 82, 232, 4, 1)
%assign tlcOutputsFcnOfS82B233 = OpaqueTLCBlockFcn("Outputs", 82, 233, 4, 1)
%assign tlcOutputsFcnOfS82B239 = OpaqueTLCBlockFcn("Outputs", 82, 239, 4, 1)
%assign tlcOutputsFcnOfS82B241 = OpaqueTLCBlockFcn("Outputs", 82, 241, 4, 1)
%assign tlcOutputsFcnOfS82B243 = OpaqueTLCBlockFcn("Outputs", 82, 243, 4, 1)
%assign tlcOutputsFcnOfS82B245 = OpaqueTLCBlockFcn("Outputs", 82, 245, 4, 1)
%assign tlcOutputsFcnOfS82B247 = OpaqueTLCBlockFcn("Outputs", 82, 247, 4, 1)
%assign tlcOutputsFcnOfS82B248 = OpaqueTLCBlockFcn("Outputs", 82, 248, 4, 1)
%assign tlcOutputsFcnOfS82B249 = OpaqueTLCBlockFcn("Outputs", 82, 249, 4, 1)
%assign tlcOutputsFcnOfS82B250 = OpaqueTLCBlockFcn("Outputs", 82, 250, 4, 1)
%assign tlcOutputsFcnOfS82B251 = OpaqueTLCBlockFcn("Outputs", 82, 251, 4, 1)
%assign tlcOutputsFcnOfS82B252 = OpaqueTLCBlockFcn("Outputs", 82, 252, 4, 1)
%assign tlcOutputsFcnOfS82B256 = OpaqueTLCBlockFcn("Outputs", 82, 256, 4, 1)
%assign tlcOutputsFcnOfS82B257 = OpaqueTLCBlockFcn("Outputs", 82, 257, 4, 1)
%assign tlcOutputsFcnOfS82B258 = OpaqueTLCBlockFcn("Outputs", 82, 258, 4, 1)
%assign tlcOutputsFcnOfS82B259 = OpaqueTLCBlockFcn("Outputs", 82, 259, 4, 1)
%assign tlcOutputsFcnOfS82B260 = OpaqueTLCBlockFcn("Outputs", 82, 260, 4, 1)
%assign tlcOutputsFcnOfS50B0 = OpaqueTLCBlockFcn("Outputs", 50, 0, 4, 1)
%assign tlcOutputsFcnOfS50B2 = OpaqueTLCBlockFcn("Outputs", 50, 2, 4, 1)
%assign tlcOutputsFcnOfS82B263 = OpaqueTLCBlockFcn("Outputs", 82, 263, 4, 1)
%assign tlcOutputsFcnOfS82B298 = OpaqueTLCBlockFcn("Outputs", 82, 298, 4, 1)
%assign tlcOutputsFcnOfS82B300 = OpaqueTLCBlockFcn("Outputs", 82, 300, 4, 1)
%assign tlcOutputsFcnOfS82B302 = OpaqueTLCBlockFcn("Outputs", 82, 302, 4, 1)
%assign tlcOutputsFcnOfS82B304 = OpaqueTLCBlockFcn("Outputs", 82, 304, 4, 1)
%assign tlcOutputsFcnOfS82B306 = OpaqueTLCBlockFcn("Outputs", 82, 306, 4, 1)
%assign tlcOutputsFcnOfS82B307 = OpaqueTLCBlockFcn("Outputs", 82, 307, 4, 1)
%assign tlcOutputsFcnOfS82B308 = OpaqueTLCBlockFcn("Outputs", 82, 308, 4, 1)
%assign tlcOutputsFcnOfS82B309 = OpaqueTLCBlockFcn("Outputs", 82, 309, 4, 1)
%assign tlcOutputsFcnOfS82B310 = OpaqueTLCBlockFcn("Outputs", 82, 310, 4, 1)
%assign tlcOutputsFcnOfS82B311 = OpaqueTLCBlockFcn("Outputs", 82, 311, 4, 1)
%assign tlcOutputsFcnOfS82B315 = OpaqueTLCBlockFcn("Outputs", 82, 315, 4, 1)
%assign tlcOutputsFcnOfS82B316 = OpaqueTLCBlockFcn("Outputs", 82, 316, 4, 1)
%assign tlcOutputsFcnOfS82B317 = OpaqueTLCBlockFcn("Outputs", 82, 317, 4, 1)
%assign tlcOutputsFcnOfS82B318 = OpaqueTLCBlockFcn("Outputs", 82, 318, 4, 1)
%assign tlcOutputsFcnOfS82B319 = OpaqueTLCBlockFcn("Outputs", 82, 319, 4, 1)
%assign tlcOutputsFcnOfS66B0 = OpaqueTLCBlockFcn("Outputs", 66, 0, 4, 1)
%assign tlcOutputsFcnOfS66B2 = OpaqueTLCBlockFcn("Outputs", 66, 2, 4, 1)
%assign tlcOutputsFcnOfS82B322 = OpaqueTLCBlockFcn("Outputs", 82, 322, 4, 1)
%assign tlcOutputsFcnOfS82B385 = OpaqueTLCBlockFcn("Outputs", 82, 385, 4, 1)
%assign tlcOutputsFcnOfS82B386 = OpaqueTLCBlockFcn("Outputs", 82, 386, 4, 1)
%assign tlcOutputsFcnOfS82B387 = OpaqueTLCBlockFcn("Outputs", 82, 387, 4, 1)
%assign tlcOutputsFcnOfS82B388 = OpaqueTLCBlockFcn("Outputs", 82, 388, 4, 1)
%assign tlcOutputsFcnOfS82B389 = OpaqueTLCBlockFcn("Outputs", 82, 389, 4, 1)
%assign tlcOutputsFcnOfS82B390 = OpaqueTLCBlockFcn("Outputs", 82, 390, 4, 1)
%assign tlcOutputsFcnOfS82B391 = OpaqueTLCBlockFcn("Outputs", 82, 391, 4, 1)
%<SLibCG_TrackDW(82)>\
_rtDW = %<(SLibCG_SE(SLibGetDWorkStructPtr()))>;
%<SLibCG_TrackContStates(82)>\
_rtX = %<(SLibCG_SE(SLibGetContStatesStructPtr()))>;
%<SLibCG_TrackParam(82)>\
_rtP = %<(SLibCG_SE(SLibGetParamStructPtr()))>;
%<SLibCG_TrackConstBlockIO(82)>\
%<SLibCG_TrackBlockIO(82)>\
_rtB = %<(SLibCG_SE(SLibGetBlockIOStructPtr()))>;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    rtb_B_97_1_0 = _rtDW->DiscreteTimeIntegrator1_DSTATE;
    muDoubleScalarSinCos(_rtDW->DiscreteTimeIntegrator1_DSTATE + _rtP->P_540 * ssGetTaskTime(S, 2), &rtb_B_97_5_0, &rtb_B_97_5_1);
    for (i = 0; i < 5; i++) {
        B_97_6_0[i] = _rtDW->fluxes_DSTATE[i];
    }
    _rtB->B_97_8_0 = _rtB->B_97_7_0;
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[3], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_Saturation",3,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_Saturation",3,2)
%<SLibCGIRAccessLocalVar(15, 0, "")> %% B_97_6_0
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_Saturation", ["S", "_rtB->B_97_8_0", "B_97_6_0", "&_rtB->Saturation_i", "&_rtDW->Saturation_i", "&_rtP->Saturation_i"], 3, 1, 7, 0, 7, 82)>\

%endif
    rtb_B_97_16_0 = _rtDW->DiscreteTimeIntegrator_DSTATE;
    rtb_B_97_17_0 = _rtB->B_97_15_0 + _rtDW->DiscreteTimeIntegrator_DSTATE;
    if (ssGetTaskTime(S, 2) >= _rtP->P_555) {
        memcpy(&rtb_B_87_4_0[0], &_rtB->B_97_14_0[0], 25U * sizeof(real_T));
        rtb_B_87_4_0[5] = rtb_B_97_17_0;
        rtb_B_87_4_0[1] = _rtP->P_498 * rtb_B_97_17_0;
        rtb_B_97_384_0 = (_rtB->B_97_18_0 >= _rtP->P_497);
        for (i = 0; i < 25; i++) {
            if (rtb_B_97_384_0) {
                B_5_0_0_idx_3 = _rtB->Saturation_i.B_3_28_0[i];
            } else {
                B_5_0_0_idx_3 = _rtB->B_97_19_0[i];
            }
            tmp[i] = ((0.0 - rtb_B_87_4_0[i]) - B_5_0_0_idx_3) * _rtP->P_499 + _rtB->B_97_13_0[i];
        }
        for (i = 0; i < 5; i++) {
            tmp_0[i] = 0.0;
            for (i_0 = 0; i_0 < 5; i_0++) {
                tmp_0[i] += tmp[5 * i_0 + i] * B_97_6_0[i_0];
            }
        }
        for (i = 0; i < 5; i++) {
            rtb_B_97_56_0[i] = 0.0;
            for (i_0 = 0; i_0 < 5; i_0++) {
                rtb_B_97_56_0[i] += _rtB->B_97_20_0[5 * i_0 + i] * _rtDW->voltages_DSTATE[i_0];
            }
            _rtB->B_97_24_0[i] = tmp_0[i] + rtb_B_97_56_0[i];
        }
    } else {
        for (i = 0; i < 5; i++) {
            _rtB->B_97_24_0[i] = B_97_6_0[i];
        }
    }
    rtb_B_97_384_0 = (_rtB->B_97_10_0 >= _rtP->P_545);
    for (i = 0; i < 25; i++) {
        if (rtb_B_97_384_0) {
            tmp[i] = _rtB->Saturation_i.B_3_27_0[i];
        } else {
            tmp[i] = _rtB->B_97_11_0[i];
        }
    }
    for (i = 0; i < 5; i++) {
        tmp_0[i] = 0.0;
        for (i_0 = 0; i_0 < 5; i_0++) {
            tmp_0[i] += tmp[5 * i_0 + i] * _rtB->B_97_24_0[i_0];
        }
        rtb_B_97_25_0[i] = _rtP->P_556[i] * tmp_0[i];
    }
    rtb_B_97_30_0[0] = _rtP->P_557 * (rtb_B_97_25_0[0] * rtb_B_97_5_1 + rtb_B_97_25_0[1] * rtb_B_97_5_0);
    rtb_B_97_30_0[1] = _rtP->P_557 * (((-rtb_B_97_25_0[0] - 1.7320508075688772 * rtb_B_97_25_0[1]) * rtb_B_97_5_1 + (1.7320508075688772 * rtb_B_97_25_0[0] - rtb_B_97_25_0[1]) * rtb_B_97_5_0) * 0.5);
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        _rtB->B_97_31_0[0] = rtb_B_97_30_0[0];
        _rtB->B_97_31_0[1] = rtb_B_97_30_0[1];
    }
    rtb_B_97_32_0 = _rtDW->DiscreteTimeIntegrator1_DSTATE_h;
    muDoubleScalarSinCos(_rtDW->DiscreteTimeIntegrator1_DSTATE_h + _rtP->P_560 * ssGetTaskTime(S, 2), &rtb_B_97_36_0, &rtb_B_97_36_1);
    for (i = 0; i < 5; i++) {
        B_97_37_0[i] = _rtDW->fluxes_DSTATE_i[i];
    }
    _rtB->B_97_39_0 = _rtB->B_97_38_0;
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[3], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_Saturation",3,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_Saturation",3,2)
%<SLibCGIRAccessLocalVar(29, 0, "")> %% B_97_37_0
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_Saturation", ["S", "_rtB->B_97_39_0", "B_97_37_0", "&_rtB->Saturation", "&_rtDW->Saturation", "&_rtP->Saturation"], 3, 0, 7, 0, 7, 82)>\

%endif
    rtb_B_97_47_0 = _rtDW->DiscreteTimeIntegrator_DSTATE_f;
    rtb_B_97_48_0 = _rtB->B_97_46_0 + _rtDW->DiscreteTimeIntegrator_DSTATE_f;
    if (ssGetTaskTime(S, 2) >= _rtP->P_575) {
        memcpy(&rtb_B_87_4_0[0], &_rtB->B_97_45_0[0], 25U * sizeof(real_T));
        rtb_B_87_4_0[5] = rtb_B_97_48_0;
        rtb_B_87_4_0[1] = _rtP->P_1 * rtb_B_97_48_0;
        rtb_B_97_384_0 = (_rtB->B_97_49_0 >= _rtP->P_0);
        for (i = 0; i < 25; i++) {
            if (rtb_B_97_384_0) {
                B_5_0_0_idx_3 = _rtB->Saturation.B_3_28_0[i];
            } else {
                B_5_0_0_idx_3 = _rtB->B_97_50_0[i];
            }
            tmp[i] = ((0.0 - rtb_B_87_4_0[i]) - B_5_0_0_idx_3) * _rtP->P_2 + _rtB->B_97_44_0[i];
        }
        for (i = 0; i < 5; i++) {
            tmp_0[i] = 0.0;
            for (i_0 = 0; i_0 < 5; i_0++) {
                tmp_0[i] += tmp[5 * i_0 + i] * B_97_37_0[i_0];
            }
        }
        for (i = 0; i < 5; i++) {
            rtb_B_97_56_0[i] = 0.0;
            for (i_0 = 0; i_0 < 5; i_0++) {
                rtb_B_97_56_0[i] += _rtB->B_97_51_0[5 * i_0 + i] * _rtDW->voltages_DSTATE_c[i_0];
            }
            _rtB->B_97_55_0[i] = tmp_0[i] + rtb_B_97_56_0[i];
        }
    } else {
        for (i = 0; i < 5; i++) {
            _rtB->B_97_55_0[i] = B_97_37_0[i];
        }
    }
    rtb_B_97_384_0 = (_rtB->B_97_41_0 >= _rtP->P_565);
    for (i = 0; i < 25; i++) {
        if (rtb_B_97_384_0) {
            tmp[i] = _rtB->Saturation.B_3_27_0[i];
        } else {
            tmp[i] = _rtB->B_97_42_0[i];
        }
    }
    for (i = 0; i < 5; i++) {
        tmp_0[i] = 0.0;
        for (i_0 = 0; i_0 < 5; i_0++) {
            tmp_0[i] += tmp[5 * i_0 + i] * _rtB->B_97_55_0[i_0];
        }
        rtb_B_97_56_0[i] = _rtP->P_576[i] * tmp_0[i];
    }
    rtb_B_97_30_0[0] = _rtP->P_577 * (rtb_B_97_56_0[0] * rtb_B_97_36_1 + rtb_B_97_56_0[1] * rtb_B_97_36_0);
    rtb_B_97_30_0[1] = _rtP->P_577 * (((-rtb_B_97_56_0[0] - 1.7320508075688772 * rtb_B_97_56_0[1]) * rtb_B_97_36_1 + (1.7320508075688772 * rtb_B_97_56_0[0] - rtb_B_97_56_0[1]) * rtb_B_97_36_0) * 0.5);
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        _rtB->B_97_62_0[0] = rtb_B_97_30_0[0];
        _rtB->B_97_62_0[1] = rtb_B_97_30_0[1];
    }
}
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    rtb_B_97_66_0 = _rtDW->itinit1_PreviousInput;
    rtb_B_97_67_0 = _rtP->P_582 * _rtDW->itinit1_PreviousInput;
    rtb_B_97_68_0 = 1.000001 * rtb_B_97_67_0 * 0.96711798839458663 / 0.9999;
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_69_0 = _rtP->P_583 * _rtDW->Currentfilter_states;
    _rtB->B_97_72_0 = (_rtB->B_97_69_0 > Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_rtC(S)->B_97_70_0);
}
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_73_0 = _rtDW->itinit_PreviousInput;
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtDW->inti_IC_LOADING != 0) {
        _rtDW->inti_DSTATE = _rtB->B_97_73_0;
        if (_rtDW->inti_DSTATE >= _rtP->P_589) {
            _rtDW->inti_DSTATE = _rtP->P_589;
        } else {
            if (_rtDW->inti_DSTATE <= _rtP->P_590) {
                _rtDW->inti_DSTATE = _rtP->P_590;
            }
        }
    }
    if ((_rtB->B_97_72_0 > 0.0) && (_rtDW->inti_PrevResetState <= 0)) {
        _rtDW->inti_DSTATE = _rtB->B_97_73_0;
        if (_rtDW->inti_DSTATE >= _rtP->P_589) {
            _rtDW->inti_DSTATE = _rtP->P_589;
        } else {
            if (_rtDW->inti_DSTATE <= _rtP->P_590) {
                _rtDW->inti_DSTATE = _rtP->P_590;
            }
        }
    }
    if (_rtDW->inti_DSTATE >= _rtP->P_589) {
        _rtDW->inti_DSTATE = _rtP->P_589;
    } else {
        if (_rtDW->inti_DSTATE <= _rtP->P_590) {
            _rtDW->inti_DSTATE = _rtP->P_590;
        }
    }
    _rtB->B_97_75_0 = _rtP->P_591 * _rtDW->inti_DSTATE;
}
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    rtb_B_97_76_0 = (_rtB->B_97_75_0 > rtb_B_97_67_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_75_0 < _rtB->B_97_77_0) {
        _rtB->B_97_79_0 = _rtB->B_97_77_0;
    } else {
        _rtB->B_97_79_0 = _rtB->B_97_75_0;
    }
}
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    if (rtb_B_97_76_0) {
        B_97_80_0 = rtb_B_97_67_0;
    } else {
        B_97_80_0 = _rtB->B_97_79_0;
    }
    if ((rtb_B_97_68_0 <= B_97_80_0) > _rtP->P_593) {
        rtb_B_97_82_0 = rtb_B_97_67_0;
    } else {
        rtb_B_97_82_0 = B_97_80_0;
    }
    rtb_B_97_83_0 = -0.027082910519425695 * rtb_B_97_66_0 / (rtb_B_97_66_0 - rtb_B_97_82_0) * rtb_B_97_82_0;
    rtb_B_97_84_0 = -_rtB->B_97_72_0 * 0.027082910519425695 * _rtB->B_97_69_0 * rtb_B_97_66_0 / (rtb_B_97_66_0 - rtb_B_97_82_0);
    rtb_B_97_67_0 = _rtP->P_596 * rtb_B_97_66_0;
    rtb_B_97_68_0 = -rtb_B_97_67_0 * 0.999 * 0.1 * 0.9999;
    if (_rtB->B_97_75_0 < rtb_B_97_68_0) {
        B_97_91_0 = rtb_B_97_68_0;
    } else {
        B_97_91_0 = _rtB->B_97_75_0;
    }
    if (_rtB->B_97_75_0 > rtb_B_97_67_0) {
        B_97_92_0 = rtb_B_97_67_0;
    } else {
        B_97_92_0 = B_97_91_0;
    }
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_95_0 = (_rtB->B_97_69_0 < Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_rtC(S)->B_97_93_0);
}
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    switch ((int32_T)_rtB->B_97_85_0) {
      case 1:
        rtb_B_97_103_0 = -(_rtB->B_97_86_0 * _rtB->B_97_95_0) * 0.027082910519425695 * (_rtB->B_97_86_0 * _rtB->B_97_69_0) * (206.79999999999947 / (_rtB->B_97_86_0 * B_97_92_0 + 20.67999999999995));
        break;
      case 2:
        B_5_0_0_idx_3 = _rtB->B_97_96_0 * rtb_B_97_66_0;
        rtb_B_97_103_0 = -(_rtB->B_97_96_0 * _rtB->B_97_95_0) * 0.027082910519425695 * (_rtB->B_97_96_0 * _rtB->B_97_69_0) * B_5_0_0_idx_3 / (_rtB->B_97_96_0 * B_97_92_0 + B_5_0_0_idx_3 * 0.1);
        break;
      case 3:
        rtb_B_97_103_0 = -(_rtB->B_97_97_0 * _rtB->B_97_95_0) * 0.027082910519425695 * (_rtB->B_97_97_0 * _rtB->B_97_69_0) * (206.79999999999947 / (muDoubleScalarAbs(_rtB->B_97_97_0 * B_97_92_0) + 20.67999999999995));
        break;
      default:
        rtb_B_97_103_0 = -(_rtB->B_97_98_0 * _rtB->B_97_95_0) * 0.027082910519425695 * (_rtB->B_97_98_0 * _rtB->B_97_69_0) * (206.79999999999947 / (muDoubleScalarAbs(_rtB->B_97_98_0 * B_97_92_0) + 20.67999999999995));
        break;
    }
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_105_0 = _rtDW->DiscreteTimeIntegrator_DSTATE_l;
}
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    switch ((int32_T)_rtB->B_97_104_0) {
      case 1:
        rtb_B_97_67_0 = _rtB->B_97_105_0;
        break;
      case 2:
        if (rtb_B_97_82_0 > _rtP->P_3) {
            B_5_0_0_idx_3 = _rtP->P_3;
        } else if (rtb_B_97_82_0 < _rtP->P_4) {
            B_5_0_0_idx_3 = _rtP->P_4;
        } else {
            B_5_0_0_idx_3 = rtb_B_97_82_0;
        }
        rtb_B_97_67_0 = muDoubleScalarExp(-0.30530973451327431 * B_5_0_0_idx_3) * 60.7146212936532;
        break;
      case 3:
        rtb_B_97_67_0 = _rtB->B_97_105_0;
        break;
      default:
        rtb_B_97_67_0 = _rtB->B_97_105_0;
        break;
    }
    B_97_110_0 = ((((rtb_B_97_83_0 + rtb_B_97_84_0) + rtb_B_97_103_0) + rtb_B_97_67_0) + -0.0 * rtb_B_97_82_0) + _rtB->B_97_65_0;
    rtb_B_97_111_0 = (B_97_110_0 > _rtB->B_97_64_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_112_0 = _rtDW->Memory2_PreviousInput;
}
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    if (B_97_110_0 < _rtB->B_97_112_0) {
        B_97_114_0 = _rtB->B_97_112_0;
    } else {
        B_97_114_0 = B_97_110_0;
    }
    if (rtb_B_97_111_0) {
        _rtB->B_97_115_0 = _rtB->B_97_64_0;
    } else {
        _rtB->B_97_115_0 = B_97_114_0;
    }
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
%<tlcOutputsFcnOfS82B9>\
    B_97_122_0 = _rtP->P_615 * _rtB->B_97_116_0[57] * (_rtP->P_616 * _rtB->B_97_116_0[38]);
    _rtB->B_97_129_0 = _rtP->P_617 * _rtB->B_97_116_0[58];
    _rtB->B_97_133_0 = _rtP->P_618 * _rtB->B_97_129_0;
}
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    B_97_134_0 = _rtB->B_97_115_0 - _rtB->B_97_133_0;
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_143_0 = ((real_T)(_rtB->B_97_129_0 < Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_rtC(S)->B_97_137_0) * _rtP->P_621 - _rtB->B_97_105_0) * muDoubleScalarAbs(_rtB->B_97_129_0) * _rtP->P_622;
}
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    rtb_B_97_66_0 *= _rtP->P_623;
    rtb_B_97_145_0 = (1.0 - rtb_B_97_82_0 / rtb_B_97_66_0) * 100.0;
    _rtB->B_97_146_0 = _rtP->P_624 * rtb_B_97_82_0;
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_147_0 = _rtP->P_625 * _rtB->B_97_129_0;
}
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    if (rtb_B_97_145_0 > _rtP->P_626) {
        rtb_B_97_145_0 = _rtP->P_626;
    } else {
        if (rtb_B_97_145_0 < _rtP->P_627) {
            rtb_B_97_145_0 = _rtP->P_627;
        }
    }
    rtb_B_97_160_0 = (uint8_T)(rtb_B_97_145_0 >= _rtB->B_97_159_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_116_1[0] >= _rtP->P_631) {
        B_97_163_0 = _rtP->P_5 * _rtB->B_97_116_0[0];
    } else {
        B_97_163_0 = _rtB->B_97_161_0;
    }
}
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_164_0 = rtb_B_97_160_0;
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    B_97_173_0_idx_0 = _rtP->P_632 * _rtB->B_97_116_0[32] * _rtP->P_635;
    B_97_173_0_idx_1 = _rtP->P_633 * _rtB->B_97_116_0[33] * _rtP->P_635;
    B_97_173_0_idx_2 = _rtP->P_634 * _rtB->B_97_116_0[34] * _rtP->P_635;
    rtb_B_97_82_0 = _rtP->P_636 * ssGetTaskTime(S, 2);
    rtb_B_97_176_0 = muDoubleScalarSin(rtb_B_97_82_0);
    rtb_B_97_177_0 = muDoubleScalarCos(rtb_B_97_82_0);
    rtb_B_97_182_0 = (0.0 - rtb_B_97_176_0 * _rtB->B_97_178_0) - rtb_B_97_177_0 * _rtB->B_97_180_0;
    rtb_B_97_185_0 = rtb_B_97_176_0 * _rtB->B_97_180_0 - rtb_B_97_177_0 * _rtB->B_97_178_0;
    rtb_B_97_186_0 = (0.0 - rtb_B_97_182_0) - rtb_B_97_176_0;
    rtb_B_97_187_0 = (0.0 - rtb_B_97_185_0) - rtb_B_97_177_0;
    _rtB->B_97_188_0 = ((B_97_173_0_idx_0 * rtb_B_97_176_0 + B_97_173_0_idx_1 * rtb_B_97_182_0) + B_97_173_0_idx_2 * rtb_B_97_186_0) * 0.66666666666666663;
    if (_rtDW->Integ4_SYSTEM_ENABLE != 0) {
        _rtB->B_97_189_0 = _rtDW->Integ4_DSTATE;
    } else {
        _rtB->B_97_189_0 = _rtP->P_639 * _rtB->B_97_188_0 + _rtDW->Integ4_DSTATE;
    }
    _rtB->B_97_190_0 = _rtP->P_641;
%<tlcOutputsFcnOfS82B31>\
    rtb_B_97_82_0 = ssGetTaskTime(S, 2);
    if (rtb_B_97_82_0 < _rtP->P_644) {
        rtb_B_97_82_0 = _rtP->P_645;
    } else {
        rtb_B_97_82_0 = _rtP->P_646;
    }
    if (rtb_B_97_82_0 >= _rtP->P_648) {
        rtb_B_97_66_0 = (_rtB->B_97_189_0 - _rtB->B_97_191_0) * _rtP->P_642 + (_rtP->P_11 * _rtB->B_97_188_0 - _rtP->P_10 * _rtDW->UnitDelay_DSTATE);
    } else {
        rtb_B_97_66_0 = _rtP->P_647;
    }
    _rtB->B_97_198_0 = ((B_97_173_0_idx_0 * rtb_B_97_177_0 + B_97_173_0_idx_1 * rtb_B_97_185_0) + B_97_173_0_idx_2 * rtb_B_97_187_0) * 0.66666666666666663;
    if (_rtDW->Integ4_SYSTEM_ENABLE_a != 0) {
        _rtB->B_97_199_0 = _rtDW->Integ4_DSTATE_f;
    } else {
        _rtB->B_97_199_0 = _rtP->P_649 * _rtB->B_97_198_0 + _rtDW->Integ4_DSTATE_f;
    }
    _rtB->B_97_200_0 = _rtP->P_651;
%<tlcOutputsFcnOfS82B33>\
    rtb_B_97_82_0 = ssGetTaskTime(S, 2);
    if (rtb_B_97_82_0 < _rtP->P_654) {
        rtb_B_97_82_0 = _rtP->P_655;
    } else {
        rtb_B_97_82_0 = _rtP->P_656;
    }
    if (rtb_B_97_82_0 >= _rtP->P_658) {
        rtb_B_97_83_0 = (_rtB->B_97_199_0 - _rtB->B_97_201_0) * _rtP->P_652 + (_rtP->P_13 * _rtB->B_97_198_0 - _rtP->P_12 * _rtDW->UnitDelay_DSTATE_d);
    } else {
        rtb_B_97_83_0 = _rtP->P_657;
    }
    B_97_212_0_idx_0 = _rtP->P_659 * _rtB->B_97_116_0[54] * _rtP->P_662;
    B_97_212_0_idx_1 = _rtP->P_660 * _rtB->B_97_116_0[55] * _rtP->P_662;
    B_97_212_0_idx_2 = _rtP->P_661 * _rtB->B_97_116_0[56] * _rtP->P_662;
    rtb_B_97_82_0 = _rtP->P_663 * ssGetTaskTime(S, 2);
    rtb_B_97_215_0 = muDoubleScalarSin(rtb_B_97_82_0);
    rtb_B_97_216_0 = muDoubleScalarCos(rtb_B_97_82_0);
    rtb_B_97_221_0 = (0.0 - rtb_B_97_215_0 * _rtB->B_97_217_0) - rtb_B_97_216_0 * _rtB->B_97_219_0;
    rtb_B_97_224_0 = rtb_B_97_215_0 * _rtB->B_97_219_0 - rtb_B_97_216_0 * _rtB->B_97_217_0;
    rtb_B_97_225_0 = (0.0 - rtb_B_97_221_0) - rtb_B_97_215_0;
    rtb_B_97_226_0 = (0.0 - rtb_B_97_224_0) - rtb_B_97_216_0;
    _rtB->B_97_227_0 = ((B_97_212_0_idx_0 * rtb_B_97_215_0 + B_97_212_0_idx_1 * rtb_B_97_221_0) + B_97_212_0_idx_2 * rtb_B_97_225_0) * 0.66666666666666663;
    if (_rtDW->Integ4_SYSTEM_ENABLE_c != 0) {
        _rtB->B_97_228_0 = _rtDW->Integ4_DSTATE_m;
    } else {
        _rtB->B_97_228_0 = _rtP->P_666 * _rtB->B_97_227_0 + _rtDW->Integ4_DSTATE_m;
    }
    _rtB->B_97_229_0 = _rtP->P_668;
%<tlcOutputsFcnOfS82B35>\
    rtb_B_97_82_0 = ssGetTaskTime(S, 2);
    if (rtb_B_97_82_0 < _rtP->P_671) {
        rtb_B_97_82_0 = _rtP->P_672;
    } else {
        rtb_B_97_82_0 = _rtP->P_673;
    }
    if (rtb_B_97_82_0 >= _rtP->P_675) {
        rtb_B_97_84_0 = (_rtB->B_97_228_0 - _rtB->B_97_230_0) * _rtP->P_669 + (_rtP->P_7 * _rtB->B_97_227_0 - _rtP->P_6 * _rtDW->UnitDelay_DSTATE_e);
    } else {
        rtb_B_97_84_0 = _rtP->P_674;
    }
    _rtB->B_97_237_0 = ((B_97_212_0_idx_0 * rtb_B_97_216_0 + B_97_212_0_idx_1 * rtb_B_97_224_0) + B_97_212_0_idx_2 * rtb_B_97_226_0) * 0.66666666666666663;
    if (_rtDW->Integ4_SYSTEM_ENABLE_l != 0) {
        _rtB->B_97_238_0 = _rtDW->Integ4_DSTATE_d;
    } else {
        _rtB->B_97_238_0 = _rtP->P_676 * _rtB->B_97_237_0 + _rtDW->Integ4_DSTATE_d;
    }
    _rtB->B_97_239_0 = _rtP->P_678;
%<tlcOutputsFcnOfS82B37>\
    rtb_B_97_82_0 = ssGetTaskTime(S, 2);
    if (rtb_B_97_82_0 < _rtP->P_681) {
        rtb_B_97_82_0 = _rtP->P_682;
    } else {
        rtb_B_97_82_0 = _rtP->P_683;
    }
    if (rtb_B_97_82_0 >= _rtP->P_685) {
        rtb_B_97_103_0 = (_rtB->B_97_238_0 - _rtB->B_97_240_0) * _rtP->P_679 + (_rtP->P_9 * _rtB->B_97_237_0 - _rtP->P_8 * _rtDW->UnitDelay_DSTATE_f);
    } else {
        rtb_B_97_103_0 = _rtP->P_684;
    }
    rtb_B_97_82_0 = muDoubleScalarHypot(rtb_B_97_66_0, rtb_B_97_83_0) * muDoubleScalarHypot(rtb_B_97_84_0, rtb_B_97_103_0);
    rtb_B_97_66_0 = (_rtP->P_686 * muDoubleScalarAtan2(rtb_B_97_83_0, rtb_B_97_66_0) - _rtP->P_687 * muDoubleScalarAtan2(rtb_B_97_103_0, rtb_B_97_84_0)) * _rtP->P_688;
    _rtB->B_97_259_0[0] = rtb_B_97_82_0 * muDoubleScalarCos(rtb_B_97_66_0) * _rtP->P_689;
    _rtB->B_97_259_0[1] = muDoubleScalarSin(rtb_B_97_66_0) * rtb_B_97_82_0 * _rtP->P_689;
    _rtB->B_97_260_0[0] = _rtP->P_690 * _rtB->B_97_259_0[0];
    _rtB->B_97_260_0[1] = _rtP->P_690 * _rtB->B_97_259_0[1];
    ssCallAccelRunBlock(S, 97, 261, SS_CALL_MDL_OUTPUTS);
    _rtB->B_97_265_0[0] = _rtP->P_691 * _rtB->B_97_116_0[48] * _rtP->P_694;
    _rtB->B_97_265_0[1] = _rtP->P_692 * _rtB->B_97_116_0[49] * _rtP->P_694;
    _rtB->B_97_265_0[2] = _rtP->P_693 * _rtB->B_97_116_0[50] * _rtP->P_694;
    if (_rtDW->systemEnable != 0) {
        _rtDW->lastSin = muDoubleScalarSin(_rtP->P_697 * ssGetTaskTime(S, 2));
        _rtDW->lastCos = muDoubleScalarCos(_rtP->P_697 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable = 0;
    }
    rtb_B_97_82_0 = ((_rtDW->lastSin * _rtP->P_701 + _rtDW->lastCos * _rtP->P_700) * _rtP->P_699 + (_rtDW->lastCos * _rtP->P_701 - _rtDW->lastSin * _rtP->P_700) * _rtP->P_698) * _rtP->P_695 + _rtP->P_696;
    _rtB->B_97_267_0[0] = _rtB->B_97_265_0[0] * rtb_B_97_82_0;
    _rtB->B_97_267_0[1] = _rtB->B_97_265_0[1] * rtb_B_97_82_0;
    _rtB->B_97_267_0[2] = _rtB->B_97_265_0[2] * rtb_B_97_82_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_p != 0) {
        _rtB->B_97_268_0[0] = _rtDW->Integ4_DSTATE_k[0];
        _rtB->B_97_268_0[1] = _rtDW->Integ4_DSTATE_k[1];
        _rtB->B_97_268_0[2] = _rtDW->Integ4_DSTATE_k[2];
    } else {
        _rtB->B_97_268_0[0] = _rtP->P_702 * _rtB->B_97_267_0[0] + _rtDW->Integ4_DSTATE_k[0];
        _rtB->B_97_268_0[1] = _rtP->P_702 * _rtB->B_97_267_0[1] + _rtDW->Integ4_DSTATE_k[1];
        _rtB->B_97_268_0[2] = _rtP->P_702 * _rtB->B_97_267_0[2] + _rtDW->Integ4_DSTATE_k[2];
    }
    _rtB->B_97_269_0 = _rtP->P_704;
%<tlcOutputsFcnOfS82B39>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_269_0) {
        _rtB->B_97_277_0[0] = (_rtB->B_97_268_0[0] - _rtB->B_97_270_0[0]) * _rtP->P_713 + (_rtP->P_372 * _rtB->B_97_267_0[0] - _rtP->P_371 * _rtDW->UnitDelay_DSTATE_dz[0]);
        _rtB->B_97_277_0[1] = (_rtB->B_97_268_0[1] - _rtB->B_97_270_0[1]) * _rtP->P_713 + (_rtP->P_372 * _rtB->B_97_267_0[1] - _rtP->P_371 * _rtDW->UnitDelay_DSTATE_dz[1]);
        _rtB->B_97_277_0[2] = (_rtB->B_97_268_0[2] - _rtB->B_97_270_0[2]) * _rtP->P_713 + (_rtP->P_372 * _rtB->B_97_267_0[2] - _rtP->P_371 * _rtDW->UnitDelay_DSTATE_dz[2]);
    } else {
        _rtB->B_97_277_0[0] = _rtDW->UnitDelay1_DSTATE[0];
        _rtB->B_97_277_0[1] = _rtDW->UnitDelay1_DSTATE[1];
        _rtB->B_97_277_0[2] = _rtDW->UnitDelay1_DSTATE[2];
    }
    if (_rtDW->systemEnable_a != 0) {
        _rtDW->lastSin_m = muDoubleScalarSin(_rtP->P_718 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_i = muDoubleScalarCos(_rtP->P_718 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_a = 0;
    }
    rtb_B_97_82_0 = ((_rtDW->lastSin_m * _rtP->P_722 + _rtDW->lastCos_i * _rtP->P_721) * _rtP->P_720 + (_rtDW->lastCos_i * _rtP->P_722 - _rtDW->lastSin_m * _rtP->P_721) * _rtP->P_719) * _rtP->P_716 + _rtP->P_717;
    _rtB->B_97_279_0[0] = _rtB->B_97_265_0[0] * rtb_B_97_82_0;
    _rtB->B_97_279_0[1] = _rtB->B_97_265_0[1] * rtb_B_97_82_0;
    _rtB->B_97_279_0[2] = _rtB->B_97_265_0[2] * rtb_B_97_82_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_f != 0) {
        _rtB->B_97_280_0[0] = _rtDW->Integ4_DSTATE_h[0];
        _rtB->B_97_280_0[1] = _rtDW->Integ4_DSTATE_h[1];
        _rtB->B_97_280_0[2] = _rtDW->Integ4_DSTATE_h[2];
    } else {
        _rtB->B_97_280_0[0] = _rtP->P_723 * _rtB->B_97_279_0[0] + _rtDW->Integ4_DSTATE_h[0];
        _rtB->B_97_280_0[1] = _rtP->P_723 * _rtB->B_97_279_0[1] + _rtDW->Integ4_DSTATE_h[1];
        _rtB->B_97_280_0[2] = _rtP->P_723 * _rtB->B_97_279_0[2] + _rtDW->Integ4_DSTATE_h[2];
    }
    _rtB->B_97_281_0 = _rtP->P_725;
%<tlcOutputsFcnOfS82B41>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_281_0) {
        _rtB->B_97_289_0[0] = (_rtB->B_97_280_0[0] - _rtB->B_97_282_0[0]) * _rtP->P_734 + (_rtP->P_370 * _rtB->B_97_279_0[0] - _rtP->P_369 * _rtDW->UnitDelay_DSTATE_o[0]);
        _rtB->B_97_289_0[1] = (_rtB->B_97_280_0[1] - _rtB->B_97_282_0[1]) * _rtP->P_734 + (_rtP->P_370 * _rtB->B_97_279_0[1] - _rtP->P_369 * _rtDW->UnitDelay_DSTATE_o[1]);
        _rtB->B_97_289_0[2] = (_rtB->B_97_280_0[2] - _rtB->B_97_282_0[2]) * _rtP->P_734 + (_rtP->P_370 * _rtB->B_97_279_0[2] - _rtP->P_369 * _rtDW->UnitDelay_DSTATE_o[2]);
    } else {
        _rtB->B_97_289_0[0] = _rtDW->UnitDelay1_DSTATE_c[0];
        _rtB->B_97_289_0[1] = _rtDW->UnitDelay1_DSTATE_c[1];
        _rtB->B_97_289_0[2] = _rtDW->UnitDelay1_DSTATE_c[2];
    }
    rtb_B_97_30_0[0] = muDoubleScalarHypot(_rtB->B_97_277_0[0], _rtB->B_97_289_0[0]);
    rtb_B_97_66_0 = muDoubleScalarAtan2(_rtB->B_97_289_0[0], _rtB->B_97_277_0[0]);
    rtb_B_97_30_0[1] = muDoubleScalarHypot(_rtB->B_97_277_0[1], _rtB->B_97_289_0[1]);
    B_5_0_0_idx_3 = muDoubleScalarAtan2(_rtB->B_97_289_0[1], _rtB->B_97_277_0[1]);
    rtb_B_97_30_0[2] = muDoubleScalarHypot(_rtB->B_97_277_0[2], _rtB->B_97_289_0[2]);
    B_97_291_1_idx_2 = muDoubleScalarAtan2(_rtB->B_97_289_0[2], _rtB->B_97_277_0[2]);
    _rtB->B_97_295_0[0] = _rtP->P_737 * _rtB->B_97_116_0[68] * _rtP->P_740;
    _rtB->B_97_295_0[1] = _rtP->P_738 * _rtB->B_97_116_0[69] * _rtP->P_740;
    _rtB->B_97_295_0[2] = _rtP->P_739 * _rtB->B_97_116_0[70] * _rtP->P_740;
    if (_rtDW->systemEnable_m != 0) {
        _rtDW->lastSin_e = muDoubleScalarSin(_rtP->P_743 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_j = muDoubleScalarCos(_rtP->P_743 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_m = 0;
    }
    rtb_B_97_82_0 = ((_rtDW->lastSin_e * _rtP->P_747 + _rtDW->lastCos_j * _rtP->P_746) * _rtP->P_745 + (_rtDW->lastCos_j * _rtP->P_747 - _rtDW->lastSin_e * _rtP->P_746) * _rtP->P_744) * _rtP->P_741 + _rtP->P_742;
    _rtB->B_97_297_0[0] = _rtB->B_97_295_0[0] * rtb_B_97_82_0;
    _rtB->B_97_297_0[1] = _rtB->B_97_295_0[1] * rtb_B_97_82_0;
    _rtB->B_97_297_0[2] = _rtB->B_97_295_0[2] * rtb_B_97_82_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_h != 0) {
        _rtB->B_97_298_0[0] = _rtDW->Integ4_DSTATE_n[0];
        _rtB->B_97_298_0[1] = _rtDW->Integ4_DSTATE_n[1];
        _rtB->B_97_298_0[2] = _rtDW->Integ4_DSTATE_n[2];
    } else {
        _rtB->B_97_298_0[0] = _rtP->P_748 * _rtB->B_97_297_0[0] + _rtDW->Integ4_DSTATE_n[0];
        _rtB->B_97_298_0[1] = _rtP->P_748 * _rtB->B_97_297_0[1] + _rtDW->Integ4_DSTATE_n[1];
        _rtB->B_97_298_0[2] = _rtP->P_748 * _rtB->B_97_297_0[2] + _rtDW->Integ4_DSTATE_n[2];
    }
    _rtB->B_97_299_0 = _rtP->P_750;
%<tlcOutputsFcnOfS82B43>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_299_0) {
        _rtB->B_97_307_0[0] = (_rtB->B_97_298_0[0] - _rtB->B_97_300_0[0]) * _rtP->P_759 + (_rtP->P_376 * _rtB->B_97_297_0[0] - _rtP->P_375 * _rtDW->UnitDelay_DSTATE_ee[0]);
        _rtB->B_97_307_0[1] = (_rtB->B_97_298_0[1] - _rtB->B_97_300_0[1]) * _rtP->P_759 + (_rtP->P_376 * _rtB->B_97_297_0[1] - _rtP->P_375 * _rtDW->UnitDelay_DSTATE_ee[1]);
        _rtB->B_97_307_0[2] = (_rtB->B_97_298_0[2] - _rtB->B_97_300_0[2]) * _rtP->P_759 + (_rtP->P_376 * _rtB->B_97_297_0[2] - _rtP->P_375 * _rtDW->UnitDelay_DSTATE_ee[2]);
    } else {
        _rtB->B_97_307_0[0] = _rtDW->UnitDelay1_DSTATE_h[0];
        _rtB->B_97_307_0[1] = _rtDW->UnitDelay1_DSTATE_h[1];
        _rtB->B_97_307_0[2] = _rtDW->UnitDelay1_DSTATE_h[2];
    }
    if (_rtDW->systemEnable_l != 0) {
        _rtDW->lastSin_mo = muDoubleScalarSin(_rtP->P_764 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_f = muDoubleScalarCos(_rtP->P_764 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_l = 0;
    }
    rtb_B_97_82_0 = ((_rtDW->lastSin_mo * _rtP->P_768 + _rtDW->lastCos_f * _rtP->P_767) * _rtP->P_766 + (_rtDW->lastCos_f * _rtP->P_768 - _rtDW->lastSin_mo * _rtP->P_767) * _rtP->P_765) * _rtP->P_762 + _rtP->P_763;
    _rtB->B_97_309_0[0] = _rtB->B_97_295_0[0] * rtb_B_97_82_0;
    _rtB->B_97_309_0[1] = _rtB->B_97_295_0[1] * rtb_B_97_82_0;
    _rtB->B_97_309_0[2] = _rtB->B_97_295_0[2] * rtb_B_97_82_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_k != 0) {
        _rtB->B_97_310_0[0] = _rtDW->Integ4_DSTATE_l[0];
        _rtB->B_97_310_0[1] = _rtDW->Integ4_DSTATE_l[1];
        _rtB->B_97_310_0[2] = _rtDW->Integ4_DSTATE_l[2];
    } else {
        _rtB->B_97_310_0[0] = _rtP->P_769 * _rtB->B_97_309_0[0] + _rtDW->Integ4_DSTATE_l[0];
        _rtB->B_97_310_0[1] = _rtP->P_769 * _rtB->B_97_309_0[1] + _rtDW->Integ4_DSTATE_l[1];
        _rtB->B_97_310_0[2] = _rtP->P_769 * _rtB->B_97_309_0[2] + _rtDW->Integ4_DSTATE_l[2];
    }
    _rtB->B_97_311_0 = _rtP->P_771;
%<tlcOutputsFcnOfS82B45>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_311_0) {
        _rtB->B_97_319_0[0] = (_rtB->B_97_310_0[0] - _rtB->B_97_312_0[0]) * _rtP->P_780 + (_rtP->P_374 * _rtB->B_97_309_0[0] - _rtP->P_373 * _rtDW->UnitDelay_DSTATE_p[0]);
        _rtB->B_97_319_0[1] = (_rtB->B_97_310_0[1] - _rtB->B_97_312_0[1]) * _rtP->P_780 + (_rtP->P_374 * _rtB->B_97_309_0[1] - _rtP->P_373 * _rtDW->UnitDelay_DSTATE_p[1]);
        _rtB->B_97_319_0[2] = (_rtB->B_97_310_0[2] - _rtB->B_97_312_0[2]) * _rtP->P_780 + (_rtP->P_374 * _rtB->B_97_309_0[2] - _rtP->P_373 * _rtDW->UnitDelay_DSTATE_p[2]);
    } else {
        _rtB->B_97_319_0[0] = _rtDW->UnitDelay1_DSTATE_j[0];
        _rtB->B_97_319_0[1] = _rtDW->UnitDelay1_DSTATE_j[1];
        _rtB->B_97_319_0[2] = _rtDW->UnitDelay1_DSTATE_j[2];
    }
    B_97_321_0_idx_0 = rtb_B_97_30_0[0] * muDoubleScalarHypot(_rtB->B_97_307_0[0], _rtB->B_97_319_0[0]) * _rtP->P_783;
    rtb_B_97_66_0 = (_rtP->P_784 * rtb_B_97_66_0 - _rtP->P_785 * muDoubleScalarAtan2(_rtB->B_97_319_0[0], _rtB->B_97_307_0[0])) * _rtP->P_786;
    B_97_321_0_idx_1 = rtb_B_97_30_0[1] * muDoubleScalarHypot(_rtB->B_97_307_0[1], _rtB->B_97_319_0[1]) * _rtP->P_783;
    B_5_0_0_idx_3 = (_rtP->P_784 * B_5_0_0_idx_3 - _rtP->P_785 * muDoubleScalarAtan2(_rtB->B_97_319_0[1], _rtB->B_97_307_0[1])) * _rtP->P_786;
    B_97_321_0_idx_2 = rtb_B_97_30_0[2] * muDoubleScalarHypot(_rtB->B_97_307_0[2], _rtB->B_97_319_0[2]) * _rtP->P_783;
    rtb_B_97_82_0 = (_rtP->P_784 * B_97_291_1_idx_2 - _rtP->P_785 * muDoubleScalarAtan2(_rtB->B_97_319_0[2], _rtB->B_97_307_0[2])) * _rtP->P_786;
    muDoubleScalarSinCos(rtb_B_97_66_0, &B_97_328_0_idx_0, &B_97_291_1_idx_2);
    muDoubleScalarSinCos(B_5_0_0_idx_3, &B_97_328_0_idx_1, &B_97_328_1_idx_1);
    muDoubleScalarSinCos(rtb_B_97_82_0, &B_97_328_0_idx_2, &B_97_328_1_idx_2);
    B_97_291_1_idx_2 *= B_97_321_0_idx_0;
    B_97_328_1_idx_1 *= B_97_321_0_idx_1;
    B_97_328_1_idx_2 *= B_97_321_0_idx_2;
    _rtB->B_97_330_0 = (B_97_291_1_idx_2 + B_97_328_1_idx_1) + B_97_328_1_idx_2;
}
_rtB->B_97_331_0 = _rtX->integ1_CSTATE;
%<tlcOutputsFcnOfS82B47>\
_rtB->B_97_333_0 = _rtB->B_97_331_0 - _rtB->B_97_332_0;
_rtB->B_97_334_0 = _rtX->Integ2_CSTATE;
%<tlcOutputsFcnOfS82B48>\
_rtB->B_97_336_0 = _rtB->B_97_334_0 - _rtB->B_97_335_0;
_rtB->B_97_337_0.re = _rtB->B_97_333_0;
_rtB->B_97_337_0.im = _rtB->B_97_336_0;
_rtB->B_97_338_0 = _rtX->integ1_CSTATE_n;
%<tlcOutputsFcnOfS82B49>\
_rtB->B_97_340_0 = _rtB->B_97_338_0 - _rtB->B_97_339_0;
_rtB->B_97_341_0 = _rtX->Integ2_CSTATE_p;
%<tlcOutputsFcnOfS82B50>\
_rtB->B_97_343_0 = _rtB->B_97_341_0 - _rtB->B_97_342_0;
_rtB->B_97_344_0.re = _rtB->B_97_340_0;
_rtB->B_97_344_0.im = _rtB->B_97_343_0;
_rtB->B_97_345_0 = _rtX->integ1_CSTATE_o;
%<tlcOutputsFcnOfS82B51>\
_rtB->B_97_347_0 = _rtB->B_97_345_0 - _rtB->B_97_346_0;
_rtB->B_97_348_0 = _rtX->Integ2_CSTATE_h;
%<tlcOutputsFcnOfS82B52>\
_rtB->B_97_350_0 = _rtB->B_97_348_0 - _rtB->B_97_349_0;
_rtB->B_97_351_0.re = _rtB->B_97_347_0;
_rtB->B_97_351_0.im = _rtB->B_97_350_0;
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_353_0 = _rtB->B_97_352_0;
}
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[38], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation", ["S", "_rtB->B_97_353_0", "_rtB->B_97_337_0", "_rtB->B_97_344_0", "_rtB->B_97_351_0", "&_rtB->PosSeqComputation", "&_rtDW->PosSeqComputation", "&_rtP->PosSeqComputation"], 38, 1, 7, 0, 7, 82)>\

%endif
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_356_0 = _rtB->B_97_355_0;
}
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[38], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation", ["S", "_rtB->B_97_356_0", "_rtB->B_97_337_0", "_rtB->B_97_344_0", "_rtB->B_97_351_0", "&_rtB->NegSeqComputation", "&_rtDW->NegSeqComputation", "&_rtP->NegSeqComputation"], 38, 0, 7, 0, 7, 82)>\

%endif
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_359_0 = _rtB->B_97_358_0;
}
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[39], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation",39,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation", ["S", "_rtB->B_97_359_0", "_rtB->B_97_337_0", "_rtB->B_97_344_0", "_rtB->B_97_351_0", "&_rtB->ZeroSeqComputation", "&_rtDW->ZeroSeqComputation", "&_rtP->ZeroSeqComputation"], 39, 0, 7, 0, 7, 82)>\

%endif
_rtB->B_97_361_0[0] = muDoubleScalarHypot(_rtB->PosSeqComputation.B_39_2_0.re, _rtB->PosSeqComputation.B_39_2_0.im);
_rtB->B_97_361_0[1] = muDoubleScalarHypot(_rtB->NegSeqComputation.B_39_2_0.re, _rtB->NegSeqComputation.B_39_2_0.im);
_rtB->B_97_361_0[2] = muDoubleScalarHypot(_rtB->ZeroSeqComputation.B_41_1_0.re, _rtB->ZeroSeqComputation.B_41_1_0.im);
rtb_B_97_30_0[0] = muDoubleScalarAtan2(_rtB->PosSeqComputation.B_39_2_0.im, _rtB->PosSeqComputation.B_39_2_0.re);
rtb_B_97_30_0[1] = muDoubleScalarAtan2(_rtB->NegSeqComputation.B_39_2_0.im, _rtB->NegSeqComputation.B_39_2_0.re);
rtb_B_97_30_0[2] = muDoubleScalarAtan2(_rtB->ZeroSeqComputation.B_41_1_0.im, _rtB->ZeroSeqComputation.B_41_1_0.re);
_rtB->B_97_362_0 = _rtP->P_808 * _rtB->B_97_361_0[0];
_rtB->B_97_363_0 = 0.0;
_rtB->B_97_363_0 += _rtP->P_810 * _rtX->TransferFcn1_CSTATE;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    B_97_321_0_idx_0 *= B_97_328_0_idx_0;
    B_97_321_0_idx_1 *= B_97_328_0_idx_1;
    B_97_321_0_idx_2 *= B_97_328_0_idx_2;
    _rtB->B_97_365_0 = (B_97_321_0_idx_0 + B_97_321_0_idx_1) + B_97_321_0_idx_2;
}
%<tlcOutputsFcnOfS82B56>\
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    for (i = 0; i < 6; i++) {
        if (_rtB->B_97_116_1[i + 13] >= _rtP->P_813) {
            B_5_0_0_idx_3 = _rtB->B_97_116_0[i + 13] * _rtP->P_812;
        } else {
            B_5_0_0_idx_3 = _rtP->P_811;
        }
        if (B_5_0_0_idx_3 > _rtP->P_814) {
            _rtB->B_97_370_0[i] = _rtP->P_814;
        } else if (B_5_0_0_idx_3 < _rtP->P_815) {
            _rtB->B_97_370_0[i] = _rtP->P_815;
        } else {
            _rtB->B_97_370_0[i] = B_5_0_0_idx_3;
        }
    }
    for (i = 0; i < 6; i++) {
        if (_rtDW->UnitDelay_DSTATE_ew[i] != 0.0) {
            B_97_374_0[i] = _rtB->B_97_372_0[i];
        } else {
            B_97_374_0[i] = _rtB->B_97_373_0[i];
        }
    }
}
i = ssIsSampleHit(S, 3, 0);
if (i != 0) {
    _rtB->B_97_375_0[0] = _rtDW->UnitDelay2_DSTATE[0];
    _rtB->B_97_375_0[1] = _rtDW->UnitDelay2_DSTATE[1];
    _rtB->B_97_375_0[2] = _rtDW->UnitDelay2_DSTATE[2];
}
_rtB->B_97_382_0 = look1_binlxpw(muDoubleScalarRem(ssGetT(S) - _rtB->B_97_377_0, _rtB->B_97_379_0), _rtP->P_822, _rtP->P_821, 3U);
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    i = (_rtB->B_97_375_0[0] >= _rtB->B_97_382_0);
    rtb_B_97_384_0 = (i != 0);
    rtb_B_97_76_0 = !rtb_B_97_384_0;
    B_97_291_1_idx_2 = i;
    rtb_B_97_111_0 = rtb_B_97_384_0;
    i = (_rtB->B_97_375_0[1] >= _rtB->B_97_382_0);
    rtb_B_97_384_0 = (i != 0);
    B_97_385_0_idx_1 = !rtb_B_97_384_0;
    B_97_328_1_idx_1 = i;
    B_97_384_0_idx_1 = rtb_B_97_384_0;
    i = (_rtB->B_97_375_0[2] >= _rtB->B_97_382_0);
    rtb_B_97_384_0 = (i != 0);
    B_97_328_1_idx_2 = i;
    _rtB->B_97_387_0[0] = rtb_B_97_111_0;
    _rtB->B_97_387_0[1] = rtb_B_97_76_0;
    _rtB->B_97_387_0[2] = B_97_384_0_idx_1;
    _rtB->B_97_387_0[3] = B_97_385_0_idx_1;
    _rtB->B_97_387_0[4] = rtb_B_97_384_0;
    _rtB->B_97_387_0[5] = !rtb_B_97_384_0;
    tmpForInput[0] = B_97_212_0_idx_0;
    tmpForInput[1] = B_97_212_0_idx_1;
    tmpForInput[2] = B_97_212_0_idx_2;
    tmpForInput[3] = rtb_B_97_215_0;
    tmpForInput[4] = rtb_B_97_216_0;
    tmpForInput[5] = rtb_B_97_221_0;
    tmpForInput[6] = rtb_B_97_224_0;
    tmpForInput[7] = rtb_B_97_225_0;
    tmpForInput[8] = rtb_B_97_226_0;
    rtb_B_97_226_0 = -0.0;
    for (i = 0; i < 9; i++) {
        rtb_B_97_226_0 += tmpForInput[i];
    }
    B_97_395_0 = _rtP->P_823 * rtb_B_97_226_0;
    tmpForInput[0] = B_97_173_0_idx_0;
    tmpForInput[1] = B_97_173_0_idx_1;
    tmpForInput[2] = B_97_173_0_idx_2;
    tmpForInput[3] = rtb_B_97_176_0;
    tmpForInput[4] = rtb_B_97_177_0;
    tmpForInput[5] = rtb_B_97_182_0;
    tmpForInput[6] = rtb_B_97_185_0;
    tmpForInput[7] = rtb_B_97_186_0;
    tmpForInput[8] = rtb_B_97_187_0;
    rtb_B_97_396_0 = -0.0;
    for (i = 0; i < 9; i++) {
        rtb_B_97_396_0 += tmpForInput[i];
    }
    B_97_397_0 = _rtP->P_824 * rtb_B_97_396_0;
}
if (ssGetT(S) >= _rtP->P_829) {
    _rtB->B_97_405_0 = _rtB->B_97_400_0;
} else {
    if (ssGetT(S) >= _rtP->P_500) {
        _rtB->B_88_0_0 = _rtB->B_97_402_0;
    } else {
        _rtB->B_88_0_0 = _rtB->B_97_400_0;
    }
    _rtB->B_97_405_0 = _rtB->B_88_0_0;
}
%<tlcOutputsFcnOfS82B64>\
_rtB->B_97_407_0 = _rtB->B_97_406_0;
i = ssIsSampleHit(S, 1, 0);
if ((i != 0) && (ssIsMajorTimeStep(S) != 0)) {
    if (_rtB->B_97_407_0 > 0.0) {
        if (!_rtDW->GridSupportingasCurrentSourceGridFeeding_MODE) {
            if (ssGetTaskTime(S, 1) != ssGetTStart(S)) {
                ssSetBlockStateForSolverChangedAtMajorStep(S);
            }
%<SLibCGIRSetStatesDisabled(82, 65, 0)>\
            _rtDW->Integ4_SYSTEM_ENABLE_fj = 1U;
            _rtDW->GridSupportingasCurrentSourceGridFeeding_MODE = true;
        }
    } else {
        if (_rtDW->GridSupportingasCurrentSourceGridFeeding_MODE) {
            ssSetBlockStateForSolverChangedAtMajorStep(S);
%<SLibCGIRSetStatesDisabled(82, 65, 1)>\
            if (_rtDW->AutomaticGainControl_MODE_c) {
                _rtDW->AutomaticGainControl_MODE_c = false;
            }
            _rtDW->GridSupportingasCurrentSourceGridFeeding_MODE = false;
        }
    }
}
if (_rtDW->GridSupportingasCurrentSourceGridFeeding_MODE) {
    _rtB->B_27_0_0 = 0.0;
    _rtB->B_27_0_0 += _rtP->P_59 * _rtX->TransferFcn1_CSTATE_p;
    _rtB->B_27_2_0 = _rtB->B_27_0_0 - _rtB->B_27_1_0;
    if (ssGetT(S) >= _rtP->P_62) {
        _rtB->B_27_5_0 = _rtB->B_27_2_0;
    } else {
        _rtB->B_27_5_0 = _rtB->B_27_4_0;
    }
    _rtB->B_27_6_0 = _rtX->Integrator_CSTATE_e;
    _rtB->B_27_7_0 = _rtP->P_64 * _rtB->B_27_5_0;
    _rtB->B_27_8_0 = _rtX->Filter_CSTATE_pr;
    _rtB->B_27_9_0 = _rtB->B_27_7_0 - _rtB->B_27_8_0;
    _rtB->B_27_10_0 = _rtP->P_66 * _rtB->B_27_9_0;
    _rtB->B_27_11_0 = 0.0;
    _rtB->B_27_11_0 += _rtP->P_68 * _rtX->TransferFcn2_CSTATE_f;
    _rtB->B_27_13_0 = _rtX->Integrator_CSTATE_o;
    _rtB->B_27_14_0 = _rtP->P_71 * _rtB->B_27_11_0;
    _rtB->B_27_15_0 = _rtX->Filter_CSTATE_d;
    _rtB->B_27_16_0 = _rtB->B_27_14_0 - _rtB->B_27_15_0;
    _rtB->B_27_17_0 = _rtP->P_73 * _rtB->B_27_16_0;
    _rtB->B_27_19_0 = 0.0;
    _rtB->B_27_19_0 += _rtP->P_75 * _rtX->TransferFcn4_CSTATE_p;
    _rtB->B_27_20_0 = _rtX->Integrator_CSTATE_p;
    _rtB->B_27_21_0 = _rtP->P_77 * _rtB->B_27_19_0;
    _rtB->B_27_22_0 = _rtX->Filter_CSTATE_j;
    _rtB->B_27_23_0 = _rtB->B_27_21_0 - _rtB->B_27_22_0;
    _rtB->B_27_24_0 = _rtP->P_79 * _rtB->B_27_23_0;
    if (ssGetT(S) >= _rtP->P_80) {
        rtb_B_97_176_0 = ((_rtP->P_23 * _rtB->B_27_5_0 + _rtB->B_27_6_0) + _rtB->B_27_10_0) + ((_rtP->P_69 * _rtB->B_27_11_0 + _rtB->B_27_13_0) + _rtB->B_27_17_0);
    } else {
        rtb_B_97_176_0 = (_rtP->P_69 * _rtB->B_27_11_0 + _rtB->B_27_13_0) + _rtB->B_27_17_0;
    }
    _rtB->B_27_31_0 = _rtP->P_81 * _rtB->B_27_11_0;
    _rtB->B_27_32_0 = _rtP->P_82 * _rtB->B_27_5_0;
    _rtB->B_27_33_0 = _rtP->P_83 * _rtB->B_27_19_0;
    if (ssGetT(S) >= _rtP->P_85) {
        _rtB->B_27_35_0 = _rtB->B_27_2_0;
    } else {
        _rtB->B_27_35_0 = _rtB->B_27_34_0;
    }
    if (ssGetT(S) >= _rtP->P_87) {
        _rtB->B_27_37_0 = _rtB->B_27_2_0;
    } else {
        _rtB->B_27_37_0 = _rtB->B_27_36_0;
    }
    if (ssGetT(S) >= _rtP->P_88) {
        rtb_B_97_176_0 += (_rtP->P_22 * _rtB->B_27_19_0 + _rtB->B_27_20_0) + _rtB->B_27_24_0;
    }
    _rtB->B_27_40_0 = 0.0;
    _rtB->B_27_40_0 += _rtP->P_90 * _rtX->TransferFcn4_CSTATE_d;
    _rtB->B_27_41_0 = _rtX->Integrator_CSTATE_pv;
    _rtB->B_27_42_0 = _rtP->P_92 * _rtB->B_27_40_0;
    _rtB->B_27_43_0 = _rtX->Filter_CSTATE_l;
    _rtB->B_27_44_0 = _rtB->B_27_42_0 - _rtB->B_27_43_0;
    _rtB->B_27_45_0 = _rtP->P_94 * _rtB->B_27_44_0;
    _rtB->B_27_47_0 = _rtB->B_97_362_0 - _rtB->B_27_46_0;
    if (ssGetT(S) >= _rtP->P_97) {
        _rtB->B_27_50_0 = _rtB->B_27_47_0;
    } else {
        _rtB->B_27_50_0 = _rtB->B_27_49_0;
    }
    _rtB->B_27_51_0 = _rtX->Integrator_CSTATE_ou;
    _rtB->B_27_52_0 = _rtP->P_99 * _rtB->B_27_50_0;
    _rtB->B_27_53_0 = _rtX->Filter_CSTATE_f;
    _rtB->B_27_54_0 = _rtB->B_27_52_0 - _rtB->B_27_53_0;
    _rtB->B_27_55_0 = _rtP->P_101 * _rtB->B_27_54_0;
    _rtB->B_27_56_0 = 0.0;
    _rtB->B_27_56_0 += _rtP->P_103 * _rtX->TransferFcn2_CSTATE_b;
    _rtB->B_27_58_0 = _rtX->Integrator_CSTATE_cm;
    _rtB->B_27_59_0 = _rtP->P_106 * _rtB->B_27_56_0;
    _rtB->B_27_60_0 = _rtX->Filter_CSTATE_n;
    _rtB->B_27_61_0 = _rtB->B_27_59_0 - _rtB->B_27_60_0;
    _rtB->B_27_62_0 = _rtP->P_108 * _rtB->B_27_61_0;
    if (ssGetT(S) >= _rtP->P_109) {
        rtb_B_97_82_0 = ((_rtP->P_57 * _rtB->B_27_50_0 + _rtB->B_27_51_0) + _rtB->B_27_55_0) + ((_rtP->P_104 * _rtB->B_27_56_0 + _rtB->B_27_58_0) + _rtB->B_27_62_0);
    } else {
        rtb_B_97_82_0 = (_rtP->P_104 * _rtB->B_27_56_0 + _rtB->B_27_58_0) + _rtB->B_27_62_0;
    }
    if (ssGetT(S) >= _rtP->P_110) {
        rtb_B_97_82_0 += (_rtP->P_56 * _rtB->B_27_40_0 + _rtB->B_27_41_0) + _rtB->B_27_45_0;
    }
    _rtB->B_27_72_0 = _rtP->P_112 * rtb_B_97_176_0 + _rtB->B_97_398_0;
    if (ssIsMajorTimeStep(S) != 0) {
        _rtDW->Saturation_MODE_i = _rtB->B_27_72_0 >= _rtP->P_113 ? 1 : _rtB->B_27_72_0 > _rtP->P_114 ? 0 : -1;
    }
    rtb_B_97_176_0 = _rtDW->Saturation_MODE_i == 1 ? _rtP->P_113 : _rtDW->Saturation_MODE_i == -1 ? _rtP->P_114 : _rtB->B_27_72_0;
    _rtB->B_27_74_0 = _rtP->P_111 * rtb_B_97_82_0 + _rtB->B_97_399_0;
    if (ssIsMajorTimeStep(S) != 0) {
        _rtDW->Saturation1_MODE_d = _rtB->B_27_74_0 >= _rtP->P_115 ? 1 : _rtB->B_27_74_0 > _rtP->P_116 ? 0 : -1;
    }
    rtb_B_97_82_0 = _rtDW->Saturation1_MODE_d == 1 ? _rtP->P_115 : _rtDW->Saturation1_MODE_d == -1 ? _rtP->P_116 : _rtB->B_27_74_0;
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        _rtB->B_27_78_0 = muDoubleScalarMod(_rtDW->DiscreteTimeIntegrator_DSTATE_i, _rtB->B_27_77_0);
        B_27_79_0_idx_0 = _rtP->P_120 * B_97_173_0_idx_0;
        B_27_79_0_idx_1 = _rtP->P_120 * B_97_173_0_idx_1;
        B_27_79_0_idx_2 = _rtP->P_120 * B_97_173_0_idx_2;
        rtb_B_27_80_0 = muDoubleScalarSin(_rtB->B_27_78_0);
        rtb_B_27_81_0 = muDoubleScalarCos(_rtB->B_27_78_0);
        rtb_B_27_86_0 = (0.0 - rtb_B_27_80_0 * _rtB->B_27_82_0) - rtb_B_27_81_0 * _rtB->B_27_84_0;
        rtb_B_27_89_0 = rtb_B_27_80_0 * _rtB->B_27_84_0 - rtb_B_27_81_0 * _rtB->B_27_82_0;
        rtb_B_27_90_0 = (0.0 - rtb_B_27_86_0) - rtb_B_27_80_0;
        rtb_B_27_91_0 = (0.0 - rtb_B_27_89_0) - rtb_B_27_81_0;
        _rtB->B_27_92_0 = ((B_27_79_0_idx_0 * rtb_B_27_80_0 + B_27_79_0_idx_1 * rtb_B_27_86_0) + B_27_79_0_idx_2 * rtb_B_27_90_0) * 0.66666666666666663;
        _rtB->B_27_93_0 = ((B_27_79_0_idx_0 * rtb_B_27_81_0 + B_27_79_0_idx_1 * rtb_B_27_89_0) + B_27_79_0_idx_2 * rtb_B_27_91_0) * 0.66666666666666663;
        B_27_95_0_idx_0 = _rtP->P_123 * B_97_212_0_idx_0 * _rtP->P_124;
        B_27_95_0_idx_1 = _rtP->P_123 * B_97_212_0_idx_1 * _rtP->P_124;
        B_27_95_0_idx_2 = _rtP->P_123 * B_97_212_0_idx_2 * _rtP->P_124;
        rtb_B_27_100_0 = (0.0 - rtb_B_27_80_0 * _rtB->B_27_96_0) - rtb_B_27_81_0 * _rtB->B_27_98_0;
        rtb_B_27_103_0 = rtb_B_27_80_0 * _rtB->B_27_98_0 - rtb_B_27_81_0 * _rtB->B_27_96_0;
        rtb_B_27_104_0 = (0.0 - rtb_B_27_100_0) - rtb_B_27_80_0;
        rtb_B_27_105_0 = (0.0 - rtb_B_27_103_0) - rtb_B_27_81_0;
        _rtB->B_27_106_0 = ((B_27_95_0_idx_0 * rtb_B_27_80_0 + B_27_95_0_idx_1 * rtb_B_27_100_0) + B_27_95_0_idx_2 * rtb_B_27_104_0) * 0.66666666666666663;
        _rtB->B_27_107_0 = ((B_27_95_0_idx_0 * rtb_B_27_81_0 + B_27_95_0_idx_1 * rtb_B_27_103_0) + B_27_95_0_idx_2 * rtb_B_27_105_0) * 0.66666666666666663;
%<tlcOutputsFcnOfS27B4>\
    }
    _rtB->B_27_110_0 = (_rtB->B_97_259_0[0] - rtb_B_97_176_0) * _rtP->P_127;
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        _rtB->B_27_112_0 = _rtP->P_129 * _rtB->B_27_110_0;
        _rtB->B_27_113_0 = _rtP->P_130 * _rtB->B_27_112_0 + _rtDW->Integrator_DSTATE_b;
        B_5_0_0_idx_3 = _rtP->P_128 * _rtB->B_27_110_0 + _rtB->B_27_113_0;
        if (B_5_0_0_idx_3 > _rtP->P_132) {
            _rtB->B_27_115_0 = _rtP->P_132;
        } else if (B_5_0_0_idx_3 < _rtP->P_133) {
            _rtB->B_27_115_0 = _rtP->P_133;
        } else {
            _rtB->B_27_115_0 = B_5_0_0_idx_3;
        }
    }
    _rtB->B_27_117_0 = (_rtB->B_97_259_0[1] - rtb_B_97_82_0) * _rtP->P_134;
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        _rtB->B_27_119_0 = _rtP->P_136 * _rtB->B_27_117_0;
        _rtB->B_27_120_0 = _rtP->P_137 * _rtB->B_27_119_0 + _rtDW->Integrator_DSTATE_e;
        B_5_0_0_idx_3 = _rtP->P_135 * _rtB->B_27_117_0 + _rtB->B_27_120_0;
        if (B_5_0_0_idx_3 > _rtP->P_139) {
            _rtB->B_27_122_0 = _rtP->P_139;
        } else if (B_5_0_0_idx_3 < _rtP->P_140) {
            _rtB->B_27_122_0 = _rtP->P_140;
        } else {
            _rtB->B_27_122_0 = B_5_0_0_idx_3;
        }
        _rtB->B_27_123_0[0] = _rtB->B_27_115_0 - _rtB->B_27_106_0;
        _rtB->B_27_123_0[1] = _rtB->B_27_122_0 - _rtB->B_27_107_0;
        B_5_0_0_idx_3 = _rtP->P_141 * _rtB->B_27_123_0[0] + _rtDW->Integrator_DSTATE_b2[0];
        if (B_5_0_0_idx_3 > _rtP->P_144) {
            _rtB->B_27_127_0[0] = _rtP->P_144;
        } else if (B_5_0_0_idx_3 < _rtP->P_145) {
            _rtB->B_27_127_0[0] = _rtP->P_145;
        } else {
            _rtB->B_27_127_0[0] = B_5_0_0_idx_3;
        }
        B_5_0_0_idx_3 = _rtP->P_141 * _rtB->B_27_123_0[1] + _rtDW->Integrator_DSTATE_b2[1];
        if (B_5_0_0_idx_3 > _rtP->P_144) {
            _rtB->B_27_127_0[1] = _rtP->P_144;
        } else if (B_5_0_0_idx_3 < _rtP->P_145) {
            _rtB->B_27_127_0[1] = _rtP->P_145;
        } else {
            _rtB->B_27_127_0[1] = B_5_0_0_idx_3;
        }
        _rtB->B_27_130_0 = (_rtP->P_146 * _rtB->B_27_115_0 + _rtB->B_27_92_0) - _rtP->P_147 * _rtB->B_27_122_0;
        _rtB->B_27_133_0 = (_rtP->P_148 * _rtB->B_27_122_0 + _rtB->B_27_93_0) + _rtP->P_149 * _rtB->B_27_115_0;
        _rtB->B_27_135_0[0] = (_rtB->B_27_127_0[0] + _rtB->B_27_130_0) * _rtP->P_150;
        _rtB->B_27_135_0[1] = (_rtB->B_27_127_0[1] + _rtB->B_27_133_0) * _rtP->P_150;
        if (_rtB->B_27_135_0[0] > _rtP->P_151) {
            _rtB->B_27_136_0[0] = _rtP->P_151;
        } else if (_rtB->B_27_135_0[0] < _rtP->P_152) {
            _rtB->B_27_136_0[0] = _rtP->P_152;
        } else {
            _rtB->B_27_136_0[0] = _rtB->B_27_135_0[0];
        }
        if (_rtB->B_27_135_0[1] > _rtP->P_151) {
            _rtB->B_27_136_0[1] = _rtP->P_151;
        } else if (_rtB->B_27_135_0[1] < _rtP->P_152) {
            _rtB->B_27_136_0[1] = _rtP->P_152;
        } else {
            _rtB->B_27_136_0[1] = _rtB->B_27_135_0[1];
        }
        B_5_0_0_idx_3 = _rtB->B_27_136_0[0] / _rtB->B_27_140_0;
        rtb_B_97_176_0 = _rtB->B_27_136_0[1] / _rtB->B_27_140_0;
        rtb_B_97_82_0 = muDoubleScalarAtan2(rtb_B_97_176_0, B_5_0_0_idx_3);
        rtb_B_97_176_0 = muDoubleScalarHypot(B_5_0_0_idx_3, rtb_B_97_176_0);
        if (rtb_B_97_176_0 > _rtP->P_156) {
            rtb_B_97_176_0 = _rtP->P_156;
        } else {
            if (rtb_B_97_176_0 < _rtP->P_157) {
                rtb_B_97_176_0 = _rtP->P_157;
            }
        }
        _rtB->B_27_151_0[0] = muDoubleScalarSin((((_rtB->B_27_78_0 + _rtB->B_27_145_0[0]) + _rtB->B_27_146_0) + _rtB->B_27_147_0) + rtb_B_97_82_0) * rtb_B_97_176_0;
        _rtB->B_27_151_0[1] = muDoubleScalarSin((((_rtB->B_27_78_0 + _rtB->B_27_145_0[1]) + _rtB->B_27_146_0) + _rtB->B_27_147_0) + rtb_B_97_82_0) * rtb_B_97_176_0;
        _rtB->B_27_151_0[2] = muDoubleScalarSin((((_rtB->B_27_78_0 + _rtB->B_27_145_0[2]) + _rtB->B_27_146_0) + _rtB->B_27_147_0) + rtb_B_97_82_0) * rtb_B_97_176_0;
%<tlcOutputsFcnOfS27B5>\
%<tlcOutputsFcnOfS27B6>\
%<tlcOutputsFcnOfS27B7>\
%<tlcOutputsFcnOfS27B8>\
%<tlcOutputsFcnOfS27B9>\
%<tlcOutputsFcnOfS27B10>\
%<tlcOutputsFcnOfS27B11>\
%<tlcOutputsFcnOfS27B12>\
%<tlcOutputsFcnOfS27B13>\
%<tlcOutputsFcnOfS27B14>\
        _rtB->B_27_162_0[0] = _rtP->P_161 * _rtB->B_27_123_0[0];
        _rtB->B_27_162_0[1] = _rtP->P_161 * _rtB->B_27_123_0[1];
    }
%<tlcOutputsFcnOfS27B15>\
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
%<tlcOutputsFcnOfS27B16>\
        rtb_B_97_176_0 = (0.0 - rtb_B_27_80_0 * _rtB->B_27_165_0) - rtb_B_27_81_0 * _rtB->B_27_167_0;
        rtb_B_97_226_0 = rtb_B_27_80_0 * _rtB->B_27_167_0 - rtb_B_27_81_0 * _rtB->B_27_165_0;
        rtb_B_97_396_0 = (0.0 - rtb_B_97_176_0) - rtb_B_27_80_0;
        rtb_B_97_177_0 = (0.0 - rtb_B_97_226_0) - rtb_B_27_81_0;
        _rtB->B_27_175_0 = ((B_27_79_0_idx_0 * rtb_B_27_81_0 + B_27_79_0_idx_1 * rtb_B_97_226_0) + B_27_79_0_idx_2 * rtb_B_97_177_0) * 0.66666666666666663;
        if (_rtDW->Integ4_SYSTEM_ENABLE_fj != 0) {
            _rtB->B_27_176_0 = _rtDW->Integ4_DSTATE_p3;
        } else {
            _rtB->B_27_176_0 = _rtP->P_164 * _rtB->B_27_175_0 + _rtDW->Integ4_DSTATE_p3;
        }
        rtb_B_97_182_0 = _rtDW->UnitDelay_DSTATE_oo;
        if (_rtDW->UnitDelay_DSTATE_oo > _rtP->P_167) {
            B_5_0_0_idx_3 = _rtP->P_167;
        } else if (_rtDW->UnitDelay_DSTATE_oo < _rtP->P_168) {
            B_5_0_0_idx_3 = _rtP->P_168;
        } else {
            B_5_0_0_idx_3 = _rtDW->UnitDelay_DSTATE_oo;
        }
        rtb_B_97_185_0 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
        rtb_B_97_186_0 = muDoubleScalarCeil(rtb_B_97_185_0);
        _rtB->B_27_181_0 = _rtP->P_169 * rtb_B_97_186_0;
%<tlcOutputsFcnOfS27B17>\
        rtb_B_97_82_0 = ssGetTaskTime(S, 2);
        if (rtb_B_97_82_0 < _rtP->P_171) {
            rtb_B_97_82_0 = _rtP->P_172;
        } else {
            rtb_B_97_82_0 = _rtP->P_173;
        }
        if (rtb_B_97_82_0 >= _rtP->P_175) {
            rtb_B_97_82_0 = rtb_B_97_185_0 - rtb_B_97_186_0;
            rtb_B_97_185_0 = ((_rtB->B_27_175_0 - _rtDW->UnitDelay_DSTATE_k2) * rtb_B_97_82_0 * _rtP->P_55 + _rtB->B_27_175_0) * (rtb_B_97_82_0 / rtb_B_97_185_0) + (_rtB->B_27_176_0 - _rtB->B_27_182_0) * rtb_B_97_182_0;
        } else {
            rtb_B_97_185_0 = _rtP->P_174;
        }
        _rtB->B_27_189_0 = _rtB->B_27_188_0;
        i = ssIsSampleHit(S, 2, 0);
        if ((i != 0) && (ssIsMajorTimeStep(S) != 0)) {
            if (_rtB->B_27_189_0 > 0.0) {
                if (!_rtDW->AutomaticGainControl_MODE_c) {
                    if (ssGetTaskTime(S, 2) != ssGetTStart(S)) {
                        ssSetBlockStateForSolverChangedAtMajorStep(S);
                    }
%<SLibCGIRSetStatesDisabled(27, 19, 0)>\
                    _rtDW->Integ4_SYSTEM_ENABLE_gq = 1U;
                    _rtDW->Integ4_SYSTEM_ENABLE_li = 1U;
                    _rtDW->AutomaticGainControl_MODE_c = true;
                }
            } else {
                if (_rtDW->AutomaticGainControl_MODE_c) {
                    ssSetBlockStateForSolverChangedAtMajorStep(S);
%<SLibCGIRSetStatesDisabled(27, 19, 1)>\
                    _rtDW->AutomaticGainControl_MODE_c = false;
                }
            }
        }
        if (_rtDW->AutomaticGainControl_MODE_c) {
            i = ssIsSampleHit(S, 2, 0);
            if (i != 0) {
                rtb_B_97_186_0 = (0.0 - rtb_B_27_80_0 * _rtB->B_23_0_0) - rtb_B_27_81_0 * _rtB->B_23_2_0;
                rtb_B_97_187_0 = rtb_B_27_80_0 * _rtB->B_23_2_0 - rtb_B_27_81_0 * _rtB->B_23_0_0;
                rtb_B_97_215_0 = (0.0 - rtb_B_97_186_0) - rtb_B_27_80_0;
                rtb_B_97_216_0 = (0.0 - rtb_B_97_187_0) - rtb_B_27_81_0;
                _rtB->B_23_10_0 = ((B_27_79_0_idx_0 * rtb_B_27_80_0 + B_27_79_0_idx_1 * rtb_B_97_186_0) + B_27_79_0_idx_2 * rtb_B_97_215_0) * 0.66666666666666663;
                if (_rtDW->Integ4_SYSTEM_ENABLE_gq != 0) {
                    _rtB->B_23_11_0 = _rtDW->Integ4_DSTATE_jl;
                } else {
                    _rtB->B_23_11_0 = _rtP->P_29 * _rtB->B_23_10_0 + _rtDW->Integ4_DSTATE_jl;
                }
                if (rtb_B_97_182_0 > _rtP->P_31) {
                    rtb_B_97_82_0 = _rtP->P_31;
                } else if (rtb_B_97_182_0 < _rtP->P_32) {
                    rtb_B_97_82_0 = _rtP->P_32;
                } else {
                    rtb_B_97_82_0 = rtb_B_97_182_0;
                }
                rtb_B_97_221_0 = 1.0 / rtb_B_97_82_0 / 1.0e-5;
                rtb_B_97_224_0 = muDoubleScalarCeil(rtb_B_97_221_0);
                _rtB->B_23_15_0 = _rtP->P_33 * rtb_B_97_224_0;
%<tlcOutputsFcnOfS23B0>\
                rtb_B_97_82_0 = ssGetTaskTime(S, 2);
                if (rtb_B_97_82_0 < _rtP->P_35) {
                    rtb_B_97_82_0 = _rtP->P_36;
                } else {
                    rtb_B_97_82_0 = _rtP->P_37;
                }
                if (rtb_B_97_82_0 >= _rtP->P_39) {
                    rtb_B_97_82_0 = rtb_B_97_221_0 - rtb_B_97_224_0;
                    rtb_B_97_221_0 = ((_rtB->B_23_10_0 - _rtDW->UnitDelay_DSTATE_cu) * rtb_B_97_82_0 * _rtP->P_24 + _rtB->B_23_10_0) * (rtb_B_97_82_0 / rtb_B_97_221_0) + (_rtB->B_23_11_0 - _rtB->B_23_16_0) * rtb_B_97_182_0;
                } else {
                    rtb_B_97_221_0 = _rtP->P_38;
                }
                _rtB->B_23_22_0 = ((B_27_79_0_idx_0 * rtb_B_27_81_0 + B_27_79_0_idx_1 * rtb_B_97_187_0) + B_27_79_0_idx_2 * rtb_B_97_216_0) * 0.66666666666666663;
                if (_rtDW->Integ4_SYSTEM_ENABLE_li != 0) {
                    _rtB->B_23_23_0 = _rtDW->Integ4_DSTATE_it;
                } else {
                    _rtB->B_23_23_0 = _rtP->P_40 * _rtB->B_23_22_0 + _rtDW->Integ4_DSTATE_it;
                }
                if (rtb_B_97_182_0 > _rtP->P_42) {
                    rtb_B_97_82_0 = _rtP->P_42;
                } else if (rtb_B_97_182_0 < _rtP->P_43) {
                    rtb_B_97_82_0 = _rtP->P_43;
                } else {
                    rtb_B_97_82_0 = rtb_B_97_182_0;
                }
                rtb_B_97_224_0 = 1.0 / rtb_B_97_82_0 / 1.0e-5;
                rtb_B_97_225_0 = muDoubleScalarCeil(rtb_B_97_224_0);
                _rtB->B_23_27_0 = _rtP->P_44 * rtb_B_97_225_0;
%<tlcOutputsFcnOfS23B2>\
                rtb_B_97_82_0 = ssGetTaskTime(S, 2);
                if (rtb_B_97_82_0 < _rtP->P_46) {
                    rtb_B_97_82_0 = _rtP->P_47;
                } else {
                    rtb_B_97_82_0 = _rtP->P_48;
                }
                if (rtb_B_97_82_0 >= _rtP->P_50) {
                    rtb_B_97_82_0 = rtb_B_97_224_0 - rtb_B_97_225_0;
                    rtb_B_97_82_0 = ((_rtB->B_23_22_0 - _rtDW->UnitDelay_DSTATE_eb) * rtb_B_97_82_0 * _rtP->P_25 + _rtB->B_23_22_0) * (rtb_B_97_82_0 / rtb_B_97_224_0) + (_rtB->B_23_23_0 - _rtB->B_23_28_0) * rtb_B_97_182_0;
                } else {
                    rtb_B_97_82_0 = _rtP->P_49;
                }
                B_23_36_0 = _rtP->P_51 * muDoubleScalarAtan2(rtb_B_97_82_0, rtb_B_97_221_0);
                tmpForInput[0] = B_27_79_0_idx_0;
                tmpForInput[1] = B_27_79_0_idx_1;
                tmpForInput[2] = B_27_79_0_idx_2;
                tmpForInput[3] = rtb_B_27_80_0;
                tmpForInput[4] = rtb_B_27_81_0;
                tmpForInput[5] = rtb_B_97_186_0;
                tmpForInput[6] = rtb_B_97_187_0;
                tmpForInput[7] = rtb_B_97_215_0;
                tmpForInput[8] = rtb_B_97_216_0;
                B_5_0_0_idx_3 = -0.0;
                for (i = 0; i < 9; i++) {
                    B_5_0_0_idx_3 += tmpForInput[i];
                }
                B_23_38_0 = _rtP->P_52 * B_5_0_0_idx_3;
                B_5_0_0_idx_3 = muDoubleScalarHypot(rtb_B_97_221_0, rtb_B_97_82_0);
                if (B_5_0_0_idx_3 > _rtP->P_53) {
                    B_5_0_0_idx_3 = _rtP->P_53;
                } else {
                    if (B_5_0_0_idx_3 < _rtP->P_54) {
                        B_5_0_0_idx_3 = _rtP->P_54;
                    }
                }
                _rtB->B_23_40_0 = 1.0 / B_5_0_0_idx_3;
            }
            if (ssIsMajorTimeStep(S) != 0) {
                srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC_nm);
            }
        }
        rtb_B_97_82_0 = rtb_B_97_185_0 * _rtB->B_23_40_0;
        _rtB->B_27_196_0 = _rtP->P_182 * rtb_B_97_82_0 * _rtP->P_183;
        B_27_197_0 = _rtDW->UD_DSTATE_i;
        B_27_198_0 = _rtB->B_27_196_0 - B_27_197_0;
        B_5_0_0_idx_3 = (_rtP->P_177 * rtb_B_97_82_0 + _rtDW->DiscreteTimeIntegrator_DSTATE_oj) + B_27_198_0;
        if (B_5_0_0_idx_3 > _rtP->P_185) {
            _rtB->B_27_200_0 = _rtP->P_185;
        } else if (B_5_0_0_idx_3 < _rtP->P_186) {
            _rtB->B_27_200_0 = _rtP->P_186;
        } else {
            _rtB->B_27_200_0 = B_5_0_0_idx_3;
        }
        B_5_0_0_idx_3 = _rtP->P_187 * _rtB->B_27_200_0 - _rtDW->UnitDelay_DSTATE_b4;
        if (B_5_0_0_idx_3 > _rtP->P_189) {
            B_5_0_0_idx_3 = _rtP->P_189;
        } else {
            if (B_5_0_0_idx_3 < _rtP->P_190) {
                B_5_0_0_idx_3 = _rtP->P_190;
            }
        }
        _rtB->B_27_205_0 = B_5_0_0_idx_3 + _rtDW->UnitDelay_DSTATE_b4;
%<tlcOutputsFcnOfS27B20>\
        _rtB->B_27_208_0 = _rtP->P_196 * rtb_B_97_82_0;
        B_27_209_0 = ((B_27_79_0_idx_0 * rtb_B_27_80_0 + B_27_79_0_idx_1 * rtb_B_97_176_0) + B_27_79_0_idx_2 * rtb_B_97_396_0) * 0.66666666666666663;
        tmpForInput[0] = B_27_79_0_idx_0;
        tmpForInput[1] = B_27_79_0_idx_1;
        tmpForInput[2] = B_27_79_0_idx_2;
        tmpForInput[3] = rtb_B_27_80_0;
        tmpForInput[4] = rtb_B_27_81_0;
        tmpForInput[5] = rtb_B_97_176_0;
        tmpForInput[6] = rtb_B_97_226_0;
        tmpForInput[7] = rtb_B_97_396_0;
        tmpForInput[8] = rtb_B_97_177_0;
        rtb_B_97_177_0 = -0.0;
        for (i = 0; i < 9; i++) {
            rtb_B_97_177_0 += tmpForInput[i];
        }
        B_27_211_0 = _rtP->P_197 * rtb_B_97_177_0;
        tmpForInput[0] = B_27_79_0_idx_0;
        tmpForInput[1] = B_27_79_0_idx_1;
        tmpForInput[2] = B_27_79_0_idx_2;
        tmpForInput[3] = rtb_B_27_80_0;
        tmpForInput[4] = rtb_B_27_81_0;
        tmpForInput[5] = rtb_B_27_86_0;
        tmpForInput[6] = rtb_B_27_89_0;
        tmpForInput[7] = rtb_B_27_90_0;
        tmpForInput[8] = rtb_B_27_91_0;
        B_27_79_0_idx_0 = -0.0;
        for (i = 0; i < 9; i++) {
            B_27_79_0_idx_0 += tmpForInput[i];
        }
        B_27_213_0 = _rtP->P_198 * B_27_79_0_idx_0;
        tmpForInput[0] = B_27_95_0_idx_0;
        tmpForInput[1] = B_27_95_0_idx_1;
        tmpForInput[2] = B_27_95_0_idx_2;
        tmpForInput[3] = rtb_B_27_80_0;
        tmpForInput[4] = rtb_B_27_81_0;
        tmpForInput[5] = rtb_B_27_100_0;
        tmpForInput[6] = rtb_B_27_103_0;
        tmpForInput[7] = rtb_B_27_104_0;
        tmpForInput[8] = rtb_B_27_105_0;
        B_27_95_0_idx_0 = -0.0;
        for (i = 0; i < 9; i++) {
            B_27_95_0_idx_0 += tmpForInput[i];
        }
        B_27_215_0 = _rtP->P_199 * B_27_95_0_idx_0;
        rtb_B_97_82_0 = look1_pbinlxpw(muDoubleScalarRem(ssGetTaskTime(S, 2) + _rtP->P_200, _rtP->P_201) * _rtP->P_202, _rtP->P_204, _rtP->P_203, &_rtDW->m_bpIndex_b, 2U);
        B_27_224_0 = rtb_B_97_82_0 - _rtP->P_205;
    }
    i = ssIsSampleHit(S, 1, 0);
    if (i != 0) {
        _rtB->B_27_226_0 = _rtP->P_206;
    }
    rtb_B_97_82_0 = ssGetT(S) + _rtB->B_27_226_0;
    i = ssIsSampleHit(S, 1, 0);
    if (i != 0) {
        _rtB->B_27_228_0 = _rtP->P_207;
    }
    rtb_B_97_82_0 = look1_pbinlxpw(_rtP->P_208 * muDoubleScalarRem(rtb_B_97_82_0, _rtB->B_27_228_0), _rtP->P_210, _rtP->P_209, &_rtDW->m_bpIndex_j, 2U);
    i = ssIsSampleHit(S, 1, 0);
    if (i != 0) {
        _rtB->B_27_232_0 = _rtP->P_211;
    }
    B_27_233_0 = rtb_B_97_82_0 - _rtB->B_27_232_0;
    i = ssIsSampleHit(S, 4, 0);
    if (i != 0) {
        _rtB->B_27_234_0 = _rtDW->UnitDelay_DSTATE_f3;
    }
    _rtB->B_27_237_0 = _rtP->P_213 * _rtB->B_27_56_0;
    _rtB->B_27_238_0 = _rtP->P_214 * _rtB->B_27_50_0;
    _rtB->B_27_239_0 = _rtP->P_215 * _rtB->B_27_40_0;
    if (ssGetT(S) >= _rtP->P_217) {
        _rtB->B_27_241_0 = _rtB->B_27_47_0;
    } else {
        _rtB->B_27_241_0 = _rtB->B_27_240_0;
    }
    if (ssGetT(S) >= _rtP->P_219) {
        _rtB->B_27_243_0 = _rtB->B_27_47_0;
    } else {
        _rtB->B_27_243_0 = _rtB->B_27_242_0;
    }
    if (ssIsMajorTimeStep(S) != 0) {
        srUpdateBC(_rtDW->GridSupportingasCurrentSourceGridFeeding_SubsysRanBC);
    }
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    rtb_B_97_409_0 = _rtP->P_832 * _rtB->B_97_116_0[35];
    rtb_B_97_410_0 = _rtP->P_833 * _rtB->B_97_116_0[36];
    rtb_B_97_411_0 = _rtP->P_834 * _rtB->B_97_116_0[37];
    B_97_412_0_idx_0 = _rtP->P_835 * rtb_B_97_409_0;
    B_97_412_0_idx_1 = _rtP->P_835 * rtb_B_97_410_0;
    B_97_412_0_idx_2 = _rtP->P_835 * rtb_B_97_411_0;
}
rtPrevAction = _rtDW->If1_ActiveSubsystem;
if (ssIsMajorTimeStep(S) != 0) {
    rtAction = (int8_T)!(_rtB->B_97_405_0 > 0.5);
    _rtDW->If1_ActiveSubsystem = rtAction;
} else {
    rtAction = _rtDW->If1_ActiveSubsystem;
}
if (rtPrevAction != rtAction) {
    switch (rtPrevAction) {
      case 0:
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[37], "Disable",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2_Disable",37,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2_Disable", ["S"], 37, 0, 15, 0, 7, 82)>\

%endif
        break;
      case 1:
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[37], "Disable",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2_Disable",37,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2_Disable", ["S"], 37, 1, 15, 0, 7, 82)>\

%endif
        break;
    }
}
switch (rtAction) {
  case 0:
    if (rtAction != rtPrevAction) {
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[37], "Enable",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2_Enable",37,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2_Enable", ["S"], 37, 0, 14, 0, 7, 82)>\

%endif
    }
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[37], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2",37,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2",37,2)
%<SLibCGIRAccessLocalVar(185, 0, "")> %% B_97_418_0
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2", ["S", "_rtB->B_97_414_0", "&B_97_418_0"], 37, 0, 7, 0, 7, 82)>\

%endif
    if (ssIsMajorTimeStep(S) != 0) {
        srUpdateBC(_rtDW->IfActionSubsystem2.IfActionSubsystem2_SubsysRanBC);
    }
    break;
  case 1:
    if (rtAction != rtPrevAction) {
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[37], "Enable",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2_Enable",37,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2_Enable", ["S"], 37, 1, 14, 0, 7, 82)>\

%endif
    }
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[37], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2",37,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2",37,2)
%<SLibCGIRAccessLocalVar(185, 0, "")> %% B_97_418_0
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_IfActionSubsystem2", ["S", "_rtB->B_97_413_0", "&B_97_418_0"], 37, 1, 7, 0, 7, 82)>\

%endif
    if (ssIsMajorTimeStep(S) != 0) {
        srUpdateBC(_rtDW->IfActionSubsystem3.IfActionSubsystem2_SubsysRanBC);
    }
    break;
}
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_419_0 = B_97_418_0;
    if (ssIsMajorTimeStep(S) != 0) {
        if (_rtB->B_97_419_0 > 0.0) {
            if (!_rtDW->Gridforming_MODE) {
                if (ssGetTaskTime(S, 1) != ssGetTStart(S)) {
                    ssSetBlockStateForSolverChangedAtMajorStep(S);
                }
%<SLibCGIRSetStatesDisabled(82, 68, 0)>\
                _rtDW->Integ4_SYSTEM_ENABLE_bq = 1U;
                _rtDW->Gridforming_MODE = true;
            }
        } else {
            if (_rtDW->Gridforming_MODE) {
                ssSetBlockStateForSolverChangedAtMajorStep(S);
%<SLibCGIRSetStatesDisabled(82, 68, 1)>\
                if (_rtDW->Subsystem1_MODE) {
                    _rtDW->Subsystem1_MODE = false;
                }
                if (_rtDW->Subsystempi2delay_MODE) {
                    _rtDW->Subsystempi2delay_MODE = false;
                }
                if (_rtDW->AutomaticGainControl_MODE_ab) {
                    _rtDW->AutomaticGainControl_MODE_ab = false;
                }
                _rtDW->Gridforming_MODE = false;
            }
        }
    }
}
if (_rtDW->Gridforming_MODE) {
    _rtB->B_36_1_0 = _rtB->B_36_0_0 - _rtB->B_97_363_0;
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        B_5_0_0_idx_3 = _rtP->P_257 * _rtB->B_36_1_0 + _rtDW->DiscreteTimeIntegrator_DSTATE_b;
        if (B_5_0_0_idx_3 > _rtP->P_262) {
            B_5_0_0_idx_3 = _rtP->P_262;
        } else {
            if (B_5_0_0_idx_3 < _rtP->P_263) {
                B_5_0_0_idx_3 = _rtP->P_263;
            }
        }
        _rtB->B_36_10_0 = (B_5_0_0_idx_3 + _rtB->B_36_0_0) * ssGetTaskTime(S, 2) * _rtB->B_36_9_0;
    }
    _rtB->B_36_13_0 = 0.0;
    _rtB->B_36_13_0 += _rtP->P_268 * _rtX->TransferFcn5_CSTATE;
    _rtB->B_36_14_0 = _rtB->B_36_12_0 + _rtB->B_36_13_0;
    _rtB->B_36_15_0 = _rtB->B_36_10_0 + _rtB->B_36_14_0;
    _rtB->B_36_17_0 = muDoubleScalarMod(_rtB->B_36_15_0, _rtB->B_36_16_0);
    _rtB->B_36_19_0 = _rtB->B_36_18_0 - _rtB->B_97_362_0;
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        B_5_0_0_idx_3 = _rtP->P_271 * _rtB->B_36_19_0 + _rtDW->DiscreteTimeIntegrator_DSTATE_m;
        if (B_5_0_0_idx_3 > _rtP->P_276) {
            B_5_0_0_idx_3 = _rtP->P_276;
        } else {
            if (B_5_0_0_idx_3 < _rtP->P_277) {
                B_5_0_0_idx_3 = _rtP->P_277;
            }
        }
        _rtB->B_36_26_0 = B_5_0_0_idx_3 + _rtB->B_36_25_0;
    }
    _rtB->B_36_27_0 = 0.0;
    _rtB->B_36_27_0 += _rtP->P_280 * _rtX->TransferFcn4_CSTATE_f;
    _rtB->B_36_28_0 = 0.0;
    _rtB->B_36_28_0 += _rtP->P_282 * _rtX->TransferFcn6_CSTATE;
    i = ssIsSampleHit(S, 1, 0);
    if (i != 0) {
        _rtB->B_36_32_0 = _rtB->B_36_31_0;
        if (ssIsMajorTimeStep(S) != 0) {
            if (_rtB->B_36_32_0 > 0) {
                if (!_rtDW->Subsystem1_MODE) {
                    if (ssGetTaskTime(S, 1) != ssGetTStart(S)) {
                        ssSetBlockStateForSolverChangedAtMajorStep(S);
                    }
%<SLibCGIRSetStatesDisabled(36, 0, 0)>\
                    _rtDW->Subsystem1_MODE = true;
                }
            } else {
                if (_rtDW->Subsystem1_MODE) {
                    ssSetBlockStateForSolverChangedAtMajorStep(S);
%<SLibCGIRSetStatesDisabled(36, 0, 1)>\
                    _rtDW->Subsystem1_MODE = false;
                }
            }
        }
    }
    if (_rtDW->Subsystem1_MODE) {
        _rtB->B_35_0_0 = _rtB->B_36_27_0 * muDoubleScalarCos(_rtB->B_36_17_0) - _rtB->B_36_28_0 * muDoubleScalarSin(_rtB->B_36_17_0);
        _rtB->B_35_1_0 = _rtB->B_36_27_0 * muDoubleScalarSin(_rtB->B_36_17_0) + _rtB->B_36_28_0 * muDoubleScalarCos(_rtB->B_36_17_0);
        if (ssIsMajorTimeStep(S) != 0) {
            srUpdateBC(_rtDW->Subsystem1_SubsysRanBC);
        }
    }
    i = ssIsSampleHit(S, 1, 0);
    if (i != 0) {
        _rtB->B_36_36_0 = _rtB->B_36_35_0;
        if (ssIsMajorTimeStep(S) != 0) {
            if (_rtB->B_36_36_0 > 0) {
                if (!_rtDW->Subsystempi2delay_MODE) {
                    if (ssGetTaskTime(S, 1) != ssGetTStart(S)) {
                        ssSetBlockStateForSolverChangedAtMajorStep(S);
                    }
%<SLibCGIRSetStatesDisabled(36, 1, 0)>\
                    _rtDW->Subsystempi2delay_MODE = true;
                }
            } else {
                if (_rtDW->Subsystempi2delay_MODE) {
                    ssSetBlockStateForSolverChangedAtMajorStep(S);
%<SLibCGIRSetStatesDisabled(36, 1, 1)>\
                    _rtDW->Subsystempi2delay_MODE = false;
                }
            }
        }
    }
    if (_rtDW->Subsystempi2delay_MODE) {
        _rtB->B_34_0_0 = _rtB->B_36_27_0 * muDoubleScalarSin(_rtB->B_36_17_0) + _rtB->B_36_28_0 * muDoubleScalarCos(_rtB->B_36_17_0);
        _rtB->B_34_1_0 = -_rtB->B_36_27_0 * muDoubleScalarCos(_rtB->B_36_17_0) + _rtB->B_36_28_0 * muDoubleScalarSin(_rtB->B_36_17_0);
        if (ssIsMajorTimeStep(S) != 0) {
            srUpdateBC(_rtDW->Subsystempi2delay_SubsysRanBC);
        }
    }
    if (_rtB->B_36_31_0 != 0) {
        _rtB->B_36_38_0[0] = _rtB->B_35_0_0;
        _rtB->B_36_38_0[1] = _rtB->B_35_1_0;
    } else {
        _rtB->B_36_38_0[0] = _rtB->B_34_0_0;
        _rtB->B_36_38_0[1] = _rtB->B_34_1_0;
    }
    _rtB->B_36_39_0 = 0.0;
    _rtB->B_36_39_0 += _rtP->P_287 * _rtX->TransferFcn7_CSTATE;
    _rtB->B_36_40_0[0] = _rtB->B_36_38_0[0];
    _rtB->B_36_40_0[1] = _rtB->B_36_38_0[1];
    _rtB->B_36_40_0[2] = _rtB->B_36_39_0;
    for (i = 0; i < 3; i++) {
        _rtB->B_36_41_0[i] = 0.0;
        _rtB->B_36_41_0[i] += _rtP->P_288[i] * _rtB->B_36_40_0[0];
        _rtB->B_36_41_0[i] += _rtP->P_288[i + 3] * _rtB->B_36_40_0[1];
        _rtB->B_36_41_0[i] += _rtP->P_288[i + 6] * _rtB->B_36_40_0[2];
    }
    _rtB->B_36_42_0[0] = _rtB->B_36_26_0 * _rtB->B_36_41_0[0];
    _rtB->B_36_42_0[1] = _rtB->B_36_26_0 * _rtB->B_36_41_0[1];
    _rtB->B_36_42_0[2] = _rtB->B_36_26_0 * _rtB->B_36_41_0[2];
%<tlcOutputsFcnOfS36B2>\
    rtb_B_27_80_0 = ssGetT(S);
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        _rtB->B_36_46_0 = _rtP->P_289 * _rtB->B_36_19_0;
        _rtB->B_36_47_0 = _rtP->P_290 * _rtB->B_36_1_0;
    }
    B_36_48_0 = muDoubleScalarSin(_rtB->B_36_17_0);
    B_36_49_0 = muDoubleScalarCos(_rtB->B_36_17_0);
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        _rtB->B_36_52_0 = muDoubleScalarMod(_rtDW->DiscreteTimeIntegrator_DSTATE_d, _rtB->B_36_51_0);
        rtb_B_27_81_0 = muDoubleScalarSin(_rtB->B_36_52_0);
        rtb_B_27_86_0 = muDoubleScalarCos(_rtB->B_36_52_0);
        rtb_B_27_89_0 = (0.0 - rtb_B_27_81_0 * _rtB->B_36_55_0) - rtb_B_27_86_0 * _rtB->B_36_57_0;
        rtb_B_27_90_0 = rtb_B_27_81_0 * _rtB->B_36_57_0 - rtb_B_27_86_0 * _rtB->B_36_55_0;
        rtb_B_27_91_0 = (0.0 - rtb_B_27_89_0) - rtb_B_27_81_0;
        rtb_B_27_100_0 = (0.0 - rtb_B_27_90_0) - rtb_B_27_86_0;
        _rtB->B_36_65_0 = ((B_97_412_0_idx_0 * rtb_B_27_86_0 + B_97_412_0_idx_1 * rtb_B_27_90_0) + B_97_412_0_idx_2 * rtb_B_27_100_0) * 0.66666666666666663;
        if (_rtDW->Integ4_SYSTEM_ENABLE_bq != 0) {
            _rtB->B_36_66_0 = _rtDW->Integ4_DSTATE_ba;
        } else {
            _rtB->B_36_66_0 = _rtP->P_296 * _rtB->B_36_65_0 + _rtDW->Integ4_DSTATE_ba;
        }
        rtb_B_27_103_0 = _rtDW->UnitDelay_DSTATE_lw;
        if (_rtDW->UnitDelay_DSTATE_lw > _rtP->P_299) {
            B_5_0_0_idx_3 = _rtP->P_299;
        } else if (_rtDW->UnitDelay_DSTATE_lw < _rtP->P_300) {
            B_5_0_0_idx_3 = _rtP->P_300;
        } else {
            B_5_0_0_idx_3 = _rtDW->UnitDelay_DSTATE_lw;
        }
        rtb_B_27_104_0 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
        rtb_B_27_105_0 = muDoubleScalarCeil(rtb_B_27_104_0);
        _rtB->B_36_71_0 = _rtP->P_301 * rtb_B_27_105_0;
%<tlcOutputsFcnOfS36B3>\
        rtb_B_97_82_0 = ssGetTaskTime(S, 2);
        if (rtb_B_97_82_0 < _rtP->P_303) {
            rtb_B_97_82_0 = _rtP->P_304;
        } else {
            rtb_B_97_82_0 = _rtP->P_305;
        }
        if (rtb_B_97_82_0 >= _rtP->P_307) {
            rtb_B_97_82_0 = rtb_B_27_104_0 - rtb_B_27_105_0;
            rtb_B_27_104_0 = ((_rtB->B_36_65_0 - _rtDW->UnitDelay_DSTATE_aq) * rtb_B_97_82_0 * _rtP->P_251 + _rtB->B_36_65_0) * (rtb_B_97_82_0 / rtb_B_27_104_0) + (_rtB->B_36_66_0 - _rtB->B_36_72_0) * rtb_B_27_103_0;
        } else {
            rtb_B_27_104_0 = _rtP->P_306;
        }
        _rtB->B_36_79_0 = _rtB->B_36_78_0;
        i = ssIsSampleHit(S, 2, 0);
        if ((i != 0) && (ssIsMajorTimeStep(S) != 0)) {
            if (_rtB->B_36_79_0 > 0.0) {
                if (!_rtDW->AutomaticGainControl_MODE_ab) {
                    if (ssGetTaskTime(S, 2) != ssGetTStart(S)) {
                        ssSetBlockStateForSolverChangedAtMajorStep(S);
                    }
%<SLibCGIRSetStatesDisabled(36, 5, 0)>\
                    _rtDW->Integ4_SYSTEM_ENABLE_lpf = 1U;
                    _rtDW->Integ4_SYSTEM_ENABLE_fw = 1U;
                    _rtDW->AutomaticGainControl_MODE_ab = true;
                }
            } else {
                if (_rtDW->AutomaticGainControl_MODE_ab) {
                    ssSetBlockStateForSolverChangedAtMajorStep(S);
%<SLibCGIRSetStatesDisabled(36, 5, 1)>\
                    _rtDW->AutomaticGainControl_MODE_ab = false;
                }
            }
        }
        if (_rtDW->AutomaticGainControl_MODE_ab) {
            i = ssIsSampleHit(S, 2, 0);
            if (i != 0) {
                rtb_B_27_105_0 = (0.0 - rtb_B_27_81_0 * _rtB->B_30_0_0) - rtb_B_27_86_0 * _rtB->B_30_2_0;
                rtb_B_97_177_0 = rtb_B_27_81_0 * _rtB->B_30_2_0 - rtb_B_27_86_0 * _rtB->B_30_0_0;
                B_27_79_0_idx_0 = (0.0 - rtb_B_27_105_0) - rtb_B_27_81_0;
                B_27_95_0_idx_0 = (0.0 - rtb_B_97_177_0) - rtb_B_27_86_0;
                _rtB->B_30_10_0 = ((B_97_412_0_idx_0 * rtb_B_27_81_0 + B_97_412_0_idx_1 * rtb_B_27_105_0) + B_97_412_0_idx_2 * B_27_79_0_idx_0) * 0.66666666666666663;
                if (_rtDW->Integ4_SYSTEM_ENABLE_lpf != 0) {
                    _rtB->B_30_11_0 = _rtDW->Integ4_DSTATE_kj;
                } else {
                    _rtB->B_30_11_0 = _rtP->P_225 * _rtB->B_30_10_0 + _rtDW->Integ4_DSTATE_kj;
                }
                if (rtb_B_27_103_0 > _rtP->P_227) {
                    rtb_B_97_82_0 = _rtP->P_227;
                } else if (rtb_B_27_103_0 < _rtP->P_228) {
                    rtb_B_97_82_0 = _rtP->P_228;
                } else {
                    rtb_B_97_82_0 = rtb_B_27_103_0;
                }
                B_5_0_0_idx_3 = 1.0 / rtb_B_97_82_0 / 1.0e-5;
                rtb_B_97_176_0 = muDoubleScalarCeil(B_5_0_0_idx_3);
                _rtB->B_30_15_0 = _rtP->P_229 * rtb_B_97_176_0;
%<tlcOutputsFcnOfS30B0>\
                rtb_B_97_82_0 = ssGetTaskTime(S, 2);
                if (rtb_B_97_82_0 < _rtP->P_231) {
                    rtb_B_97_82_0 = _rtP->P_232;
                } else {
                    rtb_B_97_82_0 = _rtP->P_233;
                }
                if (rtb_B_97_82_0 >= _rtP->P_235) {
                    rtb_B_97_82_0 = B_5_0_0_idx_3 - rtb_B_97_176_0;
                    B_5_0_0_idx_3 = ((_rtB->B_30_10_0 - _rtDW->UnitDelay_DSTATE_fa) * rtb_B_97_82_0 * _rtP->P_220 + _rtB->B_30_10_0) * (rtb_B_97_82_0 / B_5_0_0_idx_3) + (_rtB->B_30_11_0 - _rtB->B_30_16_0) * rtb_B_27_103_0;
                } else {
                    B_5_0_0_idx_3 = _rtP->P_234;
                }
                _rtB->B_30_22_0 = ((B_97_412_0_idx_0 * rtb_B_27_86_0 + B_97_412_0_idx_1 * rtb_B_97_177_0) + B_97_412_0_idx_2 * B_27_95_0_idx_0) * 0.66666666666666663;
                if (_rtDW->Integ4_SYSTEM_ENABLE_fw != 0) {
                    _rtB->B_30_23_0 = _rtDW->Integ4_DSTATE_d2;
                } else {
                    _rtB->B_30_23_0 = _rtP->P_236 * _rtB->B_30_22_0 + _rtDW->Integ4_DSTATE_d2;
                }
                if (rtb_B_27_103_0 > _rtP->P_238) {
                    rtb_B_97_82_0 = _rtP->P_238;
                } else if (rtb_B_27_103_0 < _rtP->P_239) {
                    rtb_B_97_82_0 = _rtP->P_239;
                } else {
                    rtb_B_97_82_0 = rtb_B_27_103_0;
                }
                rtb_B_97_176_0 = 1.0 / rtb_B_97_82_0 / 1.0e-5;
                rtb_B_97_226_0 = muDoubleScalarCeil(rtb_B_97_176_0);
                _rtB->B_30_27_0 = _rtP->P_240 * rtb_B_97_226_0;
%<tlcOutputsFcnOfS30B2>\
                rtb_B_97_82_0 = ssGetTaskTime(S, 2);
                if (rtb_B_97_82_0 < _rtP->P_242) {
                    rtb_B_97_82_0 = _rtP->P_243;
                } else {
                    rtb_B_97_82_0 = _rtP->P_244;
                }
                if (rtb_B_97_82_0 >= _rtP->P_246) {
                    rtb_B_97_82_0 = rtb_B_97_176_0 - rtb_B_97_226_0;
                    rtb_B_97_82_0 = ((_rtB->B_30_22_0 - _rtDW->UnitDelay_DSTATE_lu) * rtb_B_97_82_0 * _rtP->P_221 + _rtB->B_30_22_0) * (rtb_B_97_82_0 / rtb_B_97_176_0) + (_rtB->B_30_23_0 - _rtB->B_30_28_0) * rtb_B_27_103_0;
                } else {
                    rtb_B_97_82_0 = _rtP->P_245;
                }
                B_30_36_0 = _rtP->P_247 * muDoubleScalarAtan2(rtb_B_97_82_0, B_5_0_0_idx_3);
                tmpForInput[0] = B_97_412_0_idx_0;
                tmpForInput[1] = B_97_412_0_idx_1;
                tmpForInput[2] = B_97_412_0_idx_2;
                tmpForInput[3] = rtb_B_27_81_0;
                tmpForInput[4] = rtb_B_27_86_0;
                tmpForInput[5] = rtb_B_27_105_0;
                tmpForInput[6] = rtb_B_97_177_0;
                tmpForInput[7] = B_27_79_0_idx_0;
                tmpForInput[8] = B_27_95_0_idx_0;
                B_27_95_0_idx_0 = -0.0;
                for (i = 0; i < 9; i++) {
                    B_27_95_0_idx_0 += tmpForInput[i];
                }
                B_30_38_0 = _rtP->P_248 * B_27_95_0_idx_0;
                B_5_0_0_idx_3 = muDoubleScalarHypot(B_5_0_0_idx_3, rtb_B_97_82_0);
                if (B_5_0_0_idx_3 > _rtP->P_249) {
                    B_5_0_0_idx_3 = _rtP->P_249;
                } else {
                    if (B_5_0_0_idx_3 < _rtP->P_250) {
                        B_5_0_0_idx_3 = _rtP->P_250;
                    }
                }
                _rtB->B_30_40_0 = 1.0 / B_5_0_0_idx_3;
            }
            if (ssIsMajorTimeStep(S) != 0) {
                srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC_p);
            }
        }
        rtb_B_97_82_0 = rtb_B_27_104_0 * _rtB->B_30_40_0;
        _rtB->B_36_86_0 = _rtP->P_314 * rtb_B_97_82_0 * _rtP->P_315;
        B_36_87_0 = _rtDW->UD_DSTATE_e;
        B_36_88_0 = _rtB->B_36_86_0 - B_36_87_0;
        B_5_0_0_idx_3 = (_rtP->P_309 * rtb_B_97_82_0 + _rtDW->DiscreteTimeIntegrator_DSTATE_ov) + B_36_88_0;
        if (B_5_0_0_idx_3 > _rtP->P_317) {
            _rtB->B_36_90_0 = _rtP->P_317;
        } else if (B_5_0_0_idx_3 < _rtP->P_318) {
            _rtB->B_36_90_0 = _rtP->P_318;
        } else {
            _rtB->B_36_90_0 = B_5_0_0_idx_3;
        }
        B_5_0_0_idx_3 = _rtP->P_319 * _rtB->B_36_90_0 - _rtDW->UnitDelay_DSTATE_n;
        if (B_5_0_0_idx_3 > _rtP->P_321) {
            B_5_0_0_idx_3 = _rtP->P_321;
        } else {
            if (B_5_0_0_idx_3 < _rtP->P_322) {
                B_5_0_0_idx_3 = _rtP->P_322;
            }
        }
        _rtB->B_36_95_0 = B_5_0_0_idx_3 + _rtDW->UnitDelay_DSTATE_n;
%<tlcOutputsFcnOfS36B6>\
        _rtB->B_36_98_0 = _rtP->P_328 * rtb_B_97_82_0;
        B_36_99_0 = ((B_97_412_0_idx_0 * rtb_B_27_81_0 + B_97_412_0_idx_1 * rtb_B_27_89_0) + B_97_412_0_idx_2 * rtb_B_27_91_0) * 0.66666666666666663;
        tmpForInput[0] = B_97_412_0_idx_0;
        tmpForInput[1] = B_97_412_0_idx_1;
        tmpForInput[2] = B_97_412_0_idx_2;
        tmpForInput[3] = rtb_B_27_81_0;
        tmpForInput[4] = rtb_B_27_86_0;
        tmpForInput[5] = rtb_B_27_89_0;
        tmpForInput[6] = rtb_B_27_90_0;
        tmpForInput[7] = rtb_B_27_91_0;
        tmpForInput[8] = rtb_B_27_100_0;
        B_27_95_0_idx_1 = -0.0;
        for (i = 0; i < 9; i++) {
            B_27_95_0_idx_1 += tmpForInput[i];
        }
        B_36_101_0 = _rtP->P_329 * B_27_95_0_idx_1;
    }
    if (ssGetT(S) >= _rtP->P_330) {
        _rtB->B_36_102_0 = _rtB->B_36_13_0;
    } else {
        _rtB->B_36_102_0 = _rtB->B_36_52_0;
    }
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        for (i = 0; i < 3; i++) {
            _rtB->B_36_104_0[i] = _rtP->P_332 * (_rtP->P_331[i + 6] * B_97_412_0_idx_2 + (_rtP->P_331[i + 3] * B_97_412_0_idx_1 + _rtP->P_331[i] * B_97_412_0_idx_0));
        }
        _rtB->B_36_108_0 = _rtB->B_36_107_0;
        if (_rtB->B_36_108_0 > 0) {
            _rtB->B_33_0_0 = _rtB->B_36_104_0[0] * muDoubleScalarCos(_rtB->B_36_52_0) + _rtB->B_36_104_0[1] * muDoubleScalarSin(_rtB->B_36_52_0);
            _rtB->B_33_1_0 = -_rtB->B_36_104_0[0] * muDoubleScalarSin(_rtB->B_36_52_0) + _rtB->B_36_104_0[1] * muDoubleScalarCos(_rtB->B_36_52_0);
            if (ssIsMajorTimeStep(S) != 0) {
                srUpdateBC(_rtDW->Subsystem1_SubsysRanBC_o);
            }
        }
        _rtB->B_36_112_0 = _rtB->B_36_111_0;
        if (_rtB->B_36_112_0 > 0) {
            _rtB->B_32_0_0 = _rtB->B_36_104_0[0] * muDoubleScalarSin(_rtB->B_36_52_0) - _rtB->B_36_104_0[1] * muDoubleScalarCos(_rtB->B_36_52_0);
            _rtB->B_32_1_0 = _rtB->B_36_104_0[0] * muDoubleScalarCos(_rtB->B_36_52_0) + _rtB->B_36_104_0[1] * muDoubleScalarSin(_rtB->B_36_52_0);
            if (ssIsMajorTimeStep(S) != 0) {
                srUpdateBC(_rtDW->Subsystempi2delay_SubsysRanBC_l);
            }
        }
        if (_rtB->B_36_107_0 != 0) {
            _rtB->B_36_114_0[0] = _rtB->B_33_0_0;
            _rtB->B_36_114_0[1] = _rtB->B_33_1_0;
        } else {
            _rtB->B_36_114_0[0] = _rtB->B_32_0_0;
            _rtB->B_36_114_0[1] = _rtB->B_32_1_0;
        }
    }
    if (rtb_B_27_80_0 >= _rtP->P_336) {
        _rtB->B_36_115_0[0] = _rtB->B_36_27_0;
        _rtB->B_36_115_0[1] = _rtB->B_36_28_0;
        _rtB->B_36_115_0[2] = _rtB->B_36_39_0;
    } else {
        _rtB->B_36_115_0[0] = _rtB->B_36_114_0[0];
        _rtB->B_36_115_0[1] = _rtB->B_36_114_0[1];
        _rtB->B_36_115_0[2] = _rtB->B_36_104_0[2];
    }
    if (ssIsMajorTimeStep(S) != 0) {
        srUpdateBC(_rtDW->Gridforming_SubsysRanBC);
    }
}
%<tlcOutputsFcnOfS82B69>\
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
%<tlcOutputsFcnOfS82B70>\
%<tlcOutputsFcnOfS82B71>\
}
_rtB->B_97_425_0 = _rtP->P_839 * _rtB->B_97_361_0[0];
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    if (ssIsMajorTimeStep(S) != 0) {
        _rtDW->RelationalOperator_Mode[0] = (_rtB->B_97_361_0[1] > _rtB->B_97_425_0);
        _rtDW->RelationalOperator_Mode[1] = (_rtB->B_97_361_0[2] > _rtB->B_97_425_0);
    }
    _rtB->B_97_426_0[0] = _rtDW->RelationalOperator_Mode[0];
    _rtB->B_97_426_0[1] = _rtDW->RelationalOperator_Mode[1];
}
if (_rtB->B_97_426_0[0] >= _rtP->P_840) {
    B_97_427_0[0] = rtb_B_97_30_0[1];
} else {
    B_97_427_0[0] = _rtB->B_97_424_0;
}
if (_rtB->B_97_426_0[1] >= _rtP->P_840) {
    B_97_427_0[1] = rtb_B_97_30_0[2];
} else {
    B_97_427_0[1] = _rtB->B_97_424_0;
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_428_0 = _rtP->P_841 * _rtB->B_97_265_0[0];
}
rtb_B_97_82_0 = muDoubleScalarSin(_rtP->P_844 * ssGetTaskTime(S, 0) + _rtP->P_845) * _rtP->P_842 + _rtP->P_843;
_rtB->B_97_430_0 = rtb_B_97_82_0 * _rtB->B_97_428_0;
B_27_95_0_idx_1 = muDoubleScalarSin(_rtP->P_848 * ssGetTaskTime(S, 0) + _rtP->P_849) * _rtP->P_846 + _rtP->P_847;
_rtB->B_97_432_0 = _rtB->B_97_428_0 * B_27_95_0_idx_1;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_433_0 = _rtP->P_850 * _rtB->B_97_265_0[1];
}
_rtB->B_97_434_0 = rtb_B_97_82_0 * _rtB->B_97_433_0;
_rtB->B_97_435_0 = _rtB->B_97_433_0 * B_27_95_0_idx_1;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_436_0 = _rtP->P_851 * _rtB->B_97_265_0[2];
}
_rtB->B_97_437_0 = rtb_B_97_82_0 * _rtB->B_97_436_0;
_rtB->B_97_438_0 = _rtB->B_97_436_0 * B_27_95_0_idx_1;
B_97_439_0 = _rtP->P_852 * rtb_B_97_30_0[0];
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    B_97_291_1_idx_2 = _rtP->P_853 * _rtB->B_97_265_0[0];
    B_97_328_1_idx_1 = _rtP->P_853 * _rtB->B_97_265_0[1];
    B_97_328_1_idx_2 = _rtP->P_853 * _rtB->B_97_265_0[2];
    rtb_B_97_82_0 = muDoubleScalarMod(_rtDW->DiscreteTimeIntegrator_DSTATE_e, _rtB->B_97_442_0);
    B_27_95_0_idx_1 = muDoubleScalarSin(rtb_B_97_82_0);
    B_27_95_0_idx_0 = muDoubleScalarCos(rtb_B_97_82_0);
    rtb_B_27_80_0 = (0.0 - B_27_95_0_idx_1 * _rtB->B_97_446_0) - B_27_95_0_idx_0 * _rtB->B_97_448_0;
    rtb_B_27_81_0 = B_27_95_0_idx_1 * _rtB->B_97_448_0 - B_27_95_0_idx_0 * _rtB->B_97_446_0;
    rtb_B_27_86_0 = (0.0 - rtb_B_27_80_0) - B_27_95_0_idx_1;
    rtb_B_27_89_0 = (0.0 - rtb_B_27_81_0) - B_27_95_0_idx_0;
    _rtB->B_97_456_0 = ((B_97_291_1_idx_2 * B_27_95_0_idx_0 + B_97_328_1_idx_1 * rtb_B_27_81_0) + B_97_328_1_idx_2 * rtb_B_27_89_0) * 0.66666666666666663;
    if (_rtDW->Integ4_SYSTEM_ENABLE_e != 0) {
        _rtB->B_97_457_0 = _rtDW->Integ4_DSTATE_p;
    } else {
        _rtB->B_97_457_0 = _rtP->P_859 * _rtB->B_97_456_0 + _rtDW->Integ4_DSTATE_p;
    }
    _rtB->B_97_458_0 = _rtDW->UnitDelay_DSTATE_i;
    if (_rtB->B_97_458_0 > _rtP->P_862) {
        B_5_0_0_idx_3 = _rtP->P_862;
    } else if (_rtB->B_97_458_0 < _rtP->P_863) {
        B_5_0_0_idx_3 = _rtP->P_863;
    } else {
        B_5_0_0_idx_3 = _rtB->B_97_458_0;
    }
    rtb_B_27_90_0 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
    rtb_B_27_91_0 = muDoubleScalarCeil(rtb_B_27_90_0);
    _rtB->B_97_462_0 = _rtP->P_864 * rtb_B_27_91_0;
%<tlcOutputsFcnOfS82B72>\
    rtb_B_97_82_0 = ssGetTaskTime(S, 2);
    if (rtb_B_97_82_0 < _rtP->P_866) {
        rtb_B_97_82_0 = _rtP->P_867;
    } else {
        rtb_B_97_82_0 = _rtP->P_868;
    }
    if (rtb_B_97_82_0 >= _rtP->P_870) {
        rtb_B_97_82_0 = rtb_B_27_90_0 - rtb_B_27_91_0;
        rtb_B_27_90_0 = ((_rtB->B_97_456_0 - _rtDW->UnitDelay_DSTATE_j) * rtb_B_97_82_0 * _rtP->P_368 + _rtB->B_97_456_0) * (rtb_B_97_82_0 / rtb_B_27_90_0) + (_rtB->B_97_457_0 - _rtB->B_97_463_0) * _rtB->B_97_458_0;
    } else {
        rtb_B_27_90_0 = _rtP->P_869;
    }
    _rtB->B_97_470_0 = _rtB->B_97_469_0;
    i = ssIsSampleHit(S, 2, 0);
    if ((i != 0) && (ssIsMajorTimeStep(S) != 0)) {
        if (_rtB->B_97_470_0 > 0.0) {
            if (!_rtDW->AutomaticGainControl_MODE_f) {
                if (ssGetTaskTime(S, 2) != ssGetTStart(S)) {
                    ssSetBlockStateForSolverChangedAtMajorStep(S);
                }
%<SLibCGIRSetStatesDisabled(82, 74, 0)>\
                _rtDW->Integ4_SYSTEM_ENABLE_ht = 1U;
                _rtDW->Integ4_SYSTEM_ENABLE_en = 1U;
                _rtDW->AutomaticGainControl_MODE_f = true;
            }
        } else {
            if (_rtDW->AutomaticGainControl_MODE_f) {
                ssSetBlockStateForSolverChangedAtMajorStep(S);
%<SLibCGIRSetStatesDisabled(82, 74, 1)>\
                _rtDW->AutomaticGainControl_MODE_f = false;
            }
        }
    }
    if (_rtDW->AutomaticGainControl_MODE_f) {
        i = ssIsSampleHit(S, 2, 0);
        if (i != 0) {
            rtb_B_27_91_0 = (0.0 - B_27_95_0_idx_1 * _rtB->B_44_0_0) - B_27_95_0_idx_0 * _rtB->B_44_2_0;
            rtb_B_27_100_0 = B_27_95_0_idx_1 * _rtB->B_44_2_0 - B_27_95_0_idx_0 * _rtB->B_44_0_0;
            rtb_B_27_103_0 = (0.0 - rtb_B_27_91_0) - B_27_95_0_idx_1;
            rtb_B_27_104_0 = (0.0 - rtb_B_27_100_0) - B_27_95_0_idx_0;
            _rtB->B_44_10_0 = ((B_97_291_1_idx_2 * B_27_95_0_idx_1 + B_97_328_1_idx_1 * rtb_B_27_91_0) + B_97_328_1_idx_2 * rtb_B_27_103_0) * 0.66666666666666663;
            if (_rtDW->Integ4_SYSTEM_ENABLE_ht != 0) {
                _rtB->B_44_11_0 = _rtDW->Integ4_DSTATE_ed;
            } else {
                _rtB->B_44_11_0 = _rtP->P_342 * _rtB->B_44_10_0 + _rtDW->Integ4_DSTATE_ed;
            }
            if (_rtB->B_97_458_0 > _rtP->P_344) {
                B_5_0_0_idx_3 = _rtP->P_344;
            } else if (_rtB->B_97_458_0 < _rtP->P_345) {
                B_5_0_0_idx_3 = _rtP->P_345;
            } else {
                B_5_0_0_idx_3 = _rtB->B_97_458_0;
            }
            rtb_B_27_105_0 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
            rtb_B_97_177_0 = muDoubleScalarCeil(rtb_B_27_105_0);
            _rtB->B_44_15_0 = _rtP->P_346 * rtb_B_97_177_0;
%<tlcOutputsFcnOfS42B0>\
            rtb_B_97_82_0 = ssGetTaskTime(S, 2);
            if (rtb_B_97_82_0 < _rtP->P_348) {
                rtb_B_97_82_0 = _rtP->P_349;
            } else {
                rtb_B_97_82_0 = _rtP->P_350;
            }
            if (rtb_B_97_82_0 >= _rtP->P_352) {
                rtb_B_97_82_0 = rtb_B_27_105_0 - rtb_B_97_177_0;
                rtb_B_27_105_0 = ((_rtB->B_44_10_0 - _rtDW->UnitDelay_DSTATE_g0) * rtb_B_97_82_0 * _rtP->P_337 + _rtB->B_44_10_0) * (rtb_B_97_82_0 / rtb_B_27_105_0) + (_rtB->B_44_11_0 - _rtB->B_44_16_0) * _rtB->B_97_458_0;
            } else {
                rtb_B_27_105_0 = _rtP->P_351;
            }
            _rtB->B_44_22_0 = ((B_97_291_1_idx_2 * B_27_95_0_idx_0 + B_97_328_1_idx_1 * rtb_B_27_100_0) + B_97_328_1_idx_2 * rtb_B_27_104_0) * 0.66666666666666663;
            if (_rtDW->Integ4_SYSTEM_ENABLE_en != 0) {
                _rtB->B_44_23_0 = _rtDW->Integ4_DSTATE_ok;
            } else {
                _rtB->B_44_23_0 = _rtP->P_353 * _rtB->B_44_22_0 + _rtDW->Integ4_DSTATE_ok;
            }
            if (_rtB->B_97_458_0 > _rtP->P_355) {
                B_5_0_0_idx_3 = _rtP->P_355;
            } else if (_rtB->B_97_458_0 < _rtP->P_356) {
                B_5_0_0_idx_3 = _rtP->P_356;
            } else {
                B_5_0_0_idx_3 = _rtB->B_97_458_0;
            }
            rtb_B_97_177_0 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
            B_27_79_0_idx_0 = muDoubleScalarCeil(rtb_B_97_177_0);
            _rtB->B_44_27_0 = _rtP->P_357 * B_27_79_0_idx_0;
%<tlcOutputsFcnOfS42B2>\
            rtb_B_97_82_0 = ssGetTaskTime(S, 2);
            if (rtb_B_97_82_0 < _rtP->P_359) {
                rtb_B_97_82_0 = _rtP->P_360;
            } else {
                rtb_B_97_82_0 = _rtP->P_361;
            }
            if (rtb_B_97_82_0 >= _rtP->P_363) {
                rtb_B_97_82_0 = rtb_B_97_177_0 - B_27_79_0_idx_0;
                rtb_B_97_82_0 = ((_rtB->B_44_22_0 - _rtDW->UnitDelay_DSTATE_il) * rtb_B_97_82_0 * _rtP->P_338 + _rtB->B_44_22_0) * (rtb_B_97_82_0 / rtb_B_97_177_0) + (_rtB->B_44_23_0 - _rtB->B_44_28_0) * _rtB->B_97_458_0;
            } else {
                rtb_B_97_82_0 = _rtP->P_362;
            }
            B_44_36_0 = _rtP->P_364 * muDoubleScalarAtan2(rtb_B_97_82_0, rtb_B_27_105_0);
            tmpForInput[0] = B_97_291_1_idx_2;
            tmpForInput[1] = B_97_328_1_idx_1;
            tmpForInput[2] = B_97_328_1_idx_2;
            tmpForInput[3] = B_27_95_0_idx_1;
            tmpForInput[4] = B_27_95_0_idx_0;
            tmpForInput[5] = rtb_B_27_91_0;
            tmpForInput[6] = rtb_B_27_100_0;
            tmpForInput[7] = rtb_B_27_103_0;
            tmpForInput[8] = rtb_B_27_104_0;
            rtb_B_27_91_0 = -0.0;
            for (i = 0; i < 9; i++) {
                rtb_B_27_91_0 += tmpForInput[i];
            }
            B_44_38_0 = _rtP->P_365 * rtb_B_27_91_0;
            B_5_0_0_idx_3 = muDoubleScalarHypot(rtb_B_27_105_0, rtb_B_97_82_0);
            if (B_5_0_0_idx_3 > _rtP->P_366) {
                B_5_0_0_idx_3 = _rtP->P_366;
            } else {
                if (B_5_0_0_idx_3 < _rtP->P_367) {
                    B_5_0_0_idx_3 = _rtP->P_367;
                }
            }
            _rtB->B_44_40_0 = 1.0 / B_5_0_0_idx_3;
        }
        if (ssIsMajorTimeStep(S) != 0) {
            srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC_hn);
        }
    }
    rtb_B_97_82_0 = rtb_B_27_90_0 * _rtB->B_44_40_0;
    _rtB->B_97_477_0 = _rtP->P_877 * rtb_B_97_82_0 * _rtP->P_878;
    B_97_478_0 = _rtDW->UD_DSTATE;
    B_97_479_0 = _rtB->B_97_477_0 - B_97_478_0;
    B_5_0_0_idx_3 = (_rtP->P_872 * rtb_B_97_82_0 + _rtDW->DiscreteTimeIntegrator_DSTATE_j) + B_97_479_0;
    if (B_5_0_0_idx_3 > _rtP->P_880) {
        _rtB->B_97_481_0 = _rtP->P_880;
    } else if (B_5_0_0_idx_3 < _rtP->P_881) {
        _rtB->B_97_481_0 = _rtP->P_881;
    } else {
        _rtB->B_97_481_0 = B_5_0_0_idx_3;
    }
    B_5_0_0_idx_3 = _rtP->P_882 * _rtB->B_97_481_0 - _rtDW->UnitDelay_DSTATE_pc;
    if (B_5_0_0_idx_3 > _rtP->P_884) {
        B_5_0_0_idx_3 = _rtP->P_884;
    } else {
        if (B_5_0_0_idx_3 < _rtP->P_885) {
            B_5_0_0_idx_3 = _rtP->P_885;
        }
    }
    _rtB->B_97_486_0 = B_5_0_0_idx_3 + _rtDW->UnitDelay_DSTATE_pc;
%<tlcOutputsFcnOfS82B75>\
    _rtB->B_97_489_0 = _rtP->P_891 * rtb_B_97_82_0;
    B_97_490_0 = ((B_97_291_1_idx_2 * B_27_95_0_idx_1 + B_97_328_1_idx_1 * rtb_B_27_80_0) + B_97_328_1_idx_2 * rtb_B_27_86_0) * 0.66666666666666663;
    tmpForInput[0] = B_97_291_1_idx_2;
    tmpForInput[1] = B_97_328_1_idx_1;
    tmpForInput[2] = B_97_328_1_idx_2;
    tmpForInput[3] = B_27_95_0_idx_1;
    tmpForInput[4] = B_27_95_0_idx_0;
    tmpForInput[5] = rtb_B_27_80_0;
    tmpForInput[6] = rtb_B_27_81_0;
    tmpForInput[7] = rtb_B_27_86_0;
    tmpForInput[8] = rtb_B_27_89_0;
    rtb_B_27_80_0 = -0.0;
    for (i = 0; i < 9; i++) {
        rtb_B_27_80_0 += tmpForInput[i];
    }
    B_97_492_0 = _rtP->P_892 * rtb_B_27_80_0;
    B_97_496_0[0] = !(_rtP->P_893 * _rtB->B_97_375_0[0] >= _rtB->B_97_382_0);
    B_97_496_0[1] = !(_rtP->P_893 * _rtB->B_97_375_0[1] >= _rtB->B_97_382_0);
    B_97_496_0[2] = !(_rtP->P_893 * _rtB->B_97_375_0[2] >= _rtB->B_97_382_0);
    rtb_B_97_82_0 = _rtP->P_896 * ssGetTaskTime(S, 2);
    rtb_B_27_80_0 = _rtP->P_898 * _rtP->P_897;
    B_97_291_1_idx_2 = muDoubleScalarSin((rtb_B_97_82_0 + rtb_B_27_80_0) + _rtP->P_894[0]) * _rtP->P_899;
    B_97_328_1_idx_1 = muDoubleScalarSin((rtb_B_97_82_0 + rtb_B_27_80_0) + _rtP->P_894[1]) * _rtP->P_899;
    B_97_328_1_idx_2 = muDoubleScalarSin((rtb_B_97_82_0 + rtb_B_27_80_0) + _rtP->P_894[2]) * _rtP->P_899;
    if (_rtP->P_895 >= _rtP->P_900) {
        B_97_507_0[0] = B_97_291_1_idx_2;
        B_97_507_0[1] = B_97_328_1_idx_1;
        B_97_507_0[2] = B_97_328_1_idx_2;
    } else {
        B_97_507_0[0] = 0.0;
        B_97_507_0[1] = 0.0;
        B_97_507_0[2] = 0.0;
    }
}
if (_rtB->B_97_406_0 >= _rtP->P_901) {
    _rtB->B_97_508_0[0] = _rtB->B_27_151_0[0];
    _rtB->B_97_508_0[1] = _rtB->B_27_151_0[1];
    _rtB->B_97_508_0[2] = _rtB->B_27_151_0[2];
} else {
    _rtB->B_97_508_0[0] = _rtB->B_36_42_0[0];
    _rtB->B_97_508_0[1] = _rtB->B_36_42_0[1];
    _rtB->B_97_508_0[2] = _rtB->B_36_42_0[2];
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    B_97_509_0[0] = _rtP->P_902 * rtb_B_97_409_0;
    B_97_509_0[1] = _rtP->P_902 * rtb_B_97_410_0;
    B_97_509_0[2] = _rtP->P_902 * rtb_B_97_411_0;
    B_97_291_1_idx_2 = _rtP->P_903 * _rtB->B_97_116_0[29] * _rtP->P_906;
    B_97_328_1_idx_1 = _rtP->P_904 * _rtB->B_97_116_0[30] * _rtP->P_906;
    B_97_328_1_idx_2 = _rtP->P_905 * _rtB->B_97_116_0[31] * _rtP->P_906;
    rtb_B_97_82_0 = _rtP->P_907 * ssGetTaskTime(S, 2);
    rtb_B_97_574_0 = muDoubleScalarSin(rtb_B_97_82_0);
    rtb_B_97_575_0 = muDoubleScalarCos(rtb_B_97_82_0);
    rtb_B_97_580_0 = (0.0 - rtb_B_97_574_0 * _rtB->B_97_576_0) - rtb_B_97_575_0 * _rtB->B_97_578_0;
    rtb_B_97_583_0 = rtb_B_97_574_0 * _rtB->B_97_578_0 - rtb_B_97_575_0 * _rtB->B_97_576_0;
    rtb_B_97_584_0 = (0.0 - rtb_B_97_580_0) - rtb_B_97_574_0;
    rtb_B_97_585_0 = (0.0 - rtb_B_97_583_0) - rtb_B_97_575_0;
    _rtB->B_97_586_0 = ((B_97_291_1_idx_2 * rtb_B_97_574_0 + B_97_328_1_idx_1 * rtb_B_97_580_0) + B_97_328_1_idx_2 * rtb_B_97_584_0) * 0.66666666666666663;
    if (_rtDW->Integ4_SYSTEM_ENABLE_j != 0) {
        _rtB->B_97_587_0 = _rtDW->Integ4_DSTATE_lr;
    } else {
        _rtB->B_97_587_0 = _rtP->P_910 * _rtB->B_97_586_0 + _rtDW->Integ4_DSTATE_lr;
    }
    _rtB->B_97_588_0 = _rtP->P_912;
%<tlcOutputsFcnOfS82B134>\
    rtb_B_97_82_0 = ssGetTaskTime(S, 2);
    if (rtb_B_97_82_0 < _rtP->P_915) {
        rtb_B_97_82_0 = _rtP->P_916;
    } else {
        rtb_B_97_82_0 = _rtP->P_917;
    }
    if (rtb_B_97_82_0 >= _rtP->P_919) {
        rtb_B_97_409_0 = (_rtB->B_97_587_0 - _rtB->B_97_589_0) * _rtP->P_913 + (_rtP->P_19 * _rtB->B_97_586_0 - _rtP->P_18 * _rtDW->UnitDelay_DSTATE_dl);
    } else {
        rtb_B_97_409_0 = _rtP->P_918;
    }
    _rtB->B_97_596_0 = ((B_97_291_1_idx_2 * rtb_B_97_575_0 + B_97_328_1_idx_1 * rtb_B_97_583_0) + B_97_328_1_idx_2 * rtb_B_97_585_0) * 0.66666666666666663;
    if (_rtDW->Integ4_SYSTEM_ENABLE_fv != 0) {
        _rtB->B_97_597_0 = _rtDW->Integ4_DSTATE_g;
    } else {
        _rtB->B_97_597_0 = _rtP->P_920 * _rtB->B_97_596_0 + _rtDW->Integ4_DSTATE_g;
    }
    _rtB->B_97_598_0 = _rtP->P_922;
%<tlcOutputsFcnOfS82B136>\
    rtb_B_97_82_0 = ssGetTaskTime(S, 2);
    if (rtb_B_97_82_0 < _rtP->P_925) {
        rtb_B_97_82_0 = _rtP->P_926;
    } else {
        rtb_B_97_82_0 = _rtP->P_927;
    }
    if (rtb_B_97_82_0 >= _rtP->P_929) {
        rtb_B_97_410_0 = (_rtB->B_97_597_0 - _rtB->B_97_599_0) * _rtP->P_923 + (_rtP->P_21 * _rtB->B_97_596_0 - _rtP->P_20 * _rtDW->UnitDelay_DSTATE_e0);
    } else {
        rtb_B_97_410_0 = _rtP->P_928;
    }
    B_97_321_0_idx_0 = _rtP->P_930 * _rtB->B_97_116_0[51] * _rtP->P_933;
    B_97_321_0_idx_1 = _rtP->P_931 * _rtB->B_97_116_0[52] * _rtP->P_933;
    B_97_321_0_idx_2 = _rtP->P_932 * _rtB->B_97_116_0[53] * _rtP->P_933;
    rtb_B_97_82_0 = _rtP->P_934 * ssGetTaskTime(S, 2);
    rtb_B_97_613_0 = muDoubleScalarSin(rtb_B_97_82_0);
    rtb_B_97_614_0 = muDoubleScalarCos(rtb_B_97_82_0);
    rtb_B_97_619_0 = (0.0 - rtb_B_97_613_0 * _rtB->B_97_615_0) - rtb_B_97_614_0 * _rtB->B_97_617_0;
    rtb_B_97_622_0 = rtb_B_97_613_0 * _rtB->B_97_617_0 - rtb_B_97_614_0 * _rtB->B_97_615_0;
    rtb_B_97_623_0 = (0.0 - rtb_B_97_619_0) - rtb_B_97_613_0;
    rtb_B_97_624_0 = (0.0 - rtb_B_97_622_0) - rtb_B_97_614_0;
    _rtB->B_97_625_0 = ((B_97_321_0_idx_0 * rtb_B_97_613_0 + B_97_321_0_idx_1 * rtb_B_97_619_0) + B_97_321_0_idx_2 * rtb_B_97_623_0) * 0.66666666666666663;
    if (_rtDW->Integ4_SYSTEM_ENABLE_jr != 0) {
        _rtB->B_97_626_0 = _rtDW->Integ4_DSTATE_j;
    } else {
        _rtB->B_97_626_0 = _rtP->P_937 * _rtB->B_97_625_0 + _rtDW->Integ4_DSTATE_j;
    }
    _rtB->B_97_627_0 = _rtP->P_939;
%<tlcOutputsFcnOfS82B138>\
    rtb_B_97_82_0 = ssGetTaskTime(S, 2);
    if (rtb_B_97_82_0 < _rtP->P_942) {
        rtb_B_97_82_0 = _rtP->P_943;
    } else {
        rtb_B_97_82_0 = _rtP->P_944;
    }
    if (rtb_B_97_82_0 >= _rtP->P_946) {
        rtb_B_97_411_0 = (_rtB->B_97_626_0 - _rtB->B_97_628_0) * _rtP->P_940 + (_rtP->P_15 * _rtB->B_97_625_0 - _rtP->P_14 * _rtDW->UnitDelay_DSTATE_k);
    } else {
        rtb_B_97_411_0 = _rtP->P_945;
    }
    _rtB->B_97_635_0 = ((B_97_321_0_idx_0 * rtb_B_97_614_0 + B_97_321_0_idx_1 * rtb_B_97_622_0) + B_97_321_0_idx_2 * rtb_B_97_624_0) * 0.66666666666666663;
    if (_rtDW->Integ4_SYSTEM_ENABLE_g != 0) {
        _rtB->B_97_636_0 = _rtDW->Integ4_DSTATE_b;
    } else {
        _rtB->B_97_636_0 = _rtP->P_947 * _rtB->B_97_635_0 + _rtDW->Integ4_DSTATE_b;
    }
    _rtB->B_97_637_0 = _rtP->P_949;
%<tlcOutputsFcnOfS82B140>\
    rtb_B_97_82_0 = ssGetTaskTime(S, 2);
    if (rtb_B_97_82_0 < _rtP->P_952) {
        rtb_B_97_82_0 = _rtP->P_953;
    } else {
        rtb_B_97_82_0 = _rtP->P_954;
    }
    if (rtb_B_97_82_0 >= _rtP->P_956) {
        rtb_B_27_80_0 = (_rtB->B_97_636_0 - _rtB->B_97_638_0) * _rtP->P_950 + (_rtP->P_17 * _rtB->B_97_635_0 - _rtP->P_16 * _rtDW->UnitDelay_DSTATE_g);
    } else {
        rtb_B_27_80_0 = _rtP->P_955;
    }
    rtb_B_97_82_0 = muDoubleScalarHypot(rtb_B_97_409_0, rtb_B_97_410_0) * muDoubleScalarHypot(rtb_B_97_411_0, rtb_B_27_80_0);
    rtb_B_97_409_0 = (_rtP->P_957 * muDoubleScalarAtan2(rtb_B_97_410_0, rtb_B_97_409_0) - _rtP->P_958 * muDoubleScalarAtan2(rtb_B_27_80_0, rtb_B_97_411_0)) * _rtP->P_959;
    _rtB->B_97_657_0[0] = rtb_B_97_82_0 * muDoubleScalarCos(rtb_B_97_409_0) * _rtP->P_960;
    _rtB->B_97_657_0[1] = muDoubleScalarSin(rtb_B_97_409_0) * rtb_B_97_82_0 * _rtP->P_960;
    _rtB->B_97_658_0[0] = _rtP->P_961 * _rtB->B_97_657_0[0];
    _rtB->B_97_658_0[1] = _rtP->P_961 * _rtB->B_97_657_0[1];
    ssCallAccelRunBlock(S, 97, 659, SS_CALL_MDL_OUTPUTS);
    _rtB->B_97_295_0[0] = _rtP->P_962 * _rtB->B_97_116_0[45] * _rtP->P_965;
    _rtB->B_97_295_0[1] = _rtP->P_963 * _rtB->B_97_116_0[46] * _rtP->P_965;
    _rtB->B_97_295_0[2] = _rtP->P_964 * _rtB->B_97_116_0[47] * _rtP->P_965;
    if (_rtDW->systemEnable_k != 0) {
        _rtDW->lastSin_l = muDoubleScalarSin(_rtP->P_968 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_n = muDoubleScalarCos(_rtP->P_968 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_k = 0;
    }
    rtb_B_97_82_0 = ((_rtDW->lastSin_l * _rtP->P_972 + _rtDW->lastCos_n * _rtP->P_971) * _rtP->P_970 + (_rtDW->lastCos_n * _rtP->P_972 - _rtDW->lastSin_l * _rtP->P_971) * _rtP->P_969) * _rtP->P_966 + _rtP->P_967;
    _rtB->B_97_665_0[0] = _rtB->B_97_295_0[0] * rtb_B_97_82_0;
    _rtB->B_97_665_0[1] = _rtB->B_97_295_0[1] * rtb_B_97_82_0;
    _rtB->B_97_665_0[2] = _rtB->B_97_295_0[2] * rtb_B_97_82_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_fl != 0) {
        _rtB->B_97_666_0[0] = _rtDW->Integ4_DSTATE_a[0];
        _rtB->B_97_666_0[1] = _rtDW->Integ4_DSTATE_a[1];
        _rtB->B_97_666_0[2] = _rtDW->Integ4_DSTATE_a[2];
    } else {
        _rtB->B_97_666_0[0] = _rtP->P_973 * _rtB->B_97_665_0[0] + _rtDW->Integ4_DSTATE_a[0];
        _rtB->B_97_666_0[1] = _rtP->P_973 * _rtB->B_97_665_0[1] + _rtDW->Integ4_DSTATE_a[1];
        _rtB->B_97_666_0[2] = _rtP->P_973 * _rtB->B_97_665_0[2] + _rtDW->Integ4_DSTATE_a[2];
    }
    _rtB->B_97_667_0 = _rtP->P_975;
%<tlcOutputsFcnOfS82B142>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_667_0) {
        _rtB->B_97_675_0[0] = (_rtB->B_97_666_0[0] - _rtB->B_97_668_0[0]) * _rtP->P_984 + (_rtP->P_452 * _rtB->B_97_665_0[0] - _rtP->P_451 * _rtDW->UnitDelay_DSTATE_g5[0]);
        _rtB->B_97_675_0[1] = (_rtB->B_97_666_0[1] - _rtB->B_97_668_0[1]) * _rtP->P_984 + (_rtP->P_452 * _rtB->B_97_665_0[1] - _rtP->P_451 * _rtDW->UnitDelay_DSTATE_g5[1]);
        _rtB->B_97_675_0[2] = (_rtB->B_97_666_0[2] - _rtB->B_97_668_0[2]) * _rtP->P_984 + (_rtP->P_452 * _rtB->B_97_665_0[2] - _rtP->P_451 * _rtDW->UnitDelay_DSTATE_g5[2]);
    } else {
        _rtB->B_97_675_0[0] = _rtDW->UnitDelay1_DSTATE_g[0];
        _rtB->B_97_675_0[1] = _rtDW->UnitDelay1_DSTATE_g[1];
        _rtB->B_97_675_0[2] = _rtDW->UnitDelay1_DSTATE_g[2];
    }
    if (_rtDW->systemEnable_o != 0) {
        _rtDW->lastSin_j = muDoubleScalarSin(_rtP->P_989 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_ne = muDoubleScalarCos(_rtP->P_989 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_o = 0;
    }
    rtb_B_97_82_0 = ((_rtDW->lastSin_j * _rtP->P_993 + _rtDW->lastCos_ne * _rtP->P_992) * _rtP->P_991 + (_rtDW->lastCos_ne * _rtP->P_993 - _rtDW->lastSin_j * _rtP->P_992) * _rtP->P_990) * _rtP->P_987 + _rtP->P_988;
    _rtB->B_97_677_0[0] = _rtB->B_97_295_0[0] * rtb_B_97_82_0;
    _rtB->B_97_677_0[1] = _rtB->B_97_295_0[1] * rtb_B_97_82_0;
    _rtB->B_97_677_0[2] = _rtB->B_97_295_0[2] * rtb_B_97_82_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_ei != 0) {
        _rtB->B_97_678_0[0] = _rtDW->Integ4_DSTATE_e[0];
        _rtB->B_97_678_0[1] = _rtDW->Integ4_DSTATE_e[1];
        _rtB->B_97_678_0[2] = _rtDW->Integ4_DSTATE_e[2];
    } else {
        _rtB->B_97_678_0[0] = _rtP->P_994 * _rtB->B_97_677_0[0] + _rtDW->Integ4_DSTATE_e[0];
        _rtB->B_97_678_0[1] = _rtP->P_994 * _rtB->B_97_677_0[1] + _rtDW->Integ4_DSTATE_e[1];
        _rtB->B_97_678_0[2] = _rtP->P_994 * _rtB->B_97_677_0[2] + _rtDW->Integ4_DSTATE_e[2];
    }
    _rtB->B_97_679_0 = _rtP->P_996;
%<tlcOutputsFcnOfS82B144>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_679_0) {
        _rtB->B_97_687_0[0] = (_rtB->B_97_678_0[0] - _rtB->B_97_680_0[0]) * _rtP->P_1005 + (_rtP->P_450 * _rtB->B_97_677_0[0] - _rtP->P_449 * _rtDW->UnitDelay_DSTATE_b[0]);
        _rtB->B_97_687_0[1] = (_rtB->B_97_678_0[1] - _rtB->B_97_680_0[1]) * _rtP->P_1005 + (_rtP->P_450 * _rtB->B_97_677_0[1] - _rtP->P_449 * _rtDW->UnitDelay_DSTATE_b[1]);
        _rtB->B_97_687_0[2] = (_rtB->B_97_678_0[2] - _rtB->B_97_680_0[2]) * _rtP->P_1005 + (_rtP->P_450 * _rtB->B_97_677_0[2] - _rtP->P_449 * _rtDW->UnitDelay_DSTATE_b[2]);
    } else {
        _rtB->B_97_687_0[0] = _rtDW->UnitDelay1_DSTATE_j2[0];
        _rtB->B_97_687_0[1] = _rtDW->UnitDelay1_DSTATE_j2[1];
        _rtB->B_97_687_0[2] = _rtDW->UnitDelay1_DSTATE_j2[2];
    }
    rtb_B_97_66_0 = muDoubleScalarHypot(_rtB->B_97_675_0[0], _rtB->B_97_687_0[0]);
    rtb_B_97_30_0[0] = muDoubleScalarAtan2(_rtB->B_97_687_0[0], _rtB->B_97_675_0[0]);
    B_5_0_0_idx_3 = muDoubleScalarHypot(_rtB->B_97_675_0[1], _rtB->B_97_687_0[1]);
    rtb_B_97_30_0[1] = muDoubleScalarAtan2(_rtB->B_97_687_0[1], _rtB->B_97_675_0[1]);
    B_97_726_1_idx_0 = _rtB->B_97_675_0[2];
    B_97_719_0_idx_2 = _rtB->B_97_687_0[2];
    rtb_B_97_30_0[2] = muDoubleScalarAtan2(_rtB->B_97_687_0[2], _rtB->B_97_675_0[2]);
    _rtB->B_97_265_0[0] = _rtP->P_1008 * _rtB->B_97_116_0[65] * _rtP->P_1011;
    _rtB->B_97_265_0[1] = _rtP->P_1009 * _rtB->B_97_116_0[66] * _rtP->P_1011;
    _rtB->B_97_265_0[2] = _rtP->P_1010 * _rtB->B_97_116_0[67] * _rtP->P_1011;
    if (_rtDW->systemEnable_i != 0) {
        _rtDW->lastSin_h = muDoubleScalarSin(_rtP->P_1014 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_n3 = muDoubleScalarCos(_rtP->P_1014 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_i = 0;
    }
    rtb_B_97_82_0 = ((_rtDW->lastSin_h * _rtP->P_1018 + _rtDW->lastCos_n3 * _rtP->P_1017) * _rtP->P_1016 + (_rtDW->lastCos_n3 * _rtP->P_1018 - _rtDW->lastSin_h * _rtP->P_1017) * _rtP->P_1015) * _rtP->P_1012 + _rtP->P_1013;
    _rtB->B_97_695_0[0] = _rtB->B_97_265_0[0] * rtb_B_97_82_0;
    _rtB->B_97_695_0[1] = _rtB->B_97_265_0[1] * rtb_B_97_82_0;
    _rtB->B_97_695_0[2] = _rtB->B_97_265_0[2] * rtb_B_97_82_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_f0 != 0) {
        _rtB->B_97_696_0[0] = _rtDW->Integ4_DSTATE_i[0];
        _rtB->B_97_696_0[1] = _rtDW->Integ4_DSTATE_i[1];
        _rtB->B_97_696_0[2] = _rtDW->Integ4_DSTATE_i[2];
    } else {
        _rtB->B_97_696_0[0] = _rtP->P_1019 * _rtB->B_97_695_0[0] + _rtDW->Integ4_DSTATE_i[0];
        _rtB->B_97_696_0[1] = _rtP->P_1019 * _rtB->B_97_695_0[1] + _rtDW->Integ4_DSTATE_i[1];
        _rtB->B_97_696_0[2] = _rtP->P_1019 * _rtB->B_97_695_0[2] + _rtDW->Integ4_DSTATE_i[2];
    }
    _rtB->B_97_697_0 = _rtP->P_1021;
%<tlcOutputsFcnOfS82B146>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_697_0) {
        _rtB->B_97_705_0[0] = (_rtB->B_97_696_0[0] - _rtB->B_97_698_0[0]) * _rtP->P_1030 + (_rtP->P_456 * _rtB->B_97_695_0[0] - _rtP->P_455 * _rtDW->UnitDelay_DSTATE_dlx[0]);
        _rtB->B_97_705_0[1] = (_rtB->B_97_696_0[1] - _rtB->B_97_698_0[1]) * _rtP->P_1030 + (_rtP->P_456 * _rtB->B_97_695_0[1] - _rtP->P_455 * _rtDW->UnitDelay_DSTATE_dlx[1]);
        _rtB->B_97_705_0[2] = (_rtB->B_97_696_0[2] - _rtB->B_97_698_0[2]) * _rtP->P_1030 + (_rtP->P_456 * _rtB->B_97_695_0[2] - _rtP->P_455 * _rtDW->UnitDelay_DSTATE_dlx[2]);
    } else {
        _rtB->B_97_705_0[0] = _rtDW->UnitDelay1_DSTATE_j5[0];
        _rtB->B_97_705_0[1] = _rtDW->UnitDelay1_DSTATE_j5[1];
        _rtB->B_97_705_0[2] = _rtDW->UnitDelay1_DSTATE_j5[2];
    }
    if (_rtDW->systemEnable_or != 0) {
        _rtDW->lastSin_n = muDoubleScalarSin(_rtP->P_1035 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_d = muDoubleScalarCos(_rtP->P_1035 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_or = 0;
    }
    rtb_B_97_82_0 = ((_rtDW->lastSin_n * _rtP->P_1039 + _rtDW->lastCos_d * _rtP->P_1038) * _rtP->P_1037 + (_rtDW->lastCos_d * _rtP->P_1039 - _rtDW->lastSin_n * _rtP->P_1038) * _rtP->P_1036) * _rtP->P_1033 + _rtP->P_1034;
    _rtB->B_97_707_0[0] = _rtB->B_97_265_0[0] * rtb_B_97_82_0;
    _rtB->B_97_707_0[1] = _rtB->B_97_265_0[1] * rtb_B_97_82_0;
    _rtB->B_97_707_0[2] = _rtB->B_97_265_0[2] * rtb_B_97_82_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_m != 0) {
        _rtB->B_97_708_0[0] = _rtDW->Integ4_DSTATE_kd[0];
        _rtB->B_97_708_0[1] = _rtDW->Integ4_DSTATE_kd[1];
        _rtB->B_97_708_0[2] = _rtDW->Integ4_DSTATE_kd[2];
    } else {
        _rtB->B_97_708_0[0] = _rtP->P_1040 * _rtB->B_97_707_0[0] + _rtDW->Integ4_DSTATE_kd[0];
        _rtB->B_97_708_0[1] = _rtP->P_1040 * _rtB->B_97_707_0[1] + _rtDW->Integ4_DSTATE_kd[1];
        _rtB->B_97_708_0[2] = _rtP->P_1040 * _rtB->B_97_707_0[2] + _rtDW->Integ4_DSTATE_kd[2];
    }
    _rtB->B_97_709_0 = _rtP->P_1042;
%<tlcOutputsFcnOfS82B148>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_709_0) {
        _rtB->B_97_717_0[0] = (_rtB->B_97_708_0[0] - _rtB->B_97_710_0[0]) * _rtP->P_1051 + (_rtP->P_454 * _rtB->B_97_707_0[0] - _rtP->P_453 * _rtDW->UnitDelay_DSTATE_m[0]);
        _rtB->B_97_717_0[1] = (_rtB->B_97_708_0[1] - _rtB->B_97_710_0[1]) * _rtP->P_1051 + (_rtP->P_454 * _rtB->B_97_707_0[1] - _rtP->P_453 * _rtDW->UnitDelay_DSTATE_m[1]);
        _rtB->B_97_717_0[2] = (_rtB->B_97_708_0[2] - _rtB->B_97_710_0[2]) * _rtP->P_1051 + (_rtP->P_454 * _rtB->B_97_707_0[2] - _rtP->P_453 * _rtDW->UnitDelay_DSTATE_m[2]);
    } else {
        _rtB->B_97_717_0[0] = _rtDW->UnitDelay1_DSTATE_a[0];
        _rtB->B_97_717_0[1] = _rtDW->UnitDelay1_DSTATE_a[1];
        _rtB->B_97_717_0[2] = _rtDW->UnitDelay1_DSTATE_a[2];
    }
    B_97_719_0_idx_0 = rtb_B_97_66_0 * muDoubleScalarHypot(_rtB->B_97_705_0[0], _rtB->B_97_717_0[0]) * _rtP->P_1054;
    rtb_B_97_30_0[0] = (_rtP->P_1055 * rtb_B_97_30_0[0] - _rtP->P_1056 * muDoubleScalarAtan2(_rtB->B_97_717_0[0], _rtB->B_97_705_0[0])) * _rtP->P_1057;
    B_97_719_0_idx_1 = B_5_0_0_idx_3 * muDoubleScalarHypot(_rtB->B_97_705_0[1], _rtB->B_97_717_0[1]) * _rtP->P_1054;
    rtb_B_97_30_0[1] = (_rtP->P_1055 * rtb_B_97_30_0[1] - _rtP->P_1056 * muDoubleScalarAtan2(_rtB->B_97_717_0[1], _rtB->B_97_705_0[1])) * _rtP->P_1057;
    B_97_719_0_idx_2 = muDoubleScalarHypot(B_97_726_1_idx_0, B_97_719_0_idx_2) * muDoubleScalarHypot(_rtB->B_97_705_0[2], _rtB->B_97_717_0[2]) * _rtP->P_1054;
    rtb_B_97_30_0[2] = (_rtP->P_1055 * rtb_B_97_30_0[2] - _rtP->P_1056 * muDoubleScalarAtan2(_rtB->B_97_717_0[2], _rtB->B_97_705_0[2])) * _rtP->P_1057;
    muDoubleScalarSinCos(rtb_B_97_30_0[0], &B_97_726_0_idx_0, &B_97_726_1_idx_0);
    muDoubleScalarSinCos(rtb_B_97_30_0[1], &B_97_726_0_idx_1, &B_97_726_1_idx_1);
    muDoubleScalarSinCos(rtb_B_97_30_0[2], &B_97_726_0_idx_2, &B_97_726_1_idx_2);
    B_97_726_1_idx_0 *= B_97_719_0_idx_0;
    B_97_726_1_idx_1 *= B_97_719_0_idx_1;
    B_97_726_1_idx_2 *= B_97_719_0_idx_2;
    _rtB->B_97_728_0 = (B_97_726_1_idx_0 + B_97_726_1_idx_1) + B_97_726_1_idx_2;
}
_rtB->B_97_729_0 = _rtX->integ1_CSTATE_nd;
%<tlcOutputsFcnOfS82B150>\
_rtB->B_97_731_0 = _rtB->B_97_729_0 - _rtB->B_97_730_0;
_rtB->B_97_732_0 = _rtX->Integ2_CSTATE_i;
%<tlcOutputsFcnOfS82B151>\
_rtB->B_97_734_0 = _rtB->B_97_732_0 - _rtB->B_97_733_0;
_rtB->B_97_735_0.re = _rtB->B_97_731_0;
_rtB->B_97_735_0.im = _rtB->B_97_734_0;
_rtB->B_97_736_0 = _rtX->integ1_CSTATE_d;
%<tlcOutputsFcnOfS82B152>\
_rtB->B_97_738_0 = _rtB->B_97_736_0 - _rtB->B_97_737_0;
_rtB->B_97_739_0 = _rtX->Integ2_CSTATE_pa;
%<tlcOutputsFcnOfS82B153>\
_rtB->B_97_741_0 = _rtB->B_97_739_0 - _rtB->B_97_740_0;
_rtB->B_97_742_0.re = _rtB->B_97_738_0;
_rtB->B_97_742_0.im = _rtB->B_97_741_0;
_rtB->B_97_743_0 = _rtX->integ1_CSTATE_e;
%<tlcOutputsFcnOfS82B154>\
_rtB->B_97_745_0 = _rtB->B_97_743_0 - _rtB->B_97_744_0;
_rtB->B_97_746_0 = _rtX->Integ2_CSTATE_e;
%<tlcOutputsFcnOfS82B155>\
_rtB->B_97_748_0 = _rtB->B_97_746_0 - _rtB->B_97_747_0;
_rtB->B_97_749_0.re = _rtB->B_97_745_0;
_rtB->B_97_749_0.im = _rtB->B_97_748_0;
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_751_0 = _rtB->B_97_750_0;
}
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[38], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation", ["S", "_rtB->B_97_751_0", "_rtB->B_97_735_0", "_rtB->B_97_742_0", "_rtB->B_97_749_0", "&_rtB->PosSeqComputation_f", "&_rtDW->PosSeqComputation_f", "&_rtP->PosSeqComputation_f"], 38, 5, 7, 0, 7, 82)>\

%endif
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_754_0 = _rtB->B_97_753_0;
}
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[38], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation", ["S", "_rtB->B_97_754_0", "_rtB->B_97_735_0", "_rtB->B_97_742_0", "_rtB->B_97_749_0", "&_rtB->NegSeqComputation_b", "&_rtDW->NegSeqComputation_b", "&_rtP->NegSeqComputation_b"], 38, 4, 7, 0, 7, 82)>\

%endif
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_757_0 = _rtB->B_97_756_0;
}
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[39], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation",39,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation", ["S", "_rtB->B_97_757_0", "_rtB->B_97_735_0", "_rtB->B_97_742_0", "_rtB->B_97_749_0", "&_rtB->ZeroSeqComputation_i", "&_rtDW->ZeroSeqComputation_i", "&_rtP->ZeroSeqComputation_i"], 39, 2, 7, 0, 7, 82)>\

%endif
_rtB->B_97_759_0[0] = muDoubleScalarHypot(_rtB->PosSeqComputation_f.B_39_2_0.re, _rtB->PosSeqComputation_f.B_39_2_0.im);
_rtB->B_97_759_0[1] = muDoubleScalarHypot(_rtB->NegSeqComputation_b.B_39_2_0.re, _rtB->NegSeqComputation_b.B_39_2_0.im);
_rtB->B_97_759_0[2] = muDoubleScalarHypot(_rtB->ZeroSeqComputation_i.B_41_1_0.re, _rtB->ZeroSeqComputation_i.B_41_1_0.im);
rtb_B_97_30_0[0] = muDoubleScalarAtan2(_rtB->PosSeqComputation_f.B_39_2_0.im, _rtB->PosSeqComputation_f.B_39_2_0.re);
rtb_B_97_30_0[1] = muDoubleScalarAtan2(_rtB->NegSeqComputation_b.B_39_2_0.im, _rtB->NegSeqComputation_b.B_39_2_0.re);
rtb_B_97_30_0[2] = muDoubleScalarAtan2(_rtB->ZeroSeqComputation_i.B_41_1_0.im, _rtB->ZeroSeqComputation_i.B_41_1_0.re);
_rtB->B_97_760_0 = _rtP->P_1079 * _rtB->B_97_759_0[0];
_rtB->B_97_761_0 = 0.0;
_rtB->B_97_761_0 += _rtP->P_1081 * _rtX->TransferFcn1_CSTATE_k;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    B_97_719_0_idx_0 *= B_97_726_0_idx_0;
    B_97_719_0_idx_1 *= B_97_726_0_idx_1;
    _rtB->B_97_763_0 = (B_97_719_0_idx_0 + B_97_719_0_idx_1) + B_97_719_0_idx_2 * B_97_726_0_idx_2;
}
%<tlcOutputsFcnOfS82B159>\
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    for (i = 0; i < 6; i++) {
        if (_rtB->B_97_116_1[i + 19] >= _rtP->P_1084) {
            B_5_0_0_idx_3 = _rtB->B_97_116_0[i + 19] * _rtP->P_1083;
        } else {
            B_5_0_0_idx_3 = _rtP->P_1082;
        }
        if (B_5_0_0_idx_3 > _rtP->P_1085) {
            _rtB->B_97_768_0[i] = _rtP->P_1085;
        } else if (B_5_0_0_idx_3 < _rtP->P_1086) {
            _rtB->B_97_768_0[i] = _rtP->P_1086;
        } else {
            _rtB->B_97_768_0[i] = B_5_0_0_idx_3;
        }
    }
    for (i = 0; i < 6; i++) {
        if (_rtDW->UnitDelay_DSTATE_c[i] != 0.0) {
            B_97_772_0[i] = _rtB->B_97_770_0[i];
        } else {
            B_97_772_0[i] = _rtB->B_97_771_0[i];
        }
    }
    rtb_B_97_82_0 = _rtP->P_1091 * ssGetTaskTime(S, 2);
    rtb_B_97_777_0 = _rtP->P_1093 * _rtP->P_1092;
    B_97_726_1_idx_0 = _rtP->P_1094[0];
    B_97_781_0_idx_0 = muDoubleScalarSin((rtb_B_97_82_0 + rtb_B_97_777_0) + _rtP->P_1094[0]) * _rtP->P_1090;
    B_97_726_1_idx_1 = _rtP->P_1094[1];
    B_97_781_0_idx_1 = muDoubleScalarSin((rtb_B_97_82_0 + rtb_B_97_777_0) + _rtP->P_1094[1]) * _rtP->P_1090;
    B_97_726_1_idx_2 = _rtP->P_1094[2];
    B_97_781_0_idx_2 = muDoubleScalarSin((rtb_B_97_82_0 + rtb_B_97_777_0) + _rtP->P_1094[2]) * _rtP->P_1090;
    rtb_B_97_777_0 = _rtP->P_1095;
}
i = ssIsSampleHit(S, 3, 0);
if (i != 0) {
    _rtB->B_97_783_0[0] = _rtDW->UnitDelay4_DSTATE[0];
    _rtB->B_97_783_0[1] = _rtDW->UnitDelay4_DSTATE[1];
    _rtB->B_97_783_0[2] = _rtDW->UnitDelay4_DSTATE[2];
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (rtb_B_97_777_0 >= _rtP->P_1097) {
        B_97_726_1_idx_0 = B_97_781_0_idx_0;
        B_97_726_1_idx_1 = B_97_781_0_idx_1;
        B_97_726_1_idx_2 = B_97_781_0_idx_2;
    } else {
        B_97_726_1_idx_0 = _rtB->B_97_783_0[0];
        B_97_726_1_idx_1 = _rtB->B_97_783_0[1];
        B_97_726_1_idx_2 = _rtB->B_97_783_0[2];
    }
}
_rtB->B_97_791_0 = look1_binlxpw(muDoubleScalarRem(ssGetT(S) - _rtB->B_97_786_0, _rtB->B_97_788_0), _rtP->P_1100, _rtP->P_1099, 3U);
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    rtb_B_97_384_0 = (B_97_726_1_idx_0 >= _rtB->B_97_791_0);
    rtb_B_97_76_0 = !rtb_B_97_384_0;
    rtb_B_97_111_0 = rtb_B_97_384_0;
    rtb_B_97_384_0 = (B_97_726_1_idx_1 >= _rtB->B_97_791_0);
    B_97_385_0_idx_1 = !rtb_B_97_384_0;
    B_97_384_0_idx_1 = rtb_B_97_384_0;
    rtb_B_97_384_0 = (B_97_726_1_idx_2 >= _rtB->B_97_791_0);
    _rtB->B_97_796_0[0] = rtb_B_97_111_0;
    _rtB->B_97_796_0[1] = rtb_B_97_76_0;
    _rtB->B_97_796_0[2] = B_97_384_0_idx_1;
    _rtB->B_97_796_0[3] = B_97_385_0_idx_1;
    _rtB->B_97_796_0[4] = rtb_B_97_384_0;
    _rtB->B_97_796_0[5] = !rtb_B_97_384_0;
    tmpForInput[0] = B_97_321_0_idx_0;
    tmpForInput[1] = B_97_321_0_idx_1;
    tmpForInput[2] = B_97_321_0_idx_2;
    tmpForInput[3] = rtb_B_97_613_0;
    tmpForInput[4] = rtb_B_97_614_0;
    tmpForInput[5] = rtb_B_97_619_0;
    tmpForInput[6] = rtb_B_97_622_0;
    tmpForInput[7] = rtb_B_97_623_0;
    tmpForInput[8] = rtb_B_97_624_0;
    rtb_B_97_803_0 = -0.0;
    for (i = 0; i < 9; i++) {
        rtb_B_97_803_0 += tmpForInput[i];
    }
    B_97_804_0 = _rtP->P_1101 * rtb_B_97_803_0;
    tmpForInput[0] = B_97_291_1_idx_2;
    tmpForInput[1] = B_97_328_1_idx_1;
    tmpForInput[2] = B_97_328_1_idx_2;
    tmpForInput[3] = rtb_B_97_574_0;
    tmpForInput[4] = rtb_B_97_575_0;
    tmpForInput[5] = rtb_B_97_580_0;
    tmpForInput[6] = rtb_B_97_583_0;
    tmpForInput[7] = rtb_B_97_584_0;
    tmpForInput[8] = rtb_B_97_585_0;
    rtb_B_97_805_0 = -0.0;
    for (i = 0; i < 9; i++) {
        rtb_B_97_805_0 += tmpForInput[i];
    }
    B_97_806_0 = _rtP->P_1102 * rtb_B_97_805_0;
}
%<tlcOutputsFcnOfS82B166>\
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
%<tlcOutputsFcnOfS82B167>\
%<tlcOutputsFcnOfS82B168>\
}
_rtB->B_97_811_0 = _rtP->P_1104 * _rtB->B_97_759_0[0];
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    if (ssIsMajorTimeStep(S) != 0) {
        _rtDW->RelationalOperator_Mode_e[0] = (_rtB->B_97_759_0[1] > _rtB->B_97_811_0);
        _rtDW->RelationalOperator_Mode_e[1] = (_rtB->B_97_759_0[2] > _rtB->B_97_811_0);
    }
    _rtB->B_97_812_0[0] = _rtDW->RelationalOperator_Mode_e[0];
    _rtB->B_97_812_0[1] = _rtDW->RelationalOperator_Mode_e[1];
}
if (_rtB->B_97_812_0[0] >= _rtP->P_1105) {
    B_97_813_0[0] = rtb_B_97_30_0[1];
} else {
    B_97_813_0[0] = _rtB->B_97_810_0;
}
if (_rtB->B_97_812_0[1] >= _rtP->P_1105) {
    B_97_813_0[1] = rtb_B_97_30_0[2];
} else {
    B_97_813_0[1] = _rtB->B_97_810_0;
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_814_0 = _rtP->P_1106 * _rtB->B_97_295_0[0];
}
rtb_B_97_82_0 = muDoubleScalarSin(_rtP->P_1109 * ssGetTaskTime(S, 0) + _rtP->P_1110) * _rtP->P_1107 + _rtP->P_1108;
_rtB->B_97_816_0 = rtb_B_97_82_0 * _rtB->B_97_814_0;
rtb_B_97_574_0 = muDoubleScalarSin(_rtP->P_1113 * ssGetTaskTime(S, 0) + _rtP->P_1114) * _rtP->P_1111 + _rtP->P_1112;
_rtB->B_97_818_0 = _rtB->B_97_814_0 * rtb_B_97_574_0;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_819_0 = _rtP->P_1115 * _rtB->B_97_295_0[1];
}
_rtB->B_97_820_0 = rtb_B_97_82_0 * _rtB->B_97_819_0;
_rtB->B_97_821_0 = _rtB->B_97_819_0 * rtb_B_97_574_0;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_822_0 = _rtP->P_1116 * _rtB->B_97_295_0[2];
}
_rtB->B_97_823_0 = rtb_B_97_82_0 * _rtB->B_97_822_0;
_rtB->B_97_824_0 = _rtB->B_97_822_0 * rtb_B_97_574_0;
B_97_825_0 = _rtP->P_1117 * rtb_B_97_30_0[0];
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    B_97_719_0_idx_0 = _rtP->P_1118 * _rtB->B_97_295_0[0];
    B_97_719_0_idx_1 = _rtP->P_1118 * _rtB->B_97_295_0[1];
    B_97_719_0_idx_2 = _rtP->P_1118 * _rtB->B_97_295_0[2];
    rtb_B_97_82_0 = muDoubleScalarMod(_rtDW->DiscreteTimeIntegrator_DSTATE_p, _rtB->B_97_828_0);
    rtb_B_97_574_0 = muDoubleScalarSin(rtb_B_97_82_0);
    rtb_B_97_803_0 = muDoubleScalarCos(rtb_B_97_82_0);
    rtb_B_97_805_0 = (0.0 - rtb_B_97_574_0 * _rtB->B_97_832_0) - rtb_B_97_803_0 * _rtB->B_97_834_0;
    rtb_B_97_575_0 = rtb_B_97_574_0 * _rtB->B_97_834_0 - rtb_B_97_803_0 * _rtB->B_97_832_0;
    rtb_B_97_580_0 = (0.0 - rtb_B_97_805_0) - rtb_B_97_574_0;
    rtb_B_97_583_0 = (0.0 - rtb_B_97_575_0) - rtb_B_97_803_0;
    _rtB->B_97_842_0 = ((B_97_719_0_idx_0 * rtb_B_97_803_0 + B_97_719_0_idx_1 * rtb_B_97_575_0) + B_97_719_0_idx_2 * rtb_B_97_583_0) * 0.66666666666666663;
    if (_rtDW->Integ4_SYSTEM_ENABLE_i != 0) {
        _rtB->B_97_843_0 = _rtDW->Integ4_DSTATE_ay;
    } else {
        _rtB->B_97_843_0 = _rtP->P_1124 * _rtB->B_97_842_0 + _rtDW->Integ4_DSTATE_ay;
    }
    _rtB->B_97_844_0 = _rtDW->UnitDelay_DSTATE_l;
    if (_rtB->B_97_844_0 > _rtP->P_1127) {
        B_5_0_0_idx_3 = _rtP->P_1127;
    } else if (_rtB->B_97_844_0 < _rtP->P_1128) {
        B_5_0_0_idx_3 = _rtP->P_1128;
    } else {
        B_5_0_0_idx_3 = _rtB->B_97_844_0;
    }
    rtb_B_97_584_0 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
    rtb_B_97_585_0 = muDoubleScalarCeil(rtb_B_97_584_0);
    _rtB->B_97_848_0 = _rtP->P_1129 * rtb_B_97_585_0;
%<tlcOutputsFcnOfS82B169>\
    rtb_B_97_82_0 = ssGetTaskTime(S, 2);
    if (rtb_B_97_82_0 < _rtP->P_1131) {
        rtb_B_97_82_0 = _rtP->P_1132;
    } else {
        rtb_B_97_82_0 = _rtP->P_1133;
    }
    if (rtb_B_97_82_0 >= _rtP->P_1135) {
        rtb_B_97_82_0 = rtb_B_97_584_0 - rtb_B_97_585_0;
        rtb_B_97_584_0 = ((_rtB->B_97_842_0 - _rtDW->UnitDelay_DSTATE_dw) * rtb_B_97_82_0 * _rtP->P_448 + _rtB->B_97_842_0) * (rtb_B_97_82_0 / rtb_B_97_584_0) + (_rtB->B_97_843_0 - _rtB->B_97_849_0) * _rtB->B_97_844_0;
    } else {
        rtb_B_97_584_0 = _rtP->P_1134;
    }
    _rtB->B_97_856_0 = _rtB->B_97_855_0;
    i = ssIsSampleHit(S, 2, 0);
    if ((i != 0) && (ssIsMajorTimeStep(S) != 0)) {
        if (_rtB->B_97_856_0 > 0.0) {
            if (!_rtDW->AutomaticGainControl_MODE_p) {
                if (ssGetTaskTime(S, 2) != ssGetTStart(S)) {
                    ssSetBlockStateForSolverChangedAtMajorStep(S);
                }
%<SLibCGIRSetStatesDisabled(82, 171, 0)>\
                _rtDW->Integ4_SYSTEM_ENABLE_k5 = 1U;
                _rtDW->Integ4_SYSTEM_ENABLE_ks = 1U;
                _rtDW->AutomaticGainControl_MODE_p = true;
            }
        } else {
            if (_rtDW->AutomaticGainControl_MODE_p) {
                ssSetBlockStateForSolverChangedAtMajorStep(S);
%<SLibCGIRSetStatesDisabled(82, 171, 1)>\
                _rtDW->AutomaticGainControl_MODE_p = false;
            }
        }
    }
    if (_rtDW->AutomaticGainControl_MODE_p) {
        i = ssIsSampleHit(S, 2, 0);
        if (i != 0) {
            rtb_B_97_585_0 = (0.0 - rtb_B_97_574_0 * _rtB->B_66_0_0) - rtb_B_97_803_0 * _rtB->B_66_2_0;
            rtb_B_97_613_0 = rtb_B_97_574_0 * _rtB->B_66_2_0 - rtb_B_97_803_0 * _rtB->B_66_0_0;
            rtb_B_97_614_0 = (0.0 - rtb_B_97_585_0) - rtb_B_97_574_0;
            rtb_B_97_619_0 = (0.0 - rtb_B_97_613_0) - rtb_B_97_803_0;
            _rtB->B_66_10_0 = ((B_97_719_0_idx_0 * rtb_B_97_574_0 + B_97_719_0_idx_1 * rtb_B_97_585_0) + B_97_719_0_idx_2 * rtb_B_97_614_0) * 0.66666666666666663;
            if (_rtDW->Integ4_SYSTEM_ENABLE_k5 != 0) {
                _rtB->B_66_11_0 = _rtDW->Integ4_DSTATE_o;
            } else {
                _rtB->B_66_11_0 = _rtP->P_422 * _rtB->B_66_10_0 + _rtDW->Integ4_DSTATE_o;
            }
            if (_rtB->B_97_844_0 > _rtP->P_424) {
                B_5_0_0_idx_3 = _rtP->P_424;
            } else if (_rtB->B_97_844_0 < _rtP->P_425) {
                B_5_0_0_idx_3 = _rtP->P_425;
            } else {
                B_5_0_0_idx_3 = _rtB->B_97_844_0;
            }
            rtb_B_97_622_0 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
            rtb_B_97_623_0 = muDoubleScalarCeil(rtb_B_97_622_0);
            _rtB->B_66_15_0 = _rtP->P_426 * rtb_B_97_623_0;
%<tlcOutputsFcnOfS58B0>\
            rtb_B_97_82_0 = ssGetTaskTime(S, 2);
            if (rtb_B_97_82_0 < _rtP->P_428) {
                rtb_B_97_82_0 = _rtP->P_429;
            } else {
                rtb_B_97_82_0 = _rtP->P_430;
            }
            if (rtb_B_97_82_0 >= _rtP->P_432) {
                rtb_B_97_82_0 = rtb_B_97_622_0 - rtb_B_97_623_0;
                rtb_B_97_622_0 = ((_rtB->B_66_10_0 - _rtDW->UnitDelay_DSTATE_a) * rtb_B_97_82_0 * _rtP->P_417 + _rtB->B_66_10_0) * (rtb_B_97_82_0 / rtb_B_97_622_0) + (_rtB->B_66_11_0 - _rtB->B_66_16_0) * _rtB->B_97_844_0;
            } else {
                rtb_B_97_622_0 = _rtP->P_431;
            }
            _rtB->B_66_22_0 = ((B_97_719_0_idx_0 * rtb_B_97_803_0 + B_97_719_0_idx_1 * rtb_B_97_613_0) + B_97_719_0_idx_2 * rtb_B_97_619_0) * 0.66666666666666663;
            if (_rtDW->Integ4_SYSTEM_ENABLE_ks != 0) {
                _rtB->B_66_23_0 = _rtDW->Integ4_DSTATE_g1;
            } else {
                _rtB->B_66_23_0 = _rtP->P_433 * _rtB->B_66_22_0 + _rtDW->Integ4_DSTATE_g1;
            }
            if (_rtB->B_97_844_0 > _rtP->P_435) {
                B_5_0_0_idx_3 = _rtP->P_435;
            } else if (_rtB->B_97_844_0 < _rtP->P_436) {
                B_5_0_0_idx_3 = _rtP->P_436;
            } else {
                B_5_0_0_idx_3 = _rtB->B_97_844_0;
            }
            rtb_B_97_623_0 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
            rtb_B_97_624_0 = muDoubleScalarCeil(rtb_B_97_623_0);
            _rtB->B_66_27_0 = _rtP->P_437 * rtb_B_97_624_0;
%<tlcOutputsFcnOfS58B2>\
            rtb_B_97_82_0 = ssGetTaskTime(S, 2);
            if (rtb_B_97_82_0 < _rtP->P_439) {
                rtb_B_97_82_0 = _rtP->P_440;
            } else {
                rtb_B_97_82_0 = _rtP->P_441;
            }
            if (rtb_B_97_82_0 >= _rtP->P_443) {
                rtb_B_97_82_0 = rtb_B_97_623_0 - rtb_B_97_624_0;
                rtb_B_97_82_0 = ((_rtB->B_66_22_0 - _rtDW->UnitDelay_DSTATE_b0) * rtb_B_97_82_0 * _rtP->P_418 + _rtB->B_66_22_0) * (rtb_B_97_82_0 / rtb_B_97_623_0) + (_rtB->B_66_23_0 - _rtB->B_66_28_0) * _rtB->B_97_844_0;
            } else {
                rtb_B_97_82_0 = _rtP->P_442;
            }
            B_66_36_0 = _rtP->P_444 * muDoubleScalarAtan2(rtb_B_97_82_0, rtb_B_97_622_0);
            tmpForInput[0] = B_97_719_0_idx_0;
            tmpForInput[1] = B_97_719_0_idx_1;
            tmpForInput[2] = B_97_719_0_idx_2;
            tmpForInput[3] = rtb_B_97_574_0;
            tmpForInput[4] = rtb_B_97_803_0;
            tmpForInput[5] = rtb_B_97_585_0;
            tmpForInput[6] = rtb_B_97_613_0;
            tmpForInput[7] = rtb_B_97_614_0;
            tmpForInput[8] = rtb_B_97_619_0;
            rtb_B_97_623_0 = -0.0;
            for (i = 0; i < 9; i++) {
                rtb_B_97_623_0 += tmpForInput[i];
            }
            B_66_38_0 = _rtP->P_445 * rtb_B_97_623_0;
            B_5_0_0_idx_3 = muDoubleScalarHypot(rtb_B_97_622_0, rtb_B_97_82_0);
            if (B_5_0_0_idx_3 > _rtP->P_446) {
                B_5_0_0_idx_3 = _rtP->P_446;
            } else {
                if (B_5_0_0_idx_3 < _rtP->P_447) {
                    B_5_0_0_idx_3 = _rtP->P_447;
                }
            }
            _rtB->B_66_40_0 = 1.0 / B_5_0_0_idx_3;
        }
        if (ssIsMajorTimeStep(S) != 0) {
            srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC_n);
        }
    }
    rtb_B_97_623_0 = rtb_B_97_584_0 * _rtB->B_66_40_0;
    _rtB->B_97_863_0 = _rtP->P_1142 * rtb_B_97_623_0 * _rtP->P_1143;
    B_97_864_0 = _rtDW->UD_DSTATE_b;
    B_97_865_0 = _rtB->B_97_863_0 - B_97_864_0;
    B_5_0_0_idx_3 = (_rtP->P_1137 * rtb_B_97_623_0 + _rtDW->DiscreteTimeIntegrator_DSTATE_pw) + B_97_865_0;
    if (B_5_0_0_idx_3 > _rtP->P_1145) {
        _rtB->B_97_867_0 = _rtP->P_1145;
    } else if (B_5_0_0_idx_3 < _rtP->P_1146) {
        _rtB->B_97_867_0 = _rtP->P_1146;
    } else {
        _rtB->B_97_867_0 = B_5_0_0_idx_3;
    }
    B_5_0_0_idx_3 = _rtP->P_1147 * _rtB->B_97_867_0 - _rtDW->UnitDelay_DSTATE_kd;
    if (B_5_0_0_idx_3 > _rtP->P_1149) {
        B_5_0_0_idx_3 = _rtP->P_1149;
    } else {
        if (B_5_0_0_idx_3 < _rtP->P_1150) {
            B_5_0_0_idx_3 = _rtP->P_1150;
        }
    }
    _rtB->B_97_872_0 = B_5_0_0_idx_3 + _rtDW->UnitDelay_DSTATE_kd;
%<tlcOutputsFcnOfS82B172>\
    _rtB->B_97_875_0 = _rtP->P_1156 * rtb_B_97_623_0;
    B_97_876_0 = ((B_97_719_0_idx_0 * rtb_B_97_574_0 + B_97_719_0_idx_1 * rtb_B_97_805_0) + B_97_719_0_idx_2 * rtb_B_97_580_0) * 0.66666666666666663;
    tmpForInput[0] = B_97_719_0_idx_0;
    tmpForInput[1] = B_97_719_0_idx_1;
    tmpForInput[2] = B_97_719_0_idx_2;
    tmpForInput[3] = rtb_B_97_574_0;
    tmpForInput[4] = rtb_B_97_803_0;
    tmpForInput[5] = rtb_B_97_805_0;
    tmpForInput[6] = rtb_B_97_575_0;
    tmpForInput[7] = rtb_B_97_580_0;
    tmpForInput[8] = rtb_B_97_583_0;
    B_97_719_0_idx_1 = -0.0;
    for (i = 0; i < 9; i++) {
        B_97_719_0_idx_1 += tmpForInput[i];
    }
    B_97_878_0 = _rtP->P_1157 * B_97_719_0_idx_1;
    B_97_726_1_idx_0 = (_rtP->P_1158 * B_97_726_1_idx_0 >= _rtB->B_97_791_0);
    B_97_726_1_idx_1 = (_rtP->P_1158 * B_97_726_1_idx_1 >= _rtB->B_97_791_0);
    B_97_726_1_idx_2 = (_rtP->P_1158 * B_97_726_1_idx_2 >= _rtB->B_97_791_0);
    B_97_882_0[0] = !(B_97_726_1_idx_0 != 0.0);
    B_97_882_0[1] = !(B_97_726_1_idx_1 != 0.0);
    B_97_882_0[2] = !(B_97_726_1_idx_2 != 0.0);
}
_rtB->B_97_883_0 = 0.0;
_rtB->B_97_883_0 += _rtP->P_1160 * _rtX->TransferFcn4_CSTATE;
_rtB->B_97_884_0 = _rtX->Integrator_CSTATE;
_rtB->B_97_885_0 = _rtP->P_1162 * _rtB->B_97_883_0;
_rtB->B_97_886_0 = _rtX->Filter_CSTATE;
_rtB->B_97_887_0 = _rtB->B_97_885_0 - _rtB->B_97_886_0;
_rtB->B_97_888_0 = _rtP->P_1164 * _rtB->B_97_887_0;
_rtB->B_97_889_0 = 0.0;
_rtB->B_97_889_0 += _rtP->P_1166 * _rtX->TransferFcn1_CSTATE_m;
_rtB->B_97_891_0 = _rtB->B_97_889_0 - _rtB->B_97_890_0;
if (ssGetT(S) >= _rtP->P_1169) {
    _rtB->B_97_894_0 = _rtB->B_97_891_0;
} else {
    _rtB->B_97_894_0 = _rtB->B_97_893_0;
}
_rtB->B_97_895_0 = _rtX->Integrator_CSTATE_c;
_rtB->B_97_896_0 = _rtP->P_1171 * _rtB->B_97_894_0;
_rtB->B_97_897_0 = _rtX->Filter_CSTATE_e;
_rtB->B_97_898_0 = _rtB->B_97_896_0 - _rtB->B_97_897_0;
_rtB->B_97_899_0 = _rtP->P_1173 * _rtB->B_97_898_0;
_rtB->B_97_900_0 = 0.0;
_rtB->B_97_900_0 += _rtP->P_1175 * _rtX->TransferFcn2_CSTATE;
_rtB->B_97_902_0 = _rtX->Integrator_CSTATE_a;
_rtB->B_97_903_0 = _rtP->P_1178 * _rtB->B_97_900_0;
_rtB->B_97_904_0 = _rtX->Filter_CSTATE_g;
_rtB->B_97_905_0 = _rtB->B_97_903_0 - _rtB->B_97_904_0;
_rtB->B_97_906_0 = _rtP->P_1180 * _rtB->B_97_905_0;
if (ssGetT(S) >= _rtP->P_1181) {
    B_97_719_0_idx_1 = ((_rtP->P_502 * _rtB->B_97_894_0 + _rtB->B_97_895_0) + _rtB->B_97_899_0) + ((_rtP->P_1176 * _rtB->B_97_900_0 + _rtB->B_97_902_0) + _rtB->B_97_906_0);
} else {
    B_97_719_0_idx_1 = (_rtP->P_1176 * _rtB->B_97_900_0 + _rtB->B_97_902_0) + _rtB->B_97_906_0;
}
if (ssGetT(S) >= _rtP->P_1182) {
    B_97_719_0_idx_1 += (_rtP->P_501 * _rtB->B_97_883_0 + _rtB->B_97_884_0) + _rtB->B_97_888_0;
}
_rtB->B_97_914_0 = _rtP->P_1183 * B_97_719_0_idx_1;
_rtB->B_97_915_0 = 0.0;
_rtB->B_97_915_0 += _rtP->P_1185 * _rtX->TransferFcn4_CSTATE_k;
_rtB->B_97_916_0 = _rtX->Integrator_CSTATE_h;
_rtB->B_97_917_0 = _rtP->P_1187 * _rtB->B_97_915_0;
_rtB->B_97_918_0 = _rtX->Filter_CSTATE_c;
_rtB->B_97_919_0 = _rtB->B_97_917_0 - _rtB->B_97_918_0;
_rtB->B_97_920_0 = _rtP->P_1189 * _rtB->B_97_919_0;
_rtB->B_97_922_0 = _rtB->B_97_760_0 - _rtB->B_97_921_0;
if (ssGetT(S) >= _rtP->P_1192) {
    _rtB->B_97_925_0 = _rtB->B_97_922_0;
} else {
    _rtB->B_97_925_0 = _rtB->B_97_924_0;
}
_rtB->B_97_926_0 = _rtX->Integrator_CSTATE_g;
_rtB->B_97_927_0 = _rtP->P_1194 * _rtB->B_97_925_0;
_rtB->B_97_928_0 = _rtX->Filter_CSTATE_b;
_rtB->B_97_929_0 = _rtB->B_97_927_0 - _rtB->B_97_928_0;
_rtB->B_97_930_0 = _rtP->P_1196 * _rtB->B_97_929_0;
_rtB->B_97_931_0 = 0.0;
_rtB->B_97_931_0 += _rtP->P_1198 * _rtX->TransferFcn2_CSTATE_d;
_rtB->B_97_933_0 = _rtX->Integrator_CSTATE_h0;
_rtB->B_97_934_0 = _rtP->P_1201 * _rtB->B_97_931_0;
_rtB->B_97_935_0 = _rtX->Filter_CSTATE_p;
_rtB->B_97_936_0 = _rtB->B_97_934_0 - _rtB->B_97_935_0;
_rtB->B_97_937_0 = _rtP->P_1203 * _rtB->B_97_936_0;
if (ssGetT(S) >= _rtP->P_1204) {
    B_97_719_0_idx_1 = ((_rtP->P_536 * _rtB->B_97_925_0 + _rtB->B_97_926_0) + _rtB->B_97_930_0) + ((_rtP->P_1199 * _rtB->B_97_931_0 + _rtB->B_97_933_0) + _rtB->B_97_937_0);
} else {
    B_97_719_0_idx_1 = (_rtP->P_1199 * _rtB->B_97_931_0 + _rtB->B_97_933_0) + _rtB->B_97_937_0;
}
if (ssGetT(S) >= _rtP->P_1205) {
    B_97_719_0_idx_1 += (_rtP->P_535 * _rtB->B_97_915_0 + _rtB->B_97_916_0) + _rtB->B_97_920_0;
}
_rtB->B_97_945_0 = _rtP->P_1206 * B_97_719_0_idx_1;
%<tlcOutputsFcnOfS82B177>\
_rtB->B_97_949_0 = _rtP->P_1207 * _rtB->B_97_900_0;
_rtB->B_97_950_0 = _rtP->P_1208 * _rtB->B_97_894_0;
_rtB->B_97_951_0 = _rtP->P_1209 * _rtB->B_97_883_0;
if (ssGetT(S) >= _rtP->P_1211) {
    _rtB->B_97_953_0 = _rtB->B_97_891_0;
} else {
    _rtB->B_97_953_0 = _rtB->B_97_952_0;
}
if (ssGetT(S) >= _rtP->P_1213) {
    _rtB->B_97_955_0 = _rtB->B_97_891_0;
} else {
    _rtB->B_97_955_0 = _rtB->B_97_954_0;
}
_rtB->B_97_957_0 = _rtB->B_97_956_0 + _rtB->B_97_914_0;
if (ssIsMajorTimeStep(S) != 0) {
    _rtDW->Saturation_MODE = _rtB->B_97_957_0 >= _rtP->P_1215 ? 1 : _rtB->B_97_957_0 > _rtP->P_1216 ? 0 : -1;
}
B_97_719_0_idx_1 = _rtDW->Saturation_MODE == 1 ? _rtP->P_1215 : _rtDW->Saturation_MODE == -1 ? _rtP->P_1216 : _rtB->B_97_957_0;
_rtB->B_97_960_0 = _rtB->B_97_959_0 + _rtB->B_97_945_0;
if (ssIsMajorTimeStep(S) != 0) {
    _rtDW->Saturation1_MODE = _rtB->B_97_960_0 >= _rtP->P_1218 ? 1 : _rtB->B_97_960_0 > _rtP->P_1219 ? 0 : -1;
}
rtb_B_97_623_0 = _rtDW->Saturation1_MODE == 1 ? _rtP->P_1218 : _rtDW->Saturation1_MODE == -1 ? _rtP->P_1219 : _rtB->B_97_960_0;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_964_0 = muDoubleScalarMod(_rtDW->DiscreteTimeIntegrator_DSTATE_o, _rtB->B_97_963_0);
    B_97_965_0_idx_0 = _rtP->P_1223 * B_97_291_1_idx_2;
    B_97_965_0_idx_1 = _rtP->P_1223 * B_97_328_1_idx_1;
    B_97_965_0_idx_2 = _rtP->P_1223 * B_97_328_1_idx_2;
    rtb_B_97_966_0 = muDoubleScalarSin(_rtB->B_97_964_0);
    rtb_B_97_967_0 = muDoubleScalarCos(_rtB->B_97_964_0);
    rtb_B_97_972_0 = (0.0 - rtb_B_97_966_0 * _rtB->B_97_968_0) - rtb_B_97_967_0 * _rtB->B_97_970_0;
    rtb_B_97_975_0 = rtb_B_97_966_0 * _rtB->B_97_970_0 - rtb_B_97_967_0 * _rtB->B_97_968_0;
    rtb_B_97_976_0 = (0.0 - rtb_B_97_972_0) - rtb_B_97_966_0;
    rtb_B_97_977_0 = (0.0 - rtb_B_97_975_0) - rtb_B_97_967_0;
    _rtB->B_97_978_0 = ((B_97_965_0_idx_0 * rtb_B_97_966_0 + B_97_965_0_idx_1 * rtb_B_97_972_0) + B_97_965_0_idx_2 * rtb_B_97_976_0) * 0.66666666666666663;
    _rtB->B_97_979_0 = ((B_97_965_0_idx_0 * rtb_B_97_967_0 + B_97_965_0_idx_1 * rtb_B_97_975_0) + B_97_965_0_idx_2 * rtb_B_97_977_0) * 0.66666666666666663;
    B_97_726_1_idx_0 = _rtP->P_1226 * B_97_321_0_idx_0 * _rtP->P_1227;
    B_97_726_1_idx_1 = _rtP->P_1226 * B_97_321_0_idx_1 * _rtP->P_1227;
    B_97_726_1_idx_2 = _rtP->P_1226 * B_97_321_0_idx_2 * _rtP->P_1227;
    rtb_B_97_986_0 = (0.0 - rtb_B_97_966_0 * _rtB->B_97_982_0) - rtb_B_97_967_0 * _rtB->B_97_984_0;
    rtb_B_97_989_0 = rtb_B_97_966_0 * _rtB->B_97_984_0 - rtb_B_97_967_0 * _rtB->B_97_982_0;
    rtb_B_97_990_0 = (0.0 - rtb_B_97_986_0) - rtb_B_97_966_0;
    rtb_B_97_991_0 = (0.0 - rtb_B_97_989_0) - rtb_B_97_967_0;
    _rtB->B_97_992_0 = ((B_97_726_1_idx_0 * rtb_B_97_966_0 + B_97_726_1_idx_1 * rtb_B_97_986_0) + B_97_726_1_idx_2 * rtb_B_97_990_0) * 0.66666666666666663;
    _rtB->B_97_993_0 = ((B_97_726_1_idx_0 * rtb_B_97_967_0 + B_97_726_1_idx_1 * rtb_B_97_989_0) + B_97_726_1_idx_2 * rtb_B_97_991_0) * 0.66666666666666663;
%<tlcOutputsFcnOfS82B178>\
}
_rtB->B_97_996_0 = (_rtB->B_97_657_0[0] - B_97_719_0_idx_1) * _rtP->P_1230;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_998_0 = _rtP->P_1232 * _rtB->B_97_996_0;
    _rtB->B_97_999_0 = _rtP->P_1233 * _rtB->B_97_998_0 + _rtDW->Integrator_DSTATE;
    B_5_0_0_idx_3 = _rtP->P_1231 * _rtB->B_97_996_0 + _rtB->B_97_999_0;
    if (B_5_0_0_idx_3 > _rtP->P_1235) {
        _rtB->B_97_1001_0 = _rtP->P_1235;
    } else if (B_5_0_0_idx_3 < _rtP->P_1236) {
        _rtB->B_97_1001_0 = _rtP->P_1236;
    } else {
        _rtB->B_97_1001_0 = B_5_0_0_idx_3;
    }
}
_rtB->B_97_1003_0 = (_rtB->B_97_657_0[1] - rtb_B_97_623_0) * _rtP->P_1237;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_1005_0 = _rtP->P_1239 * _rtB->B_97_1003_0;
    _rtB->B_97_1006_0 = _rtP->P_1240 * _rtB->B_97_1005_0 + _rtDW->Integrator_DSTATE_l;
    B_5_0_0_idx_3 = _rtP->P_1238 * _rtB->B_97_1003_0 + _rtB->B_97_1006_0;
    if (B_5_0_0_idx_3 > _rtP->P_1242) {
        _rtB->B_97_1008_0 = _rtP->P_1242;
    } else if (B_5_0_0_idx_3 < _rtP->P_1243) {
        _rtB->B_97_1008_0 = _rtP->P_1243;
    } else {
        _rtB->B_97_1008_0 = B_5_0_0_idx_3;
    }
    _rtB->B_97_1009_0[0] = _rtB->B_97_1001_0 - _rtB->B_97_992_0;
    _rtB->B_97_1009_0[1] = _rtB->B_97_1008_0 - _rtB->B_97_993_0;
    B_5_0_0_idx_3 = _rtP->P_1244 * _rtB->B_97_1009_0[0] + _rtDW->Integrator_DSTATE_n[0];
    if (B_5_0_0_idx_3 > _rtP->P_1247) {
        _rtB->B_97_1013_0[0] = _rtP->P_1247;
    } else if (B_5_0_0_idx_3 < _rtP->P_1248) {
        _rtB->B_97_1013_0[0] = _rtP->P_1248;
    } else {
        _rtB->B_97_1013_0[0] = B_5_0_0_idx_3;
    }
    B_5_0_0_idx_3 = _rtP->P_1244 * _rtB->B_97_1009_0[1] + _rtDW->Integrator_DSTATE_n[1];
    if (B_5_0_0_idx_3 > _rtP->P_1247) {
        _rtB->B_97_1013_0[1] = _rtP->P_1247;
    } else if (B_5_0_0_idx_3 < _rtP->P_1248) {
        _rtB->B_97_1013_0[1] = _rtP->P_1248;
    } else {
        _rtB->B_97_1013_0[1] = B_5_0_0_idx_3;
    }
    _rtB->B_97_1016_0 = (_rtP->P_1249 * _rtB->B_97_1001_0 + _rtB->B_97_978_0) - _rtP->P_1250 * _rtB->B_97_1008_0;
    _rtB->B_97_1019_0 = (_rtP->P_1251 * _rtB->B_97_1008_0 + _rtB->B_97_979_0) + _rtP->P_1252 * _rtB->B_97_1001_0;
    _rtB->B_97_1021_0[0] = (_rtB->B_97_1013_0[0] + _rtB->B_97_1016_0) * _rtP->P_1253;
    _rtB->B_97_1021_0[1] = (_rtB->B_97_1013_0[1] + _rtB->B_97_1019_0) * _rtP->P_1253;
    if (_rtB->B_97_1021_0[0] > _rtP->P_1254) {
        _rtB->B_97_1022_0[0] = _rtP->P_1254;
    } else if (_rtB->B_97_1021_0[0] < _rtP->P_1255) {
        _rtB->B_97_1022_0[0] = _rtP->P_1255;
    } else {
        _rtB->B_97_1022_0[0] = _rtB->B_97_1021_0[0];
    }
    if (_rtB->B_97_1021_0[1] > _rtP->P_1254) {
        _rtB->B_97_1022_0[1] = _rtP->P_1254;
    } else if (_rtB->B_97_1021_0[1] < _rtP->P_1255) {
        _rtB->B_97_1022_0[1] = _rtP->P_1255;
    } else {
        _rtB->B_97_1022_0[1] = _rtB->B_97_1021_0[1];
    }
    B_5_0_0_idx_3 = _rtB->B_97_1022_0[0] / _rtB->B_97_1026_0;
    rtb_B_97_176_0 = _rtB->B_97_1022_0[1] / _rtB->B_97_1026_0;
    B_97_719_0_idx_1 = muDoubleScalarAtan2(rtb_B_97_176_0, B_5_0_0_idx_3);
    rtb_B_97_623_0 = muDoubleScalarHypot(B_5_0_0_idx_3, rtb_B_97_176_0);
    if (rtb_B_97_623_0 > _rtP->P_1259) {
        rtb_B_97_623_0 = _rtP->P_1259;
    } else {
        if (rtb_B_97_623_0 < _rtP->P_1260) {
            rtb_B_97_623_0 = _rtP->P_1260;
        }
    }
    _rtB->B_97_1037_0[0] = muDoubleScalarSin((((_rtB->B_97_964_0 + _rtB->B_97_1031_0[0]) + _rtB->B_97_1032_0) + _rtB->B_97_1033_0) + B_97_719_0_idx_1) * rtb_B_97_623_0;
    _rtB->B_97_1037_0[1] = muDoubleScalarSin((((_rtB->B_97_964_0 + _rtB->B_97_1031_0[1]) + _rtB->B_97_1032_0) + _rtB->B_97_1033_0) + B_97_719_0_idx_1) * rtb_B_97_623_0;
    _rtB->B_97_1037_0[2] = muDoubleScalarSin((((_rtB->B_97_964_0 + _rtB->B_97_1031_0[2]) + _rtB->B_97_1032_0) + _rtB->B_97_1033_0) + B_97_719_0_idx_1) * rtb_B_97_623_0;
%<tlcOutputsFcnOfS82B179>\
%<tlcOutputsFcnOfS82B180>\
%<tlcOutputsFcnOfS82B181>\
%<tlcOutputsFcnOfS82B182>\
%<tlcOutputsFcnOfS82B183>\
%<tlcOutputsFcnOfS82B184>\
%<tlcOutputsFcnOfS82B185>\
%<tlcOutputsFcnOfS82B186>\
%<tlcOutputsFcnOfS82B187>\
%<tlcOutputsFcnOfS82B188>\
    _rtB->B_97_1048_0[0] = _rtP->P_1264 * _rtB->B_97_1009_0[0];
    _rtB->B_97_1048_0[1] = _rtP->P_1264 * _rtB->B_97_1009_0[1];
}
%<tlcOutputsFcnOfS82B189>\
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    B_97_719_0_idx_1 = (0.0 - rtb_B_97_966_0 * _rtB->B_97_1050_0) - rtb_B_97_967_0 * _rtB->B_97_1052_0;
    rtb_B_97_623_0 = rtb_B_97_966_0 * _rtB->B_97_1052_0 - rtb_B_97_967_0 * _rtB->B_97_1050_0;
    rtb_B_97_574_0 = (0.0 - B_97_719_0_idx_1) - rtb_B_97_966_0;
    rtb_B_97_803_0 = (0.0 - rtb_B_97_623_0) - rtb_B_97_967_0;
    _rtB->B_97_1060_0 = ((B_97_965_0_idx_0 * rtb_B_97_967_0 + B_97_965_0_idx_1 * rtb_B_97_623_0) + B_97_965_0_idx_2 * rtb_B_97_803_0) * 0.66666666666666663;
    if (_rtDW->Integ4_SYSTEM_ENABLE_hq != 0) {
        _rtB->B_97_1061_0 = _rtDW->Integ4_DSTATE_bi;
    } else {
        _rtB->B_97_1061_0 = _rtP->P_1267 * _rtB->B_97_1060_0 + _rtDW->Integ4_DSTATE_bi;
    }
    rtb_B_97_805_0 = _rtDW->UnitDelay_DSTATE_dd;
    if (_rtDW->UnitDelay_DSTATE_dd > _rtP->P_1270) {
        B_5_0_0_idx_3 = _rtP->P_1270;
    } else if (_rtDW->UnitDelay_DSTATE_dd < _rtP->P_1271) {
        B_5_0_0_idx_3 = _rtP->P_1271;
    } else {
        B_5_0_0_idx_3 = _rtDW->UnitDelay_DSTATE_dd;
    }
    rtb_B_97_575_0 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
    rtb_B_97_580_0 = muDoubleScalarCeil(rtb_B_97_575_0);
    _rtB->B_97_1066_0 = _rtP->P_1272 * rtb_B_97_580_0;
%<tlcOutputsFcnOfS82B190>\
    rtb_B_97_82_0 = ssGetTaskTime(S, 2);
    if (rtb_B_97_82_0 < _rtP->P_1274) {
        rtb_B_97_82_0 = _rtP->P_1275;
    } else {
        rtb_B_97_82_0 = _rtP->P_1276;
    }
    if (rtb_B_97_82_0 >= _rtP->P_1278) {
        rtb_B_97_82_0 = rtb_B_97_575_0 - rtb_B_97_580_0;
        rtb_B_97_575_0 = ((_rtB->B_97_1060_0 - _rtDW->UnitDelay_DSTATE_mf) * rtb_B_97_82_0 * _rtP->P_534 + _rtB->B_97_1060_0) * (rtb_B_97_82_0 / rtb_B_97_575_0) + (_rtB->B_97_1061_0 - _rtB->B_97_1067_0) * rtb_B_97_805_0;
    } else {
        rtb_B_97_575_0 = _rtP->P_1277;
    }
    _rtB->B_97_1074_0 = _rtB->B_97_1073_0;
    i = ssIsSampleHit(S, 2, 0);
    if ((i != 0) && (ssIsMajorTimeStep(S) != 0)) {
        if (_rtB->B_97_1074_0 > 0.0) {
            if (!_rtDW->AutomaticGainControl_MODE) {
                if (ssGetTaskTime(S, 2) != ssGetTStart(S)) {
                    ssSetBlockStateForSolverChangedAtMajorStep(S);
                }
%<SLibCGIRSetStatesDisabled(82, 192, 0)>\
                _rtDW->Integ4_SYSTEM_ENABLE_f0v = 1U;
                _rtDW->Integ4_SYSTEM_ENABLE_ki = 1U;
                _rtDW->AutomaticGainControl_MODE = true;
            }
        } else {
            if (_rtDW->AutomaticGainControl_MODE) {
                ssSetBlockStateForSolverChangedAtMajorStep(S);
%<SLibCGIRSetStatesDisabled(82, 192, 1)>\
                _rtDW->AutomaticGainControl_MODE = false;
            }
        }
    }
    if (_rtDW->AutomaticGainControl_MODE) {
        i = ssIsSampleHit(S, 2, 0);
        if (i != 0) {
            rtb_B_97_580_0 = (0.0 - rtb_B_97_966_0 * _rtB->B_93_0_0) - rtb_B_97_967_0 * _rtB->B_93_2_0;
            rtb_B_97_583_0 = rtb_B_97_966_0 * _rtB->B_93_2_0 - rtb_B_97_967_0 * _rtB->B_93_0_0;
            rtb_B_97_584_0 = (0.0 - rtb_B_97_580_0) - rtb_B_97_966_0;
            rtb_B_97_585_0 = (0.0 - rtb_B_97_583_0) - rtb_B_97_967_0;
            _rtB->B_93_10_0 = ((B_97_965_0_idx_0 * rtb_B_97_966_0 + B_97_965_0_idx_1 * rtb_B_97_580_0) + B_97_965_0_idx_2 * rtb_B_97_584_0) * 0.66666666666666663;
            if (_rtDW->Integ4_SYSTEM_ENABLE_f0v != 0) {
                _rtB->B_93_11_0 = _rtDW->Integ4_DSTATE_pa;
            } else {
                _rtB->B_93_11_0 = _rtP->P_508 * _rtB->B_93_10_0 + _rtDW->Integ4_DSTATE_pa;
            }
            if (rtb_B_97_805_0 > _rtP->P_510) {
                B_97_321_0_idx_0 = _rtP->P_510;
            } else if (rtb_B_97_805_0 < _rtP->P_511) {
                B_97_321_0_idx_0 = _rtP->P_511;
            } else {
                B_97_321_0_idx_0 = rtb_B_97_805_0;
            }
            rtb_B_97_613_0 = 1.0 / B_97_321_0_idx_0 / 1.0e-5;
            rtb_B_97_614_0 = muDoubleScalarCeil(rtb_B_97_613_0);
            _rtB->B_93_15_0 = _rtP->P_512 * rtb_B_97_614_0;
%<tlcOutputsFcnOfS78B0>\
            rtb_B_97_82_0 = ssGetTaskTime(S, 2);
            if (rtb_B_97_82_0 < _rtP->P_514) {
                rtb_B_97_82_0 = _rtP->P_515;
            } else {
                rtb_B_97_82_0 = _rtP->P_516;
            }
            if (rtb_B_97_82_0 >= _rtP->P_518) {
                rtb_B_97_82_0 = rtb_B_97_613_0 - rtb_B_97_614_0;
                rtb_B_97_613_0 = ((_rtB->B_93_10_0 - _rtDW->UnitDelay_DSTATE_eer) * rtb_B_97_82_0 * _rtP->P_503 + _rtB->B_93_10_0) * (rtb_B_97_82_0 / rtb_B_97_613_0) + (_rtB->B_93_11_0 - _rtB->B_93_16_0) * rtb_B_97_805_0;
            } else {
                rtb_B_97_613_0 = _rtP->P_517;
            }
            _rtB->B_93_22_0 = ((B_97_965_0_idx_0 * rtb_B_97_967_0 + B_97_965_0_idx_1 * rtb_B_97_583_0) + B_97_965_0_idx_2 * rtb_B_97_585_0) * 0.66666666666666663;
            if (_rtDW->Integ4_SYSTEM_ENABLE_ki != 0) {
                _rtB->B_93_23_0 = _rtDW->Integ4_DSTATE_jc;
            } else {
                _rtB->B_93_23_0 = _rtP->P_519 * _rtB->B_93_22_0 + _rtDW->Integ4_DSTATE_jc;
            }
            if (rtb_B_97_805_0 > _rtP->P_521) {
                B_97_321_0_idx_0 = _rtP->P_521;
            } else if (rtb_B_97_805_0 < _rtP->P_522) {
                B_97_321_0_idx_0 = _rtP->P_522;
            } else {
                B_97_321_0_idx_0 = rtb_B_97_805_0;
            }
            rtb_B_97_614_0 = 1.0 / B_97_321_0_idx_0 / 1.0e-5;
            rtb_B_97_619_0 = muDoubleScalarCeil(rtb_B_97_614_0);
            _rtB->B_93_27_0 = _rtP->P_523 * rtb_B_97_619_0;
%<tlcOutputsFcnOfS78B2>\
            rtb_B_97_82_0 = ssGetTaskTime(S, 2);
            if (rtb_B_97_82_0 < _rtP->P_525) {
                rtb_B_97_82_0 = _rtP->P_526;
            } else {
                rtb_B_97_82_0 = _rtP->P_527;
            }
            if (rtb_B_97_82_0 >= _rtP->P_529) {
                rtb_B_97_82_0 = rtb_B_97_614_0 - rtb_B_97_619_0;
                rtb_B_97_82_0 = ((_rtB->B_93_22_0 - _rtDW->UnitDelay_DSTATE_fv) * rtb_B_97_82_0 * _rtP->P_504 + _rtB->B_93_22_0) * (rtb_B_97_82_0 / rtb_B_97_614_0) + (_rtB->B_93_23_0 - _rtB->B_93_28_0) * rtb_B_97_805_0;
            } else {
                rtb_B_97_82_0 = _rtP->P_528;
            }
            B_93_36_0 = _rtP->P_530 * muDoubleScalarAtan2(rtb_B_97_82_0, rtb_B_97_613_0);
            tmpForInput[0] = B_97_965_0_idx_0;
            tmpForInput[1] = B_97_965_0_idx_1;
            tmpForInput[2] = B_97_965_0_idx_2;
            tmpForInput[3] = rtb_B_97_966_0;
            tmpForInput[4] = rtb_B_97_967_0;
            tmpForInput[5] = rtb_B_97_580_0;
            tmpForInput[6] = rtb_B_97_583_0;
            tmpForInput[7] = rtb_B_97_584_0;
            tmpForInput[8] = rtb_B_97_585_0;
            B_97_321_0_idx_0 = -0.0;
            for (i = 0; i < 9; i++) {
                B_97_321_0_idx_0 += tmpForInput[i];
            }
            B_93_38_0 = _rtP->P_531 * B_97_321_0_idx_0;
            B_5_0_0_idx_3 = muDoubleScalarHypot(rtb_B_97_613_0, rtb_B_97_82_0);
            if (B_5_0_0_idx_3 > _rtP->P_532) {
                B_5_0_0_idx_3 = _rtP->P_532;
            } else {
                if (B_5_0_0_idx_3 < _rtP->P_533) {
                    B_5_0_0_idx_3 = _rtP->P_533;
                }
            }
            _rtB->B_93_40_0 = 1.0 / B_5_0_0_idx_3;
        }
        if (ssIsMajorTimeStep(S) != 0) {
            srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC);
        }
    }
    B_97_321_0_idx_0 = rtb_B_97_575_0 * _rtB->B_93_40_0;
    _rtB->B_97_1081_0 = _rtP->P_1285 * B_97_321_0_idx_0 * _rtP->P_1286;
    B_97_1082_0 = _rtDW->UD_DSTATE_a;
    B_97_1083_0 = _rtB->B_97_1081_0 - B_97_1082_0;
    B_5_0_0_idx_3 = (_rtP->P_1280 * B_97_321_0_idx_0 + _rtDW->DiscreteTimeIntegrator_DSTATE_jp) + B_97_1083_0;
    if (B_5_0_0_idx_3 > _rtP->P_1288) {
        _rtB->B_97_1085_0 = _rtP->P_1288;
    } else if (B_5_0_0_idx_3 < _rtP->P_1289) {
        _rtB->B_97_1085_0 = _rtP->P_1289;
    } else {
        _rtB->B_97_1085_0 = B_5_0_0_idx_3;
    }
    B_5_0_0_idx_3 = _rtP->P_1290 * _rtB->B_97_1085_0 - _rtDW->UnitDelay_DSTATE_kv;
    if (B_5_0_0_idx_3 > _rtP->P_1292) {
        B_5_0_0_idx_3 = _rtP->P_1292;
    } else {
        if (B_5_0_0_idx_3 < _rtP->P_1293) {
            B_5_0_0_idx_3 = _rtP->P_1293;
        }
    }
    _rtB->B_97_1090_0 = B_5_0_0_idx_3 + _rtDW->UnitDelay_DSTATE_kv;
%<tlcOutputsFcnOfS82B193>\
    _rtB->B_97_1093_0 = _rtP->P_1299 * B_97_321_0_idx_0;
    B_97_1094_0 = ((B_97_965_0_idx_0 * rtb_B_97_966_0 + B_97_965_0_idx_1 * B_97_719_0_idx_1) + B_97_965_0_idx_2 * rtb_B_97_574_0) * 0.66666666666666663;
    tmpForInput[0] = B_97_965_0_idx_0;
    tmpForInput[1] = B_97_965_0_idx_1;
    tmpForInput[2] = B_97_965_0_idx_2;
    tmpForInput[3] = rtb_B_97_966_0;
    tmpForInput[4] = rtb_B_97_967_0;
    tmpForInput[5] = B_97_719_0_idx_1;
    tmpForInput[6] = rtb_B_97_623_0;
    tmpForInput[7] = rtb_B_97_574_0;
    tmpForInput[8] = rtb_B_97_803_0;
    B_97_321_0_idx_0 = -0.0;
    for (i = 0; i < 9; i++) {
        B_97_321_0_idx_0 += tmpForInput[i];
    }
    B_97_1096_0 = _rtP->P_1300 * B_97_321_0_idx_0;
    tmpForInput[0] = B_97_965_0_idx_0;
    tmpForInput[1] = B_97_965_0_idx_1;
    tmpForInput[2] = B_97_965_0_idx_2;
    tmpForInput[3] = rtb_B_97_966_0;
    tmpForInput[4] = rtb_B_97_967_0;
    tmpForInput[5] = rtb_B_97_972_0;
    tmpForInput[6] = rtb_B_97_975_0;
    tmpForInput[7] = rtb_B_97_976_0;
    tmpForInput[8] = rtb_B_97_977_0;
    rtb_B_97_972_0 = -0.0;
    for (i = 0; i < 9; i++) {
        rtb_B_97_972_0 += tmpForInput[i];
    }
    B_97_1098_0 = _rtP->P_1301 * rtb_B_97_972_0;
    tmpForInput[0] = B_97_726_1_idx_0;
    tmpForInput[1] = B_97_726_1_idx_1;
    tmpForInput[2] = B_97_726_1_idx_2;
    tmpForInput[3] = rtb_B_97_966_0;
    tmpForInput[4] = rtb_B_97_967_0;
    tmpForInput[5] = rtb_B_97_986_0;
    tmpForInput[6] = rtb_B_97_989_0;
    tmpForInput[7] = rtb_B_97_990_0;
    tmpForInput[8] = rtb_B_97_991_0;
    rtb_B_97_966_0 = -0.0;
    for (i = 0; i < 9; i++) {
        rtb_B_97_966_0 += tmpForInput[i];
    }
    B_97_1100_0 = _rtP->P_1302 * rtb_B_97_966_0;
    rtb_B_97_966_0 = look1_pbinlxpw(muDoubleScalarRem(ssGetTaskTime(S, 2) + _rtP->P_1303, _rtP->P_1304) * _rtP->P_1305, _rtP->P_1307, _rtP->P_1306, &_rtDW->m_bpIndex, 2U);
    B_97_1109_0 = rtb_B_97_966_0 - _rtP->P_1308;
}
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_1111_0 = _rtP->P_1309;
}
rtb_B_97_966_0 = ssGetT(S) + _rtB->B_97_1111_0;
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_1113_0 = _rtP->P_1310;
}
rtb_B_97_966_0 = look1_pbinlxpw(_rtP->P_1311 * muDoubleScalarRem(rtb_B_97_966_0, _rtB->B_97_1113_0), _rtP->P_1313, _rtP->P_1312, &_rtDW->m_bpIndex_g, 2U);
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_1117_0 = _rtP->P_1314;
}
B_97_1118_0 = rtb_B_97_966_0 - _rtB->B_97_1117_0;
i = ssIsSampleHit(S, 4, 0);
if (i != 0) {
    _rtB->B_97_1119_0 = _rtDW->UnitDelay_DSTATE_ef;
}
_rtB->B_97_1122_0 = _rtP->P_1316 * _rtB->B_97_931_0;
_rtB->B_97_1123_0 = _rtP->P_1317 * _rtB->B_97_925_0;
_rtB->B_97_1124_0 = _rtP->P_1318 * _rtB->B_97_915_0;
if (ssGetT(S) >= _rtP->P_1320) {
    _rtB->B_97_1126_0 = _rtB->B_97_922_0;
} else {
    _rtB->B_97_1126_0 = _rtB->B_97_1125_0;
}
if (ssGetT(S) >= _rtP->P_1322) {
    _rtB->B_97_1128_0 = _rtB->B_97_922_0;
} else {
    _rtB->B_97_1128_0 = _rtB->B_97_1127_0;
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_1169_0 >= _rtP->P_1329) {
        rtb_B_97_176_0 = _rtB->Saturation_i.B_3_10_0;
    } else {
        rtb_B_97_176_0 = _rtB->B_97_1170_0[1];
    }
    B_97_726_1_idx_0 = _rtP->P_1330[0] * _rtB->B_97_24_0[1] * rtb_B_97_176_0;
    B_97_726_1_idx_1 = _rtP->P_1330[1] * _rtB->B_97_24_0[2] * rtb_B_97_176_0;
    B_97_726_1_idx_2 = _rtP->P_1330[2] * _rtB->B_97_24_0[3] * rtb_B_97_176_0;
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        rtb_B_97_1177_0[0] = _rtB->B_97_116_0[25];
        rtb_B_97_1177_0[1] = _rtB->B_97_116_0[26];
    }
    rtb_B_97_1177_0[0] *= _rtP->P_1331;
    rtb_B_97_1177_0[1] *= _rtP->P_1331;
    _rtB->B_97_1179_0 = ((2.0 * rtb_B_97_1177_0[0] + rtb_B_97_1177_0[1]) * rtb_B_97_5_1 + 1.7320508075688772 * rtb_B_97_1177_0[1] * rtb_B_97_5_0) * 0.33333333333333331;
    _rtB->B_97_1180_0 = ((2.0 * rtb_B_97_1177_0[0] + rtb_B_97_1177_0[1]) * rtb_B_97_5_0 + -1.7320508075688772 * rtb_B_97_1177_0[1] * rtb_B_97_5_1) * 0.33333333333333331;
    rtb_B_97_1194_0[11] = _rtP->P_1338[11] * _rtB->B_97_1179_0;
    rtb_B_97_1194_0[12] = _rtP->P_1338[12] * _rtB->B_97_1180_0;
    rtb_B_97_67_0 = muDoubleScalarPower(rtb_B_97_1194_0[12], 2.0) + muDoubleScalarPower(rtb_B_97_1194_0[11], 2.0);
    if (rtb_B_97_67_0 < 0.0) {
        _rtB->B_97_1196_0 = -muDoubleScalarSqrt(-rtb_B_97_67_0);
    } else {
        _rtB->B_97_1196_0 = muDoubleScalarSqrt(rtb_B_97_67_0);
    }
%<tlcOutputsFcnOfS82B228>\
    _rtB->B_97_1199_0 = ((_rtB->B_97_1163_0 + _rtB->B_97_1164_0) - B_97_1197_0) - _rtDW->UnitDelay1_DSTATE_j5g;
%<tlcOutputsFcnOfS82B229>\
    _rtB->B_97_1201_0 = _rtP->P_1350 * B_97_1200_0;
%<tlcOutputsFcnOfS82B230>\
    rtb_B_97_1173_0 = (B_97_1202_0 > _rtB->B_97_1203_0);
    rtb_B_97_5_0 = _rtP->P_1357 * B_97_1197_0 + _rtB->B_97_1210_0;
    rtb_B_97_5_1 = (B_97_1202_0 < rtb_B_97_5_0);
    _rtB->B_97_1223_0 = (((real_T)((rtb_B_97_1173_0 != 0.0) && (rtb_B_97_5_1 != 0.0)) * B_97_1202_0 + (real_T)!(rtb_B_97_1173_0 != 0.0) * _rtB->B_97_1203_0) + (real_T)!(rtb_B_97_5_1 != 0.0) * rtb_B_97_5_0) * _rtP->P_1361;
%<tlcOutputsFcnOfS82B231>\
    _rtB->B_97_1225_0 = _rtP->P_1367 * _rtB->B_97_1224_0;
%<tlcOutputsFcnOfS82B232>\
    rtb_B_97_1173_0 = _rtDW->UnitDelay2_DSTATE_n;
    rtb_B_97_67_0 = muDoubleScalarPower(rtb_B_97_1194_0[12], 2.0) + muDoubleScalarPower(rtb_B_97_1194_0[11], 2.0);
    if (rtb_B_97_67_0 < 0.0) {
        B_97_1228_0 = -muDoubleScalarSqrt(-rtb_B_97_67_0);
    } else {
        B_97_1228_0 = muDoubleScalarSqrt(rtb_B_97_67_0);
    }
}
_rtB->B_97_1229_0 = 0.0;
_rtB->B_97_1229_0 += _rtP->P_1375[0] * _rtX->CONTROLSYSTEM_CSTATE[0];
_rtB->B_97_1229_0 += _rtP->P_1375[1] * _rtX->CONTROLSYSTEM_CSTATE[1];
%<tlcOutputsFcnOfS82B233>\
_rtB->B_97_1231_0 = _rtP->P_1378 * _rtB->B_97_1229_0;
/* Limited  Integrator  */
if (ssIsMajorTimeStep(S) != 0) {
    if (_rtX->Integrator_CSTATE_g1 >= _rtP->P_1380) {
        _rtX->Integrator_CSTATE_g1 = _rtP->P_1380;
    } else {
        if (_rtX->Integrator_CSTATE_g1 <= _rtP->P_1381) {
            _rtX->Integrator_CSTATE_g1 = _rtP->P_1381;
        }
    }
}
_rtB->B_97_1232_0 = _rtX->Integrator_CSTATE_g1;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    rtb_B_97_1177_0[0] = _rtP->P_1383[0] * rtb_B_97_25_0[0] * _rtB->B_97_24_0[1];
    rtb_B_97_1177_0[1] = _rtP->P_1383[1] * rtb_B_97_25_0[1] * _rtB->B_97_24_0[0];
    rtb_B_97_1236_0 = rtb_B_97_1177_0[0] + rtb_B_97_1177_0[1];
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        _rtB->B_97_1243_0[0] = rtb_B_97_1_0;
        _rtB->B_97_1243_0[1] = _rtP->P_1382 * rtb_B_97_17_0;
        _rtB->B_97_1243_0[2] = rtb_B_97_17_0 * rtb_B_97_1236_0 * _rtP->P_1384;
        _rtB->B_97_1243_0[3] = rtb_B_97_16_0;
        _rtB->B_97_1243_0[4] = _rtP->P_1387 * muDoubleScalarRem(_rtDW->DiscreteTimeIntegrator2_DSTATE, 6.2831853071795862);
        _rtB->B_97_1243_0[5] = _rtP->P_1388 * rtb_B_97_1236_0;
    }
}
_rtB->B_97_1244_0 = B_97_1230_0 * _rtB->B_97_1243_0[1];
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_1246_0 = _rtB->B_97_1245_0 - _rtB->B_97_1243_0[1];
}
_rtB->B_97_1247_0 = 0.0;
_rtB->B_97_1247_0 += _rtP->P_1391 * _rtX->TF1_CSTATE;
_rtB->B_97_1247_0 += _rtP->P_1392 * _rtB->B_97_1231_0;
_rtB->B_97_1248_0 = 0.0;
_rtB->B_97_1248_0 += _rtP->P_1394 * _rtX->TF2_CSTATE;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    B_97_1249_0 = muDoubleScalarHypot(_rtB->B_97_1179_0, _rtB->B_97_1180_0);
    _rtB->B_97_1250_0 = _rtP->P_1395 * rtb_B_97_1173_0;
}
i = ssIsSampleHit(S, 1, 0);
if ((i != 0) && (_rtDW->RateTransition1_semaphoreTaken == 0)) {
    _rtDW->RateTransition1_Buffer0 = _rtB->B_97_1244_0;
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtDW->RateTransition1_semaphoreTaken = 1;
    rtb_B_97_1_0 = _rtDW->RateTransition1_Buffer0;
    _rtDW->RateTransition1_semaphoreTaken = 0;
    rtb_B_97_1_0 *= _rtP->P_1397;
    _rtB->B_97_1257_0 = ((rtb_B_97_1_0 / (rtb_B_97_17_0 + 2.2204460492503131e-16) - rtb_B_97_1236_0) - _rtP->P_1398 * rtb_B_97_17_0) * _rtP->P_1399;
    _rtB->B_97_1258_0 = _rtP->P_1400 * rtb_B_97_16_0;
    _rtB->B_97_1259_0 = _rtP->P_1401 * rtb_B_97_17_0;
    _rtB->B_97_295_0[0] = _rtP->P_1402 * _rtB->B_97_116_0[39] * _rtP->P_1405;
    _rtB->B_97_295_0[1] = _rtP->P_1403 * _rtB->B_97_116_0[40] * _rtP->P_1405;
    _rtB->B_97_295_0[2] = _rtP->P_1404 * _rtB->B_97_116_0[41] * _rtP->P_1405;
    if (_rtDW->systemEnable_n != 0) {
        _rtDW->lastSin_b = muDoubleScalarSin(_rtP->P_1408 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_p = muDoubleScalarCos(_rtP->P_1408 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_n = 0;
    }
    rtb_B_97_16_0 = ((_rtDW->lastSin_b * _rtP->P_1412 + _rtDW->lastCos_p * _rtP->P_1411) * _rtP->P_1410 + (_rtDW->lastCos_p * _rtP->P_1412 - _rtDW->lastSin_b * _rtP->P_1411) * _rtP->P_1409) * _rtP->P_1406 + _rtP->P_1407;
    _rtB->B_97_1270_0[0] = _rtB->B_97_295_0[0] * rtb_B_97_16_0;
    _rtB->B_97_1270_0[1] = _rtB->B_97_295_0[1] * rtb_B_97_16_0;
    _rtB->B_97_1270_0[2] = _rtB->B_97_295_0[2] * rtb_B_97_16_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_c2 != 0) {
        _rtB->B_97_1271_0[0] = _rtDW->Integ4_DSTATE_dr[0];
        _rtB->B_97_1271_0[1] = _rtDW->Integ4_DSTATE_dr[1];
        _rtB->B_97_1271_0[2] = _rtDW->Integ4_DSTATE_dr[2];
    } else {
        _rtB->B_97_1271_0[0] = _rtP->P_1413 * _rtB->B_97_1270_0[0] + _rtDW->Integ4_DSTATE_dr[0];
        _rtB->B_97_1271_0[1] = _rtP->P_1413 * _rtB->B_97_1270_0[1] + _rtDW->Integ4_DSTATE_dr[1];
        _rtB->B_97_1271_0[2] = _rtP->P_1413 * _rtB->B_97_1270_0[2] + _rtDW->Integ4_DSTATE_dr[2];
    }
    _rtB->B_97_1272_0 = _rtP->P_1415;
%<tlcOutputsFcnOfS82B239>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_1272_0) {
        _rtB->B_97_1280_0[0] = (_rtB->B_97_1271_0[0] - _rtB->B_97_1273_0[0]) * _rtP->P_1424 + (_rtP->P_412 * _rtB->B_97_1270_0[0] - _rtP->P_411 * _rtDW->UnitDelay_DSTATE_is[0]);
        _rtB->B_97_1280_0[1] = (_rtB->B_97_1271_0[1] - _rtB->B_97_1273_0[1]) * _rtP->P_1424 + (_rtP->P_412 * _rtB->B_97_1270_0[1] - _rtP->P_411 * _rtDW->UnitDelay_DSTATE_is[1]);
        _rtB->B_97_1280_0[2] = (_rtB->B_97_1271_0[2] - _rtB->B_97_1273_0[2]) * _rtP->P_1424 + (_rtP->P_412 * _rtB->B_97_1270_0[2] - _rtP->P_411 * _rtDW->UnitDelay_DSTATE_is[2]);
    } else {
        _rtB->B_97_1280_0[0] = _rtDW->UnitDelay1_DSTATE_cp[0];
        _rtB->B_97_1280_0[1] = _rtDW->UnitDelay1_DSTATE_cp[1];
        _rtB->B_97_1280_0[2] = _rtDW->UnitDelay1_DSTATE_cp[2];
    }
    if (_rtDW->systemEnable_h != 0) {
        _rtDW->lastSin_jg = muDoubleScalarSin(_rtP->P_1429 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_fb = muDoubleScalarCos(_rtP->P_1429 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_h = 0;
    }
    rtb_B_97_16_0 = ((_rtDW->lastSin_jg * _rtP->P_1433 + _rtDW->lastCos_fb * _rtP->P_1432) * _rtP->P_1431 + (_rtDW->lastCos_fb * _rtP->P_1433 - _rtDW->lastSin_jg * _rtP->P_1432) * _rtP->P_1430) * _rtP->P_1427 + _rtP->P_1428;
    _rtB->B_97_1282_0[0] = _rtB->B_97_295_0[0] * rtb_B_97_16_0;
    _rtB->B_97_1282_0[1] = _rtB->B_97_295_0[1] * rtb_B_97_16_0;
    _rtB->B_97_1282_0[2] = _rtB->B_97_295_0[2] * rtb_B_97_16_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_jh != 0) {
        _rtB->B_97_1283_0[0] = _rtDW->Integ4_DSTATE_g5[0];
        _rtB->B_97_1283_0[1] = _rtDW->Integ4_DSTATE_g5[1];
        _rtB->B_97_1283_0[2] = _rtDW->Integ4_DSTATE_g5[2];
    } else {
        _rtB->B_97_1283_0[0] = _rtP->P_1434 * _rtB->B_97_1282_0[0] + _rtDW->Integ4_DSTATE_g5[0];
        _rtB->B_97_1283_0[1] = _rtP->P_1434 * _rtB->B_97_1282_0[1] + _rtDW->Integ4_DSTATE_g5[1];
        _rtB->B_97_1283_0[2] = _rtP->P_1434 * _rtB->B_97_1282_0[2] + _rtDW->Integ4_DSTATE_g5[2];
    }
    _rtB->B_97_1284_0 = _rtP->P_1436;
%<tlcOutputsFcnOfS82B241>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_1284_0) {
        _rtB->B_97_1292_0[0] = (_rtB->B_97_1283_0[0] - _rtB->B_97_1285_0[0]) * _rtP->P_1445 + (_rtP->P_410 * _rtB->B_97_1282_0[0] - _rtP->P_409 * _rtDW->UnitDelay_DSTATE_ox[0]);
        _rtB->B_97_1292_0[1] = (_rtB->B_97_1283_0[1] - _rtB->B_97_1285_0[1]) * _rtP->P_1445 + (_rtP->P_410 * _rtB->B_97_1282_0[1] - _rtP->P_409 * _rtDW->UnitDelay_DSTATE_ox[1]);
        _rtB->B_97_1292_0[2] = (_rtB->B_97_1283_0[2] - _rtB->B_97_1285_0[2]) * _rtP->P_1445 + (_rtP->P_410 * _rtB->B_97_1282_0[2] - _rtP->P_409 * _rtDW->UnitDelay_DSTATE_ox[2]);
    } else {
        _rtB->B_97_1292_0[0] = _rtDW->UnitDelay1_DSTATE_f[0];
        _rtB->B_97_1292_0[1] = _rtDW->UnitDelay1_DSTATE_f[1];
        _rtB->B_97_1292_0[2] = _rtDW->UnitDelay1_DSTATE_f[2];
    }
    B_97_726_1_idx_0 = muDoubleScalarHypot(_rtB->B_97_1280_0[0], _rtB->B_97_1292_0[0]);
    B_97_719_0_idx_0 = muDoubleScalarAtan2(_rtB->B_97_1292_0[0], _rtB->B_97_1280_0[0]);
    B_97_726_1_idx_1 = muDoubleScalarHypot(_rtB->B_97_1280_0[1], _rtB->B_97_1292_0[1]);
    B_97_719_0_idx_1 = muDoubleScalarAtan2(_rtB->B_97_1292_0[1], _rtB->B_97_1280_0[1]);
    B_97_726_1_idx_2 = muDoubleScalarHypot(_rtB->B_97_1280_0[2], _rtB->B_97_1292_0[2]);
    B_97_719_0_idx_2 = muDoubleScalarAtan2(_rtB->B_97_1292_0[2], _rtB->B_97_1280_0[2]);
    _rtB->B_97_265_0[0] = _rtP->P_1448 * _rtB->B_97_116_0[59] * _rtP->P_1451;
    _rtB->B_97_265_0[1] = _rtP->P_1449 * _rtB->B_97_116_0[60] * _rtP->P_1451;
    _rtB->B_97_265_0[2] = _rtP->P_1450 * _rtB->B_97_116_0[61] * _rtP->P_1451;
    if (_rtDW->systemEnable_az != 0) {
        _rtDW->lastSin_g = muDoubleScalarSin(_rtP->P_1454 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_b = muDoubleScalarCos(_rtP->P_1454 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_az = 0;
    }
    rtb_B_97_16_0 = ((_rtDW->lastSin_g * _rtP->P_1458 + _rtDW->lastCos_b * _rtP->P_1457) * _rtP->P_1456 + (_rtDW->lastCos_b * _rtP->P_1458 - _rtDW->lastSin_g * _rtP->P_1457) * _rtP->P_1455) * _rtP->P_1452 + _rtP->P_1453;
    _rtB->B_97_1300_0[0] = _rtB->B_97_265_0[0] * rtb_B_97_16_0;
    _rtB->B_97_1300_0[1] = _rtB->B_97_265_0[1] * rtb_B_97_16_0;
    _rtB->B_97_1300_0[2] = _rtB->B_97_265_0[2] * rtb_B_97_16_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_n != 0) {
        _rtB->B_97_1301_0[0] = _rtDW->Integ4_DSTATE_h3[0];
        _rtB->B_97_1301_0[1] = _rtDW->Integ4_DSTATE_h3[1];
        _rtB->B_97_1301_0[2] = _rtDW->Integ4_DSTATE_h3[2];
    } else {
        _rtB->B_97_1301_0[0] = _rtP->P_1459 * _rtB->B_97_1300_0[0] + _rtDW->Integ4_DSTATE_h3[0];
        _rtB->B_97_1301_0[1] = _rtP->P_1459 * _rtB->B_97_1300_0[1] + _rtDW->Integ4_DSTATE_h3[1];
        _rtB->B_97_1301_0[2] = _rtP->P_1459 * _rtB->B_97_1300_0[2] + _rtDW->Integ4_DSTATE_h3[2];
    }
    _rtB->B_97_1302_0 = _rtP->P_1461;
%<tlcOutputsFcnOfS82B243>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_1302_0) {
        _rtB->B_97_1310_0[0] = (_rtB->B_97_1301_0[0] - _rtB->B_97_1303_0[0]) * _rtP->P_1470 + (_rtP->P_416 * _rtB->B_97_1300_0[0] - _rtP->P_415 * _rtDW->UnitDelay_DSTATE_bp[0]);
        _rtB->B_97_1310_0[1] = (_rtB->B_97_1301_0[1] - _rtB->B_97_1303_0[1]) * _rtP->P_1470 + (_rtP->P_416 * _rtB->B_97_1300_0[1] - _rtP->P_415 * _rtDW->UnitDelay_DSTATE_bp[1]);
        _rtB->B_97_1310_0[2] = (_rtB->B_97_1301_0[2] - _rtB->B_97_1303_0[2]) * _rtP->P_1470 + (_rtP->P_416 * _rtB->B_97_1300_0[2] - _rtP->P_415 * _rtDW->UnitDelay_DSTATE_bp[2]);
    } else {
        _rtB->B_97_1310_0[0] = _rtDW->UnitDelay1_DSTATE_gq[0];
        _rtB->B_97_1310_0[1] = _rtDW->UnitDelay1_DSTATE_gq[1];
        _rtB->B_97_1310_0[2] = _rtDW->UnitDelay1_DSTATE_gq[2];
    }
    if (_rtDW->systemEnable_c != 0) {
        _rtDW->lastSin_i = muDoubleScalarSin(_rtP->P_1475 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_e = muDoubleScalarCos(_rtP->P_1475 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_c = 0;
    }
    rtb_B_97_16_0 = ((_rtDW->lastSin_i * _rtP->P_1479 + _rtDW->lastCos_e * _rtP->P_1478) * _rtP->P_1477 + (_rtDW->lastCos_e * _rtP->P_1479 - _rtDW->lastSin_i * _rtP->P_1478) * _rtP->P_1476) * _rtP->P_1473 + _rtP->P_1474;
    _rtB->B_97_1312_0[0] = _rtB->B_97_265_0[0] * rtb_B_97_16_0;
    _rtB->B_97_1312_0[1] = _rtB->B_97_265_0[1] * rtb_B_97_16_0;
    _rtB->B_97_1312_0[2] = _rtB->B_97_265_0[2] * rtb_B_97_16_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_cn != 0) {
        _rtB->B_97_1313_0[0] = _rtDW->Integ4_DSTATE_bj[0];
        _rtB->B_97_1313_0[1] = _rtDW->Integ4_DSTATE_bj[1];
        _rtB->B_97_1313_0[2] = _rtDW->Integ4_DSTATE_bj[2];
    } else {
        _rtB->B_97_1313_0[0] = _rtP->P_1480 * _rtB->B_97_1312_0[0] + _rtDW->Integ4_DSTATE_bj[0];
        _rtB->B_97_1313_0[1] = _rtP->P_1480 * _rtB->B_97_1312_0[1] + _rtDW->Integ4_DSTATE_bj[1];
        _rtB->B_97_1313_0[2] = _rtP->P_1480 * _rtB->B_97_1312_0[2] + _rtDW->Integ4_DSTATE_bj[2];
    }
    _rtB->B_97_1314_0 = _rtP->P_1482;
%<tlcOutputsFcnOfS82B245>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_1314_0) {
        _rtB->B_97_1322_0[0] = (_rtB->B_97_1313_0[0] - _rtB->B_97_1315_0[0]) * _rtP->P_1491 + (_rtP->P_414 * _rtB->B_97_1312_0[0] - _rtP->P_413 * _rtDW->UnitDelay_DSTATE_po[0]);
        _rtB->B_97_1322_0[1] = (_rtB->B_97_1313_0[1] - _rtB->B_97_1315_0[1]) * _rtP->P_1491 + (_rtP->P_414 * _rtB->B_97_1312_0[1] - _rtP->P_413 * _rtDW->UnitDelay_DSTATE_po[1]);
        _rtB->B_97_1322_0[2] = (_rtB->B_97_1313_0[2] - _rtB->B_97_1315_0[2]) * _rtP->P_1491 + (_rtP->P_414 * _rtB->B_97_1312_0[2] - _rtP->P_413 * _rtDW->UnitDelay_DSTATE_po[2]);
    } else {
        _rtB->B_97_1322_0[0] = _rtDW->UnitDelay1_DSTATE_gu[0];
        _rtB->B_97_1322_0[1] = _rtDW->UnitDelay1_DSTATE_gu[1];
        _rtB->B_97_1322_0[2] = _rtDW->UnitDelay1_DSTATE_gu[2];
    }
    B_97_726_1_idx_0 = B_97_726_1_idx_0 * muDoubleScalarHypot(_rtB->B_97_1310_0[0], _rtB->B_97_1322_0[0]) * _rtP->P_1494;
    B_97_719_0_idx_0 = (_rtP->P_1495 * B_97_719_0_idx_0 - _rtP->P_1496 * muDoubleScalarAtan2(_rtB->B_97_1322_0[0], _rtB->B_97_1310_0[0])) * _rtP->P_1497;
    B_97_726_1_idx_1 = B_97_726_1_idx_1 * muDoubleScalarHypot(_rtB->B_97_1310_0[1], _rtB->B_97_1322_0[1]) * _rtP->P_1494;
    B_97_719_0_idx_1 = (_rtP->P_1495 * B_97_719_0_idx_1 - _rtP->P_1496 * muDoubleScalarAtan2(_rtB->B_97_1322_0[1], _rtB->B_97_1310_0[1])) * _rtP->P_1497;
    B_97_726_1_idx_2 = B_97_726_1_idx_2 * muDoubleScalarHypot(_rtB->B_97_1310_0[2], _rtB->B_97_1322_0[2]) * _rtP->P_1494;
    rtb_B_97_1_0 = (_rtP->P_1495 * B_97_719_0_idx_2 - _rtP->P_1496 * muDoubleScalarAtan2(_rtB->B_97_1322_0[2], _rtB->B_97_1310_0[2])) * _rtP->P_1497;
    muDoubleScalarSinCos(B_97_719_0_idx_0, &B_97_1331_0_idx_0, &rtb_B_97_1173_0);
    muDoubleScalarSinCos(B_97_719_0_idx_1, &B_97_1331_0_idx_1, &rtb_B_97_1236_0);
    muDoubleScalarSinCos(rtb_B_97_1_0, &B_97_1331_0_idx_2, &rtb_B_97_5_0);
    _rtB->B_97_1333_0 = (B_97_726_1_idx_0 * rtb_B_97_1173_0 + B_97_726_1_idx_1 * rtb_B_97_1236_0) + B_97_726_1_idx_2 * rtb_B_97_5_0;
}
_rtB->B_97_1334_0 = _rtX->integ1_CSTATE_oz;
%<tlcOutputsFcnOfS82B247>\
B_97_1340_0.re = _rtB->B_97_1334_0 - B_97_1335_0;
_rtB->B_97_1337_0 = _rtX->Integ2_CSTATE_k;
%<tlcOutputsFcnOfS82B248>\
B_97_1340_0.im = _rtB->B_97_1337_0 - B_97_1338_0;
_rtB->B_97_1341_0 = _rtX->integ1_CSTATE_nb;
%<tlcOutputsFcnOfS82B249>\
B_97_1347_0.re = _rtB->B_97_1341_0 - B_97_1342_0;
_rtB->B_97_1344_0 = _rtX->Integ2_CSTATE_ik;
%<tlcOutputsFcnOfS82B250>\
B_97_1347_0.im = _rtB->B_97_1344_0 - B_97_1345_0;
_rtB->B_97_1348_0 = _rtX->integ1_CSTATE_g;
%<tlcOutputsFcnOfS82B251>\
B_97_1354_0.re = _rtB->B_97_1348_0 - B_97_1349_0;
_rtB->B_97_1351_0 = _rtX->Integ2_CSTATE_o;
%<tlcOutputsFcnOfS82B252>\
B_97_1354_0.im = _rtB->B_97_1351_0 - B_97_1352_0;
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_1356_0 = _rtB->B_97_1355_0;
}
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[38], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,2)
%<SLibCGIRAccessLocalVar(1, 0, "")> %% B_97_1340_0
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,3)
%<SLibCGIRAccessLocalVar(2, 0, "")> %% B_97_1347_0
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,4)
%<SLibCGIRAccessLocalVar(3, 0, "")> %% B_97_1354_0
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation", ["S", "_rtB->B_97_1356_0", "B_97_1340_0", "B_97_1347_0", "B_97_1354_0", "&_rtB->PosSeqComputation_b", "&_rtDW->PosSeqComputation_b", "&_rtP->PosSeqComputation_b"], 38, 3, 7, 0, 7, 82)>\

%endif
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_1359_0 = _rtB->B_97_1358_0;
}
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[38], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,2)
%<SLibCGIRAccessLocalVar(1, 0, "")> %% B_97_1340_0
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,3)
%<SLibCGIRAccessLocalVar(2, 0, "")> %% B_97_1347_0
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,4)
%<SLibCGIRAccessLocalVar(3, 0, "")> %% B_97_1354_0
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation", ["S", "_rtB->B_97_1359_0", "B_97_1340_0", "B_97_1347_0", "B_97_1354_0", "&_rtB->NegSeqComputation_g", "&_rtDW->NegSeqComputation_g", "&_rtP->NegSeqComputation_g"], 38, 2, 7, 0, 7, 82)>\

%endif
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_1362_0 = _rtB->B_97_1361_0;
}
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[39], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation",39,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation",39,2)
%<SLibCGIRAccessLocalVar(1, 0, "")> %% B_97_1340_0
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation",39,3)
%<SLibCGIRAccessLocalVar(2, 0, "")> %% B_97_1347_0
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation",39,4)
%<SLibCGIRAccessLocalVar(3, 0, "")> %% B_97_1354_0
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation", ["S", "_rtB->B_97_1362_0", "B_97_1340_0", "B_97_1347_0", "B_97_1354_0", "&_rtB->ZeroSeqComputation_n", "&_rtDW->ZeroSeqComputation_n", "&_rtP->ZeroSeqComputation_n"], 39, 1, 7, 0, 7, 82)>\

%endif
_rtB->B_97_1364_0[0] = muDoubleScalarHypot(_rtB->PosSeqComputation_b.B_39_2_0.re, _rtB->PosSeqComputation_b.B_39_2_0.im);
_rtB->B_97_1364_0[1] = muDoubleScalarHypot(_rtB->NegSeqComputation_g.B_39_2_0.re, _rtB->NegSeqComputation_g.B_39_2_0.im);
_rtB->B_97_1364_0[2] = muDoubleScalarHypot(_rtB->ZeroSeqComputation_n.B_41_1_0.re, _rtB->ZeroSeqComputation_n.B_41_1_0.im);
rtb_B_97_30_0[0] = muDoubleScalarAtan2(_rtB->PosSeqComputation_b.B_39_2_0.im, _rtB->PosSeqComputation_b.B_39_2_0.re);
rtb_B_97_30_0[1] = muDoubleScalarAtan2(_rtB->NegSeqComputation_g.B_39_2_0.im, _rtB->NegSeqComputation_g.B_39_2_0.re);
rtb_B_97_30_0[2] = muDoubleScalarAtan2(_rtB->ZeroSeqComputation_n.B_41_1_0.im, _rtB->ZeroSeqComputation_n.B_41_1_0.re);
_rtB->B_97_1365_0 = _rtP->P_1519 * _rtB->B_97_1364_0[0];
_rtB->B_97_1366_0 = 0.0;
_rtB->B_97_1366_0 += _rtP->P_1521 * _rtX->TransferFcn1_CSTATE_f;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    B_97_726_1_idx_0 *= B_97_1331_0_idx_0;
    B_97_726_1_idx_1 *= B_97_1331_0_idx_1;
    B_97_726_1_idx_2 *= B_97_1331_0_idx_2;
    _rtB->B_97_1368_0 = (B_97_726_1_idx_0 + B_97_726_1_idx_1) + B_97_726_1_idx_2;
}
%<tlcOutputsFcnOfS82B256>\
%<tlcOutputsFcnOfS82B257>\
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
%<tlcOutputsFcnOfS82B258>\
%<tlcOutputsFcnOfS82B259>\
}
_rtB->B_97_1374_0 = _rtP->P_1523 * _rtB->B_97_1364_0[0];
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    if (ssIsMajorTimeStep(S) != 0) {
        _rtDW->RelationalOperator_Mode_ej[0] = (_rtB->B_97_1364_0[1] > _rtB->B_97_1374_0);
        _rtDW->RelationalOperator_Mode_ej[1] = (_rtB->B_97_1364_0[2] > _rtB->B_97_1374_0);
    }
    _rtB->B_97_1375_0[0] = _rtDW->RelationalOperator_Mode_ej[0];
    _rtB->B_97_1375_0[1] = _rtDW->RelationalOperator_Mode_ej[1];
}
if (_rtB->B_97_1375_0[0] >= _rtP->P_1524) {
    B_97_1376_0[0] = rtb_B_97_30_0[1];
} else {
    B_97_1376_0[0] = _rtB->B_97_1373_0;
}
if (_rtB->B_97_1375_0[1] >= _rtP->P_1524) {
    B_97_1376_0[1] = rtb_B_97_30_0[2];
} else {
    B_97_1376_0[1] = _rtB->B_97_1373_0;
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_1377_0 = _rtP->P_1525 * _rtB->B_97_295_0[0];
}
rtb_B_97_16_0 = muDoubleScalarSin(_rtP->P_1528 * ssGetTaskTime(S, 0) + _rtP->P_1529) * _rtP->P_1526 + _rtP->P_1527;
_rtB->B_97_1379_0 = rtb_B_97_16_0 * _rtB->B_97_1377_0;
rtb_B_97_17_0 = muDoubleScalarSin(_rtP->P_1532 * ssGetTaskTime(S, 0) + _rtP->P_1533) * _rtP->P_1530 + _rtP->P_1531;
_rtB->B_97_1381_0 = _rtB->B_97_1377_0 * rtb_B_97_17_0;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_1382_0 = _rtP->P_1534 * _rtB->B_97_295_0[1];
}
_rtB->B_97_1383_0 = rtb_B_97_16_0 * _rtB->B_97_1382_0;
_rtB->B_97_1384_0 = _rtB->B_97_1382_0 * rtb_B_97_17_0;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_1385_0 = _rtP->P_1535 * _rtB->B_97_295_0[2];
}
_rtB->B_97_1386_0 = rtb_B_97_16_0 * _rtB->B_97_1385_0;
_rtB->B_97_1387_0 = _rtB->B_97_1385_0 * rtb_B_97_17_0;
B_97_1388_0 = _rtP->P_1536 * rtb_B_97_30_0[0];
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    B_97_321_0_idx_0 = _rtP->P_1537 * _rtB->B_97_295_0[0];
    B_97_321_0_idx_1 = _rtP->P_1537 * _rtB->B_97_295_0[1];
    B_97_321_0_idx_2 = _rtP->P_1537 * _rtB->B_97_295_0[2];
    rtb_B_97_17_0 = muDoubleScalarMod(_rtDW->DiscreteTimeIntegrator_DSTATE_fi, _rtB->B_97_1391_0);
    rtb_B_97_16_0 = muDoubleScalarSin(rtb_B_97_17_0);
    rtb_B_97_17_0 = muDoubleScalarCos(rtb_B_97_17_0);
    rtb_B_97_1236_0 = (0.0 - rtb_B_97_16_0 * _rtB->B_97_1395_0) - rtb_B_97_17_0 * _rtB->B_97_1397_0;
    rtb_B_97_1_0 = rtb_B_97_16_0 * _rtB->B_97_1397_0 - rtb_B_97_17_0 * _rtB->B_97_1395_0;
    rtb_B_97_1173_0 = (0.0 - rtb_B_97_1236_0) - rtb_B_97_16_0;
    rtb_B_97_5_0 = (0.0 - rtb_B_97_1_0) - rtb_B_97_17_0;
    _rtB->B_97_1405_0 = ((B_97_321_0_idx_0 * rtb_B_97_17_0 + B_97_321_0_idx_1 * rtb_B_97_1_0) + B_97_321_0_idx_2 * rtb_B_97_5_0) * 0.66666666666666663;
    if (_rtDW->Integ4_SYSTEM_ENABLE_kv != 0) {
        _rtB->B_97_1406_0 = _rtDW->Integ4_DSTATE_f2;
    } else {
        _rtB->B_97_1406_0 = _rtP->P_1543 * _rtB->B_97_1405_0 + _rtDW->Integ4_DSTATE_f2;
    }
    _rtB->B_97_1407_0 = _rtDW->UnitDelay_DSTATE_l3;
    if (_rtB->B_97_1407_0 > _rtP->P_1546) {
        B_5_0_0_idx_3 = _rtP->P_1546;
    } else if (_rtB->B_97_1407_0 < _rtP->P_1547) {
        B_5_0_0_idx_3 = _rtP->P_1547;
    } else {
        B_5_0_0_idx_3 = _rtB->B_97_1407_0;
    }
    rtb_B_97_5_1 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
    rtb_B_97_27_0 = muDoubleScalarCeil(rtb_B_97_5_1);
    _rtB->B_97_1411_0 = _rtP->P_1548 * rtb_B_97_27_0;
%<tlcOutputsFcnOfS82B260>\
    rtb_B_97_82_0 = ssGetTaskTime(S, 2);
    if (rtb_B_97_82_0 < _rtP->P_1550) {
        rtb_B_97_82_0 = _rtP->P_1551;
    } else {
        rtb_B_97_82_0 = _rtP->P_1552;
    }
    if (rtb_B_97_82_0 >= _rtP->P_1554) {
        rtb_B_97_27_0 = rtb_B_97_5_1 - rtb_B_97_27_0;
        rtb_B_97_5_1 = ((_rtB->B_97_1405_0 - _rtDW->UnitDelay_DSTATE_gl) * rtb_B_97_27_0 * _rtP->P_408 + _rtB->B_97_1405_0) * (rtb_B_97_27_0 / rtb_B_97_5_1) + (_rtB->B_97_1406_0 - _rtB->B_97_1412_0) * _rtB->B_97_1407_0;
    } else {
        rtb_B_97_5_1 = _rtP->P_1553;
    }
    _rtB->B_97_1419_0 = _rtB->B_97_1418_0;
    i = ssIsSampleHit(S, 2, 0);
    if ((i != 0) && (ssIsMajorTimeStep(S) != 0)) {
        if (_rtB->B_97_1419_0 > 0.0) {
            if (!_rtDW->AutomaticGainControl_MODE_a) {
                if (ssGetTaskTime(S, 2) != ssGetTStart(S)) {
                    ssSetBlockStateForSolverChangedAtMajorStep(S);
                }
%<SLibCGIRSetStatesDisabled(82, 262, 0)>\
                _rtDW->Integ4_SYSTEM_ENABLE_fs = 1U;
                _rtDW->Integ4_SYSTEM_ENABLE_mo = 1U;
                _rtDW->AutomaticGainControl_MODE_a = true;
            }
        } else {
            if (_rtDW->AutomaticGainControl_MODE_a) {
                ssSetBlockStateForSolverChangedAtMajorStep(S);
%<SLibCGIRSetStatesDisabled(82, 262, 1)>\
                _rtDW->AutomaticGainControl_MODE_a = false;
            }
        }
    }
    if (_rtDW->AutomaticGainControl_MODE_a) {
        i = ssIsSampleHit(S, 2, 0);
        if (i != 0) {
            rtb_B_97_27_0 = (0.0 - rtb_B_97_16_0 * _rtB->B_55_0_0) - rtb_B_97_17_0 * _rtB->B_55_2_0;
            rtb_B_97_28_0 = rtb_B_97_16_0 * _rtB->B_55_2_0 - rtb_B_97_17_0 * _rtB->B_55_0_0;
            B_97_726_1_idx_0 = (0.0 - rtb_B_97_27_0) - rtb_B_97_16_0;
            B_97_726_1_idx_1 = (0.0 - rtb_B_97_28_0) - rtb_B_97_17_0;
            _rtB->B_55_10_0 = ((B_97_321_0_idx_0 * rtb_B_97_16_0 + B_97_321_0_idx_1 * rtb_B_97_27_0) + B_97_321_0_idx_2 * B_97_726_1_idx_0) * 0.66666666666666663;
            if (_rtDW->Integ4_SYSTEM_ENABLE_fs != 0) {
                _rtB->B_55_11_0 = _rtDW->Integ4_DSTATE_i0;
            } else {
                _rtB->B_55_11_0 = _rtP->P_382 * _rtB->B_55_10_0 + _rtDW->Integ4_DSTATE_i0;
            }
            if (_rtB->B_97_1407_0 > _rtP->P_384) {
                B_5_0_0_idx_3 = _rtP->P_384;
            } else if (_rtB->B_97_1407_0 < _rtP->P_385) {
                B_5_0_0_idx_3 = _rtP->P_385;
            } else {
                B_5_0_0_idx_3 = _rtB->B_97_1407_0;
            }
            rtb_B_97_966_0 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
            rtb_B_97_967_0 = muDoubleScalarCeil(rtb_B_97_966_0);
            _rtB->B_55_15_0 = _rtP->P_386 * rtb_B_97_967_0;
%<tlcOutputsFcnOfS50B0>\
            rtb_B_97_82_0 = ssGetTaskTime(S, 2);
            if (rtb_B_97_82_0 < _rtP->P_388) {
                rtb_B_97_82_0 = _rtP->P_389;
            } else {
                rtb_B_97_82_0 = _rtP->P_390;
            }
            if (rtb_B_97_82_0 >= _rtP->P_392) {
                rtb_B_97_967_0 = rtb_B_97_966_0 - rtb_B_97_967_0;
                rtb_B_97_966_0 = ((_rtB->B_55_10_0 - _rtDW->UnitDelay_DSTATE_pv) * rtb_B_97_967_0 * _rtP->P_377 + _rtB->B_55_10_0) * (rtb_B_97_967_0 / rtb_B_97_966_0) + (_rtB->B_55_11_0 - _rtB->B_55_16_0) * _rtB->B_97_1407_0;
            } else {
                rtb_B_97_966_0 = _rtP->P_391;
            }
            _rtB->B_55_22_0 = ((B_97_321_0_idx_0 * rtb_B_97_17_0 + B_97_321_0_idx_1 * rtb_B_97_28_0) + B_97_321_0_idx_2 * B_97_726_1_idx_1) * 0.66666666666666663;
            if (_rtDW->Integ4_SYSTEM_ENABLE_mo != 0) {
                _rtB->B_55_23_0 = _rtDW->Integ4_DSTATE_c;
            } else {
                _rtB->B_55_23_0 = _rtP->P_393 * _rtB->B_55_22_0 + _rtDW->Integ4_DSTATE_c;
            }
            if (_rtB->B_97_1407_0 > _rtP->P_395) {
                B_5_0_0_idx_3 = _rtP->P_395;
            } else if (_rtB->B_97_1407_0 < _rtP->P_396) {
                B_5_0_0_idx_3 = _rtP->P_396;
            } else {
                B_5_0_0_idx_3 = _rtB->B_97_1407_0;
            }
            rtb_B_97_967_0 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
            rtb_B_97_972_0 = muDoubleScalarCeil(rtb_B_97_967_0);
            _rtB->B_55_27_0 = _rtP->P_397 * rtb_B_97_972_0;
%<tlcOutputsFcnOfS50B2>\
            rtb_B_97_82_0 = ssGetTaskTime(S, 2);
            if (rtb_B_97_82_0 < _rtP->P_399) {
                rtb_B_97_82_0 = _rtP->P_400;
            } else {
                rtb_B_97_82_0 = _rtP->P_401;
            }
            if (rtb_B_97_82_0 >= _rtP->P_403) {
                rtb_B_97_972_0 = rtb_B_97_967_0 - rtb_B_97_972_0;
                rtb_B_97_967_0 = ((_rtB->B_55_22_0 - _rtDW->UnitDelay_DSTATE_as) * rtb_B_97_972_0 * _rtP->P_378 + _rtB->B_55_22_0) * (rtb_B_97_972_0 / rtb_B_97_967_0) + (_rtB->B_55_23_0 - _rtB->B_55_28_0) * _rtB->B_97_1407_0;
            } else {
                rtb_B_97_967_0 = _rtP->P_402;
            }
            B_55_36_0 = _rtP->P_404 * muDoubleScalarAtan2(rtb_B_97_967_0, rtb_B_97_966_0);
            tmpForInput[0] = B_97_321_0_idx_0;
            tmpForInput[1] = B_97_321_0_idx_1;
            tmpForInput[2] = B_97_321_0_idx_2;
            tmpForInput[3] = rtb_B_97_16_0;
            tmpForInput[4] = rtb_B_97_17_0;
            tmpForInput[5] = rtb_B_97_27_0;
            tmpForInput[6] = rtb_B_97_28_0;
            tmpForInput[7] = B_97_726_1_idx_0;
            tmpForInput[8] = B_97_726_1_idx_1;
            B_97_1331_0_idx_0 = -0.0;
            for (i = 0; i < 9; i++) {
                B_97_1331_0_idx_0 += tmpForInput[i];
            }
            B_55_38_0 = _rtP->P_405 * B_97_1331_0_idx_0;
            B_5_0_0_idx_3 = muDoubleScalarHypot(rtb_B_97_966_0, rtb_B_97_967_0);
            if (B_5_0_0_idx_3 > _rtP->P_406) {
                B_5_0_0_idx_3 = _rtP->P_406;
            } else {
                if (B_5_0_0_idx_3 < _rtP->P_407) {
                    B_5_0_0_idx_3 = _rtP->P_407;
                }
            }
            _rtB->B_55_40_0 = 1.0 / B_5_0_0_idx_3;
        }
        if (ssIsMajorTimeStep(S) != 0) {
            srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC_e);
        }
    }
    B_97_1331_0_idx_0 = rtb_B_97_5_1 * _rtB->B_55_40_0;
    _rtB->B_97_1426_0 = _rtP->P_1561 * B_97_1331_0_idx_0 * _rtP->P_1562;
    B_97_1427_0 = _rtDW->UD_DSTATE_aa;
    B_97_1428_0 = _rtB->B_97_1426_0 - B_97_1427_0;
    B_5_0_0_idx_3 = (_rtP->P_1556 * B_97_1331_0_idx_0 + _rtDW->DiscreteTimeIntegrator_DSTATE_a) + B_97_1428_0;
    if (B_5_0_0_idx_3 > _rtP->P_1564) {
        _rtB->B_97_1430_0 = _rtP->P_1564;
    } else if (B_5_0_0_idx_3 < _rtP->P_1565) {
        _rtB->B_97_1430_0 = _rtP->P_1565;
    } else {
        _rtB->B_97_1430_0 = B_5_0_0_idx_3;
    }
    B_5_0_0_idx_3 = _rtP->P_1566 * _rtB->B_97_1430_0 - _rtDW->UnitDelay_DSTATE_oi;
    if (B_5_0_0_idx_3 > _rtP->P_1568) {
        B_5_0_0_idx_3 = _rtP->P_1568;
    } else {
        if (B_5_0_0_idx_3 < _rtP->P_1569) {
            B_5_0_0_idx_3 = _rtP->P_1569;
        }
    }
    _rtB->B_97_1435_0 = B_5_0_0_idx_3 + _rtDW->UnitDelay_DSTATE_oi;
%<tlcOutputsFcnOfS82B263>\
    _rtB->B_97_1438_0 = _rtP->P_1575 * B_97_1331_0_idx_0;
    B_97_1439_0 = ((B_97_321_0_idx_0 * rtb_B_97_16_0 + B_97_321_0_idx_1 * rtb_B_97_1236_0) + B_97_321_0_idx_2 * rtb_B_97_1173_0) * 0.66666666666666663;
    tmpForInput[0] = B_97_321_0_idx_0;
    tmpForInput[1] = B_97_321_0_idx_1;
    tmpForInput[2] = B_97_321_0_idx_2;
    tmpForInput[3] = rtb_B_97_16_0;
    tmpForInput[4] = rtb_B_97_17_0;
    tmpForInput[5] = rtb_B_97_1236_0;
    tmpForInput[6] = rtb_B_97_1_0;
    tmpForInput[7] = rtb_B_97_1173_0;
    tmpForInput[8] = rtb_B_97_5_0;
    rtb_B_97_967_0 = -0.0;
    for (i = 0; i < 9; i++) {
        rtb_B_97_967_0 += tmpForInput[i];
    }
    B_97_1441_0 = _rtP->P_1576 * rtb_B_97_967_0;
    _rtB->B_97_295_0[0] = _rtP->P_1577 * _rtB->B_97_116_0[42] * _rtP->P_1580;
    _rtB->B_97_295_0[1] = _rtP->P_1578 * _rtB->B_97_116_0[43] * _rtP->P_1580;
    _rtB->B_97_295_0[2] = _rtP->P_1579 * _rtB->B_97_116_0[44] * _rtP->P_1580;
    if (_rtDW->systemEnable_hq != 0) {
        _rtDW->lastSin_im = muDoubleScalarSin(_rtP->P_1583 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_k = muDoubleScalarCos(_rtP->P_1583 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_hq = 0;
    }
    rtb_B_97_967_0 = ((_rtDW->lastSin_im * _rtP->P_1587 + _rtDW->lastCos_k * _rtP->P_1586) * _rtP->P_1585 + (_rtDW->lastCos_k * _rtP->P_1587 - _rtDW->lastSin_im * _rtP->P_1586) * _rtP->P_1584) * _rtP->P_1581 + _rtP->P_1582;
    _rtB->B_97_1481_0[0] = _rtB->B_97_295_0[0] * rtb_B_97_967_0;
    _rtB->B_97_1481_0[1] = _rtB->B_97_295_0[1] * rtb_B_97_967_0;
    _rtB->B_97_1481_0[2] = _rtB->B_97_295_0[2] * rtb_B_97_967_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_pe != 0) {
        _rtB->B_97_1482_0[0] = _rtDW->Integ4_DSTATE_gh[0];
        _rtB->B_97_1482_0[1] = _rtDW->Integ4_DSTATE_gh[1];
        _rtB->B_97_1482_0[2] = _rtDW->Integ4_DSTATE_gh[2];
    } else {
        _rtB->B_97_1482_0[0] = _rtP->P_1588 * _rtB->B_97_1481_0[0] + _rtDW->Integ4_DSTATE_gh[0];
        _rtB->B_97_1482_0[1] = _rtP->P_1588 * _rtB->B_97_1481_0[1] + _rtDW->Integ4_DSTATE_gh[1];
        _rtB->B_97_1482_0[2] = _rtP->P_1588 * _rtB->B_97_1481_0[2] + _rtDW->Integ4_DSTATE_gh[2];
    }
    _rtB->B_97_1483_0 = _rtP->P_1590;
%<tlcOutputsFcnOfS82B298>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_1483_0) {
        _rtB->B_97_1491_0[0] = (_rtB->B_97_1482_0[0] - _rtB->B_97_1484_0[0]) * _rtP->P_1599 + (_rtP->P_492 * _rtB->B_97_1481_0[0] - _rtP->P_491 * _rtDW->UnitDelay_DSTATE_bw[0]);
        _rtB->B_97_1491_0[1] = (_rtB->B_97_1482_0[1] - _rtB->B_97_1484_0[1]) * _rtP->P_1599 + (_rtP->P_492 * _rtB->B_97_1481_0[1] - _rtP->P_491 * _rtDW->UnitDelay_DSTATE_bw[1]);
        _rtB->B_97_1491_0[2] = (_rtB->B_97_1482_0[2] - _rtB->B_97_1484_0[2]) * _rtP->P_1599 + (_rtP->P_492 * _rtB->B_97_1481_0[2] - _rtP->P_491 * _rtDW->UnitDelay_DSTATE_bw[2]);
    } else {
        _rtB->B_97_1491_0[0] = _rtDW->UnitDelay1_DSTATE_hp[0];
        _rtB->B_97_1491_0[1] = _rtDW->UnitDelay1_DSTATE_hp[1];
        _rtB->B_97_1491_0[2] = _rtDW->UnitDelay1_DSTATE_hp[2];
    }
    if (_rtDW->systemEnable_ci != 0) {
        _rtDW->lastSin_bt = muDoubleScalarSin(_rtP->P_1604 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_m = muDoubleScalarCos(_rtP->P_1604 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_ci = 0;
    }
    rtb_B_97_967_0 = ((_rtDW->lastSin_bt * _rtP->P_1608 + _rtDW->lastCos_m * _rtP->P_1607) * _rtP->P_1606 + (_rtDW->lastCos_m * _rtP->P_1608 - _rtDW->lastSin_bt * _rtP->P_1607) * _rtP->P_1605) * _rtP->P_1602 + _rtP->P_1603;
    _rtB->B_97_1493_0[0] = _rtB->B_97_295_0[0] * rtb_B_97_967_0;
    _rtB->B_97_1493_0[1] = _rtB->B_97_295_0[1] * rtb_B_97_967_0;
    _rtB->B_97_1493_0[2] = _rtB->B_97_295_0[2] * rtb_B_97_967_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_ix != 0) {
        _rtB->B_97_1494_0[0] = _rtDW->Integ4_DSTATE_n4[0];
        _rtB->B_97_1494_0[1] = _rtDW->Integ4_DSTATE_n4[1];
        _rtB->B_97_1494_0[2] = _rtDW->Integ4_DSTATE_n4[2];
    } else {
        _rtB->B_97_1494_0[0] = _rtP->P_1609 * _rtB->B_97_1493_0[0] + _rtDW->Integ4_DSTATE_n4[0];
        _rtB->B_97_1494_0[1] = _rtP->P_1609 * _rtB->B_97_1493_0[1] + _rtDW->Integ4_DSTATE_n4[1];
        _rtB->B_97_1494_0[2] = _rtP->P_1609 * _rtB->B_97_1493_0[2] + _rtDW->Integ4_DSTATE_n4[2];
    }
    _rtB->B_97_1495_0 = _rtP->P_1611;
%<tlcOutputsFcnOfS82B300>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_1495_0) {
        _rtB->B_97_1503_0[0] = (_rtB->B_97_1494_0[0] - _rtB->B_97_1496_0[0]) * _rtP->P_1620 + (_rtP->P_490 * _rtB->B_97_1493_0[0] - _rtP->P_489 * _rtDW->UnitDelay_DSTATE_kh[0]);
        _rtB->B_97_1503_0[1] = (_rtB->B_97_1494_0[1] - _rtB->B_97_1496_0[1]) * _rtP->P_1620 + (_rtP->P_490 * _rtB->B_97_1493_0[1] - _rtP->P_489 * _rtDW->UnitDelay_DSTATE_kh[1]);
        _rtB->B_97_1503_0[2] = (_rtB->B_97_1494_0[2] - _rtB->B_97_1496_0[2]) * _rtP->P_1620 + (_rtP->P_490 * _rtB->B_97_1493_0[2] - _rtP->P_489 * _rtDW->UnitDelay_DSTATE_kh[2]);
    } else {
        _rtB->B_97_1503_0[0] = _rtDW->UnitDelay1_DSTATE_fp[0];
        _rtB->B_97_1503_0[1] = _rtDW->UnitDelay1_DSTATE_fp[1];
        _rtB->B_97_1503_0[2] = _rtDW->UnitDelay1_DSTATE_fp[2];
    }
    B_97_726_1_idx_0 = muDoubleScalarHypot(_rtB->B_97_1491_0[0], _rtB->B_97_1503_0[0]);
    B_97_719_0_idx_0 = muDoubleScalarAtan2(_rtB->B_97_1503_0[0], _rtB->B_97_1491_0[0]);
    B_97_726_1_idx_1 = muDoubleScalarHypot(_rtB->B_97_1491_0[1], _rtB->B_97_1503_0[1]);
    B_97_719_0_idx_1 = muDoubleScalarAtan2(_rtB->B_97_1503_0[1], _rtB->B_97_1491_0[1]);
    B_97_726_1_idx_2 = muDoubleScalarHypot(_rtB->B_97_1491_0[2], _rtB->B_97_1503_0[2]);
    B_97_719_0_idx_2 = muDoubleScalarAtan2(_rtB->B_97_1503_0[2], _rtB->B_97_1491_0[2]);
    _rtB->B_97_265_0[0] = _rtP->P_1623 * _rtB->B_97_116_0[62] * _rtP->P_1626;
    _rtB->B_97_265_0[1] = _rtP->P_1624 * _rtB->B_97_116_0[63] * _rtP->P_1626;
    _rtB->B_97_265_0[2] = _rtP->P_1625 * _rtB->B_97_116_0[64] * _rtP->P_1626;
    if (_rtDW->systemEnable_hi != 0) {
        _rtDW->lastSin_p = muDoubleScalarSin(_rtP->P_1629 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_fk = muDoubleScalarCos(_rtP->P_1629 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_hi = 0;
    }
    rtb_B_97_967_0 = ((_rtDW->lastSin_p * _rtP->P_1633 + _rtDW->lastCos_fk * _rtP->P_1632) * _rtP->P_1631 + (_rtDW->lastCos_fk * _rtP->P_1633 - _rtDW->lastSin_p * _rtP->P_1632) * _rtP->P_1630) * _rtP->P_1627 + _rtP->P_1628;
    _rtB->B_97_1511_0[0] = _rtB->B_97_265_0[0] * rtb_B_97_967_0;
    _rtB->B_97_1511_0[1] = _rtB->B_97_265_0[1] * rtb_B_97_967_0;
    _rtB->B_97_1511_0[2] = _rtB->B_97_265_0[2] * rtb_B_97_967_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_lx != 0) {
        _rtB->B_97_1512_0[0] = _rtDW->Integ4_DSTATE_pq[0];
        _rtB->B_97_1512_0[1] = _rtDW->Integ4_DSTATE_pq[1];
        _rtB->B_97_1512_0[2] = _rtDW->Integ4_DSTATE_pq[2];
    } else {
        _rtB->B_97_1512_0[0] = _rtP->P_1634 * _rtB->B_97_1511_0[0] + _rtDW->Integ4_DSTATE_pq[0];
        _rtB->B_97_1512_0[1] = _rtP->P_1634 * _rtB->B_97_1511_0[1] + _rtDW->Integ4_DSTATE_pq[1];
        _rtB->B_97_1512_0[2] = _rtP->P_1634 * _rtB->B_97_1511_0[2] + _rtDW->Integ4_DSTATE_pq[2];
    }
    _rtB->B_97_1513_0 = _rtP->P_1636;
%<tlcOutputsFcnOfS82B302>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_1513_0) {
        _rtB->B_97_1521_0[0] = (_rtB->B_97_1512_0[0] - _rtB->B_97_1514_0[0]) * _rtP->P_1645 + (_rtP->P_496 * _rtB->B_97_1511_0[0] - _rtP->P_495 * _rtDW->UnitDelay_DSTATE_h[0]);
        _rtB->B_97_1521_0[1] = (_rtB->B_97_1512_0[1] - _rtB->B_97_1514_0[1]) * _rtP->P_1645 + (_rtP->P_496 * _rtB->B_97_1511_0[1] - _rtP->P_495 * _rtDW->UnitDelay_DSTATE_h[1]);
        _rtB->B_97_1521_0[2] = (_rtB->B_97_1512_0[2] - _rtB->B_97_1514_0[2]) * _rtP->P_1645 + (_rtP->P_496 * _rtB->B_97_1511_0[2] - _rtP->P_495 * _rtDW->UnitDelay_DSTATE_h[2]);
    } else {
        _rtB->B_97_1521_0[0] = _rtDW->UnitDelay1_DSTATE_k[0];
        _rtB->B_97_1521_0[1] = _rtDW->UnitDelay1_DSTATE_k[1];
        _rtB->B_97_1521_0[2] = _rtDW->UnitDelay1_DSTATE_k[2];
    }
    if (_rtDW->systemEnable_p != 0) {
        _rtDW->lastSin_f = muDoubleScalarSin(_rtP->P_1650 * ssGetTaskTime(S, 2));
        _rtDW->lastCos_g = muDoubleScalarCos(_rtP->P_1650 * ssGetTaskTime(S, 2));
        _rtDW->systemEnable_p = 0;
    }
    rtb_B_97_967_0 = ((_rtDW->lastSin_f * _rtP->P_1654 + _rtDW->lastCos_g * _rtP->P_1653) * _rtP->P_1652 + (_rtDW->lastCos_g * _rtP->P_1654 - _rtDW->lastSin_f * _rtP->P_1653) * _rtP->P_1651) * _rtP->P_1648 + _rtP->P_1649;
    _rtB->B_97_1523_0[0] = _rtB->B_97_265_0[0] * rtb_B_97_967_0;
    _rtB->B_97_1523_0[1] = _rtB->B_97_265_0[1] * rtb_B_97_967_0;
    _rtB->B_97_1523_0[2] = _rtB->B_97_265_0[2] * rtb_B_97_967_0;
    if (_rtDW->Integ4_SYSTEM_ENABLE_lp != 0) {
        _rtB->B_97_1524_0[0] = _rtDW->Integ4_DSTATE_hb[0];
        _rtB->B_97_1524_0[1] = _rtDW->Integ4_DSTATE_hb[1];
        _rtB->B_97_1524_0[2] = _rtDW->Integ4_DSTATE_hb[2];
    } else {
        _rtB->B_97_1524_0[0] = _rtP->P_1655 * _rtB->B_97_1523_0[0] + _rtDW->Integ4_DSTATE_hb[0];
        _rtB->B_97_1524_0[1] = _rtP->P_1655 * _rtB->B_97_1523_0[1] + _rtDW->Integ4_DSTATE_hb[1];
        _rtB->B_97_1524_0[2] = _rtP->P_1655 * _rtB->B_97_1523_0[2] + _rtDW->Integ4_DSTATE_hb[2];
    }
    _rtB->B_97_1525_0 = _rtP->P_1657;
%<tlcOutputsFcnOfS82B304>\
    if (ssGetTaskTime(S, 2) >= _rtB->B_97_1525_0) {
        _rtB->B_97_1533_0[0] = (_rtB->B_97_1524_0[0] - _rtB->B_97_1526_0[0]) * _rtP->P_1666 + (_rtP->P_494 * _rtB->B_97_1523_0[0] - _rtP->P_493 * _rtDW->UnitDelay_DSTATE_l3k[0]);
        _rtB->B_97_1533_0[1] = (_rtB->B_97_1524_0[1] - _rtB->B_97_1526_0[1]) * _rtP->P_1666 + (_rtP->P_494 * _rtB->B_97_1523_0[1] - _rtP->P_493 * _rtDW->UnitDelay_DSTATE_l3k[1]);
        _rtB->B_97_1533_0[2] = (_rtB->B_97_1524_0[2] - _rtB->B_97_1526_0[2]) * _rtP->P_1666 + (_rtP->P_494 * _rtB->B_97_1523_0[2] - _rtP->P_493 * _rtDW->UnitDelay_DSTATE_l3k[2]);
    } else {
        _rtB->B_97_1533_0[0] = _rtDW->UnitDelay1_DSTATE_d[0];
        _rtB->B_97_1533_0[1] = _rtDW->UnitDelay1_DSTATE_d[1];
        _rtB->B_97_1533_0[2] = _rtDW->UnitDelay1_DSTATE_d[2];
    }
    B_97_726_1_idx_0 = B_97_726_1_idx_0 * muDoubleScalarHypot(_rtB->B_97_1521_0[0], _rtB->B_97_1533_0[0]) * _rtP->P_1669;
    B_97_719_0_idx_0 = (_rtP->P_1670 * B_97_719_0_idx_0 - _rtP->P_1671 * muDoubleScalarAtan2(_rtB->B_97_1533_0[0], _rtB->B_97_1521_0[0])) * _rtP->P_1672;
    B_97_726_1_idx_1 = B_97_726_1_idx_1 * muDoubleScalarHypot(_rtB->B_97_1521_0[1], _rtB->B_97_1533_0[1]) * _rtP->P_1669;
    B_97_719_0_idx_1 = (_rtP->P_1670 * B_97_719_0_idx_1 - _rtP->P_1671 * muDoubleScalarAtan2(_rtB->B_97_1533_0[1], _rtB->B_97_1521_0[1])) * _rtP->P_1672;
    B_97_726_1_idx_2 = B_97_726_1_idx_2 * muDoubleScalarHypot(_rtB->B_97_1521_0[2], _rtB->B_97_1533_0[2]) * _rtP->P_1669;
    rtb_B_97_1_0 = (_rtP->P_1670 * B_97_719_0_idx_2 - _rtP->P_1671 * muDoubleScalarAtan2(_rtB->B_97_1533_0[2], _rtB->B_97_1521_0[2])) * _rtP->P_1672;
    muDoubleScalarSinCos(B_97_719_0_idx_0, &B_97_1542_0_idx_0, &rtb_B_97_1173_0);
    muDoubleScalarSinCos(B_97_719_0_idx_1, &B_97_1542_0_idx_1, &B_97_1542_1_idx_1);
    muDoubleScalarSinCos(rtb_B_97_1_0, &B_97_1542_0_idx_2, &B_97_1542_1_idx_2);
    _rtB->B_97_1544_0 = (B_97_726_1_idx_0 * rtb_B_97_1173_0 + B_97_726_1_idx_1 * B_97_1542_1_idx_1) + B_97_726_1_idx_2 * B_97_1542_1_idx_2;
}
_rtB->B_97_1545_0 = _rtX->integ1_CSTATE_do;
%<tlcOutputsFcnOfS82B306>\
B_97_1551_0.re = _rtB->B_97_1545_0 - B_97_1546_0;
_rtB->B_97_1548_0 = _rtX->Integ2_CSTATE_oo;
%<tlcOutputsFcnOfS82B307>\
B_97_1551_0.im = _rtB->B_97_1548_0 - B_97_1549_0;
_rtB->B_97_1552_0 = _rtX->integ1_CSTATE_m;
%<tlcOutputsFcnOfS82B308>\
B_97_1558_0.re = _rtB->B_97_1552_0 - B_97_1553_0;
_rtB->B_97_1555_0 = _rtX->Integ2_CSTATE_ot;
%<tlcOutputsFcnOfS82B309>\
B_97_1558_0.im = _rtB->B_97_1555_0 - B_97_1556_0;
_rtB->B_97_1559_0 = _rtX->integ1_CSTATE_i;
%<tlcOutputsFcnOfS82B310>\
B_97_1565_0.re = _rtB->B_97_1559_0 - B_97_1560_0;
_rtB->B_97_1562_0 = _rtX->Integ2_CSTATE_j;
%<tlcOutputsFcnOfS82B311>\
B_97_1565_0.im = _rtB->B_97_1562_0 - B_97_1563_0;
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_1567_0 = _rtB->B_97_1566_0;
}
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[38], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,2)
%<SLibCGIRAccessLocalVar(4, 0, "")> %% B_97_1551_0
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,3)
%<SLibCGIRAccessLocalVar(5, 0, "")> %% B_97_1558_0
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,4)
%<SLibCGIRAccessLocalVar(6, 0, "")> %% B_97_1565_0
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation", ["S", "_rtB->B_97_1567_0", "B_97_1551_0", "B_97_1558_0", "B_97_1565_0", "&_rtB->PosSeqComputation_g", "&_rtDW->PosSeqComputation_g", "&_rtP->PosSeqComputation_g"], 38, 7, 7, 0, 7, 82)>\

%endif
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_1570_0 = _rtB->B_97_1569_0;
}
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[38], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,2)
%<SLibCGIRAccessLocalVar(4, 0, "")> %% B_97_1551_0
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,3)
%<SLibCGIRAccessLocalVar(5, 0, "")> %% B_97_1558_0
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation",38,4)
%<SLibCGIRAccessLocalVar(6, 0, "")> %% B_97_1565_0
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_NegSeqComputation", ["S", "_rtB->B_97_1570_0", "B_97_1551_0", "B_97_1558_0", "B_97_1565_0", "&_rtB->NegSeqComputation_e", "&_rtDW->NegSeqComputation_e", "&_rtP->NegSeqComputation_e"], 38, 6, 7, 0, 7, 82)>\

%endif
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    _rtB->B_97_1573_0 = _rtB->B_97_1572_0;
}
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[39], "Output",0)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation",39,0)
%<SLibCG_AccessArg(4 ,1, 0)>
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation",39,2)
%<SLibCGIRAccessLocalVar(4, 0, "")> %% B_97_1551_0
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation",39,3)
%<SLibCGIRAccessLocalVar(5, 0, "")> %% B_97_1558_0
%endif
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation",39,4)
%<SLibCGIRAccessLocalVar(6, 0, "")> %% B_97_1565_0
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_ZeroSeqComputation", ["S", "_rtB->B_97_1573_0", "B_97_1551_0", "B_97_1558_0", "B_97_1565_0", "&_rtB->ZeroSeqComputation_k", "&_rtDW->ZeroSeqComputation_k", "&_rtP->ZeroSeqComputation_k"], 39, 3, 7, 0, 7, 82)>\

%endif
_rtB->B_97_1575_0[0] = muDoubleScalarHypot(_rtB->PosSeqComputation_g.B_39_2_0.re, _rtB->PosSeqComputation_g.B_39_2_0.im);
_rtB->B_97_1575_0[1] = muDoubleScalarHypot(_rtB->NegSeqComputation_e.B_39_2_0.re, _rtB->NegSeqComputation_e.B_39_2_0.im);
_rtB->B_97_1575_0[2] = muDoubleScalarHypot(_rtB->ZeroSeqComputation_k.B_41_1_0.re, _rtB->ZeroSeqComputation_k.B_41_1_0.im);
rtb_B_97_30_0[0] = muDoubleScalarAtan2(_rtB->PosSeqComputation_g.B_39_2_0.im, _rtB->PosSeqComputation_g.B_39_2_0.re);
rtb_B_97_30_0[1] = muDoubleScalarAtan2(_rtB->NegSeqComputation_e.B_39_2_0.im, _rtB->NegSeqComputation_e.B_39_2_0.re);
rtb_B_97_30_0[2] = muDoubleScalarAtan2(_rtB->ZeroSeqComputation_k.B_41_1_0.im, _rtB->ZeroSeqComputation_k.B_41_1_0.re);
_rtB->B_97_1576_0 = _rtP->P_1694 * _rtB->B_97_1575_0[0];
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_1577_0 = _rtDW->UnitDelay_DSTATE_jz;
    B_97_726_1_idx_0 *= B_97_1542_0_idx_0;
    B_97_726_1_idx_1 *= B_97_1542_0_idx_1;
    _rtB->B_97_1579_0 = (B_97_726_1_idx_0 + B_97_726_1_idx_1) + B_97_726_1_idx_2 * B_97_1542_0_idx_2;
}
%<tlcOutputsFcnOfS82B315>\
%<tlcOutputsFcnOfS82B316>\
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
%<tlcOutputsFcnOfS82B317>\
%<tlcOutputsFcnOfS82B318>\
}
_rtB->B_97_1585_0 = _rtP->P_1697 * _rtB->B_97_1575_0[0];
i = ssIsSampleHit(S, 1, 0);
if (i != 0) {
    if (ssIsMajorTimeStep(S) != 0) {
        _rtDW->RelationalOperator_Mode_c[0] = (_rtB->B_97_1575_0[1] > _rtB->B_97_1585_0);
        _rtDW->RelationalOperator_Mode_c[1] = (_rtB->B_97_1575_0[2] > _rtB->B_97_1585_0);
    }
    _rtB->B_97_1586_0[0] = _rtDW->RelationalOperator_Mode_c[0];
    _rtB->B_97_1586_0[1] = _rtDW->RelationalOperator_Mode_c[1];
}
if (_rtB->B_97_1586_0[0] >= _rtP->P_1698) {
    B_97_1587_0[0] = rtb_B_97_30_0[1];
} else {
    B_97_1587_0[0] = _rtB->B_97_1584_0;
}
if (_rtB->B_97_1586_0[1] >= _rtP->P_1698) {
    B_97_1587_0[1] = rtb_B_97_30_0[2];
} else {
    B_97_1587_0[1] = _rtB->B_97_1584_0;
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_1588_0 = _rtP->P_1699 * _rtB->B_97_295_0[0];
}
rtb_B_97_967_0 = muDoubleScalarSin(_rtP->P_1702 * ssGetTaskTime(S, 0) + _rtP->P_1703) * _rtP->P_1700 + _rtP->P_1701;
_rtB->B_97_1590_0 = rtb_B_97_967_0 * _rtB->B_97_1588_0;
B_97_1331_0_idx_0 = muDoubleScalarSin(_rtP->P_1706 * ssGetTaskTime(S, 0) + _rtP->P_1707) * _rtP->P_1704 + _rtP->P_1705;
_rtB->B_97_1592_0 = _rtB->B_97_1588_0 * B_97_1331_0_idx_0;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_1593_0 = _rtP->P_1708 * _rtB->B_97_295_0[1];
}
_rtB->B_97_1594_0 = rtb_B_97_967_0 * _rtB->B_97_1593_0;
_rtB->B_97_1595_0 = _rtB->B_97_1593_0 * B_97_1331_0_idx_0;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_1596_0 = _rtP->P_1709 * _rtB->B_97_295_0[2];
}
_rtB->B_97_1597_0 = rtb_B_97_967_0 * _rtB->B_97_1596_0;
_rtB->B_97_1598_0 = _rtB->B_97_1596_0 * B_97_1331_0_idx_0;
B_97_1599_0 = _rtP->P_1710 * rtb_B_97_30_0[0];
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    B_97_1542_0_idx_0 = _rtP->P_1711 * _rtB->B_97_295_0[0];
    B_97_1542_0_idx_1 = _rtP->P_1711 * _rtB->B_97_295_0[1];
    B_97_1542_0_idx_2 = _rtP->P_1711 * _rtB->B_97_295_0[2];
    B_97_1331_0_idx_0 = muDoubleScalarMod(_rtDW->DiscreteTimeIntegrator_DSTATE_om, _rtB->B_97_1602_0);
    rtb_B_97_967_0 = muDoubleScalarSin(B_97_1331_0_idx_0);
    B_97_1331_0_idx_0 = muDoubleScalarCos(B_97_1331_0_idx_0);
    rtb_B_97_16_0 = (0.0 - rtb_B_97_967_0 * _rtB->B_97_1606_0) - B_97_1331_0_idx_0 * _rtB->B_97_1608_0;
    rtb_B_97_17_0 = rtb_B_97_967_0 * _rtB->B_97_1608_0 - B_97_1331_0_idx_0 * _rtB->B_97_1606_0;
    rtb_B_97_1236_0 = (0.0 - rtb_B_97_16_0) - rtb_B_97_967_0;
    rtb_B_97_1_0 = (0.0 - rtb_B_97_17_0) - B_97_1331_0_idx_0;
    _rtB->B_97_1616_0 = ((B_97_1542_0_idx_0 * B_97_1331_0_idx_0 + B_97_1542_0_idx_1 * rtb_B_97_17_0) + B_97_1542_0_idx_2 * rtb_B_97_1_0) * 0.66666666666666663;
    if (_rtDW->Integ4_SYSTEM_ENABLE_b != 0) {
        _rtB->B_97_1617_0 = _rtDW->Integ4_DSTATE_m2;
    } else {
        _rtB->B_97_1617_0 = _rtP->P_1717 * _rtB->B_97_1616_0 + _rtDW->Integ4_DSTATE_m2;
    }
    if (_rtB->B_97_1577_0 > _rtP->P_1719) {
        B_5_0_0_idx_3 = _rtP->P_1719;
    } else if (_rtB->B_97_1577_0 < _rtP->P_1720) {
        B_5_0_0_idx_3 = _rtP->P_1720;
    } else {
        B_5_0_0_idx_3 = _rtB->B_97_1577_0;
    }
    rtb_B_97_1173_0 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
    rtb_B_97_5_0 = muDoubleScalarCeil(rtb_B_97_1173_0);
    _rtB->B_97_1621_0 = _rtP->P_1721 * rtb_B_97_5_0;
%<tlcOutputsFcnOfS82B319>\
    rtb_B_97_82_0 = ssGetTaskTime(S, 2);
    if (rtb_B_97_82_0 < _rtP->P_1723) {
        rtb_B_97_82_0 = _rtP->P_1724;
    } else {
        rtb_B_97_82_0 = _rtP->P_1725;
    }
    if (rtb_B_97_82_0 >= _rtP->P_1727) {
        rtb_B_97_5_0 = rtb_B_97_1173_0 - rtb_B_97_5_0;
        rtb_B_97_1173_0 = ((_rtB->B_97_1616_0 - _rtDW->UnitDelay_DSTATE_o0) * rtb_B_97_5_0 * _rtP->P_488 + _rtB->B_97_1616_0) * (rtb_B_97_5_0 / rtb_B_97_1173_0) + (_rtB->B_97_1617_0 - _rtB->B_97_1622_0) * _rtB->B_97_1577_0;
    } else {
        rtb_B_97_1173_0 = _rtP->P_1726;
    }
    _rtB->B_97_1629_0 = _rtB->B_97_1628_0;
    i = ssIsSampleHit(S, 2, 0);
    if ((i != 0) && (ssIsMajorTimeStep(S) != 0)) {
        if (_rtB->B_97_1629_0 > 0.0) {
            if (!_rtDW->AutomaticGainControl_MODE_o) {
                if (ssGetTaskTime(S, 2) != ssGetTStart(S)) {
                    ssSetBlockStateForSolverChangedAtMajorStep(S);
                }
%<SLibCGIRSetStatesDisabled(82, 321, 0)>\
                _rtDW->Integ4_SYSTEM_ENABLE_au = 1U;
                _rtDW->Integ4_SYSTEM_ENABLE_d = 1U;
                _rtDW->AutomaticGainControl_MODE_o = true;
            }
        } else {
            if (_rtDW->AutomaticGainControl_MODE_o) {
                ssSetBlockStateForSolverChangedAtMajorStep(S);
%<SLibCGIRSetStatesDisabled(82, 321, 1)>\
                _rtDW->AutomaticGainControl_MODE_o = false;
            }
        }
    }
    if (_rtDW->AutomaticGainControl_MODE_o) {
        i = ssIsSampleHit(S, 2, 0);
        if (i != 0) {
            rtb_B_97_5_0 = (0.0 - rtb_B_97_967_0 * _rtB->B_77_0_0) - B_97_1331_0_idx_0 * _rtB->B_77_2_0;
            rtb_B_97_5_1 = rtb_B_97_967_0 * _rtB->B_77_2_0 - B_97_1331_0_idx_0 * _rtB->B_77_0_0;
            rtb_B_97_27_0 = (0.0 - rtb_B_97_5_0) - rtb_B_97_967_0;
            rtb_B_97_28_0 = (0.0 - rtb_B_97_5_1) - B_97_1331_0_idx_0;
            _rtB->B_77_10_0 = ((B_97_1542_0_idx_0 * rtb_B_97_967_0 + B_97_1542_0_idx_1 * rtb_B_97_5_0) + B_97_1542_0_idx_2 * rtb_B_97_27_0) * 0.66666666666666663;
            if (_rtDW->Integ4_SYSTEM_ENABLE_au != 0) {
                _rtB->B_77_11_0 = _rtDW->Integ4_DSTATE_fi;
            } else {
                _rtB->B_77_11_0 = _rtP->P_462 * _rtB->B_77_10_0 + _rtDW->Integ4_DSTATE_fi;
            }
            if (_rtB->B_97_1577_0 > _rtP->P_464) {
                B_5_0_0_idx_3 = _rtP->P_464;
            } else if (_rtB->B_97_1577_0 < _rtP->P_465) {
                B_5_0_0_idx_3 = _rtP->P_465;
            } else {
                B_5_0_0_idx_3 = _rtB->B_97_1577_0;
            }
            B_97_726_1_idx_0 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
            B_97_726_1_idx_1 = muDoubleScalarCeil(B_97_726_1_idx_0);
            _rtB->B_77_15_0 = _rtP->P_466 * B_97_726_1_idx_1;
%<tlcOutputsFcnOfS66B0>\
            rtb_B_97_82_0 = ssGetTaskTime(S, 2);
            if (rtb_B_97_82_0 < _rtP->P_468) {
                rtb_B_97_82_0 = _rtP->P_469;
            } else {
                rtb_B_97_82_0 = _rtP->P_470;
            }
            if (rtb_B_97_82_0 >= _rtP->P_472) {
                B_97_726_1_idx_1 = B_97_726_1_idx_0 - B_97_726_1_idx_1;
                B_97_726_1_idx_0 = ((_rtB->B_77_10_0 - _rtDW->UnitDelay_DSTATE_hk) * B_97_726_1_idx_1 * _rtP->P_457 + _rtB->B_77_10_0) * (B_97_726_1_idx_1 / B_97_726_1_idx_0) + (_rtB->B_77_11_0 - _rtB->B_77_16_0) * _rtB->B_97_1577_0;
            } else {
                B_97_726_1_idx_0 = _rtP->P_471;
            }
            _rtB->B_77_22_0 = ((B_97_1542_0_idx_0 * B_97_1331_0_idx_0 + B_97_1542_0_idx_1 * rtb_B_97_5_1) + B_97_1542_0_idx_2 * rtb_B_97_28_0) * 0.66666666666666663;
            if (_rtDW->Integ4_SYSTEM_ENABLE_d != 0) {
                _rtB->B_77_23_0 = _rtDW->Integ4_DSTATE_ez;
            } else {
                _rtB->B_77_23_0 = _rtP->P_473 * _rtB->B_77_22_0 + _rtDW->Integ4_DSTATE_ez;
            }
            if (_rtB->B_97_1577_0 > _rtP->P_475) {
                B_5_0_0_idx_3 = _rtP->P_475;
            } else if (_rtB->B_97_1577_0 < _rtP->P_476) {
                B_5_0_0_idx_3 = _rtP->P_476;
            } else {
                B_5_0_0_idx_3 = _rtB->B_97_1577_0;
            }
            B_97_726_1_idx_1 = 1.0 / B_5_0_0_idx_3 / 1.0e-5;
            rtb_B_97_966_0 = muDoubleScalarCeil(B_97_726_1_idx_1);
            _rtB->B_77_27_0 = _rtP->P_477 * rtb_B_97_966_0;
%<tlcOutputsFcnOfS66B2>\
            rtb_B_97_82_0 = ssGetTaskTime(S, 2);
            if (rtb_B_97_82_0 < _rtP->P_479) {
                rtb_B_97_82_0 = _rtP->P_480;
            } else {
                rtb_B_97_82_0 = _rtP->P_481;
            }
            if (rtb_B_97_82_0 >= _rtP->P_483) {
                rtb_B_97_966_0 = B_97_726_1_idx_1 - rtb_B_97_966_0;
                B_97_726_1_idx_1 = ((_rtB->B_77_22_0 - _rtDW->UnitDelay_DSTATE_fvk) * rtb_B_97_966_0 * _rtP->P_458 + _rtB->B_77_22_0) * (rtb_B_97_966_0 / B_97_726_1_idx_1) + (_rtB->B_77_23_0 - _rtB->B_77_28_0) * _rtB->B_97_1577_0;
            } else {
                B_97_726_1_idx_1 = _rtP->P_482;
            }
            B_77_36_0 = _rtP->P_484 * muDoubleScalarAtan2(B_97_726_1_idx_1, B_97_726_1_idx_0);
            tmpForInput[0] = B_97_1542_0_idx_0;
            tmpForInput[1] = B_97_1542_0_idx_1;
            tmpForInput[2] = B_97_1542_0_idx_2;
            tmpForInput[3] = rtb_B_97_967_0;
            tmpForInput[4] = B_97_1331_0_idx_0;
            tmpForInput[5] = rtb_B_97_5_0;
            tmpForInput[6] = rtb_B_97_5_1;
            tmpForInput[7] = rtb_B_97_27_0;
            tmpForInput[8] = rtb_B_97_28_0;
            rtb_B_77_37_0 = -0.0;
            for (i = 0; i < 9; i++) {
                rtb_B_77_37_0 += tmpForInput[i];
            }
            B_77_38_0 = _rtP->P_485 * rtb_B_77_37_0;
            B_5_0_0_idx_3 = muDoubleScalarHypot(B_97_726_1_idx_0, B_97_726_1_idx_1);
            if (B_5_0_0_idx_3 > _rtP->P_486) {
                B_5_0_0_idx_3 = _rtP->P_486;
            } else {
                if (B_5_0_0_idx_3 < _rtP->P_487) {
                    B_5_0_0_idx_3 = _rtP->P_487;
                }
            }
            _rtB->B_77_40_0 = 1.0 / B_5_0_0_idx_3;
        }
        if (ssIsMajorTimeStep(S) != 0) {
            srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC_h);
        }
    }
    rtb_B_77_37_0 = rtb_B_97_1173_0 * _rtB->B_77_40_0;
    _rtB->B_97_1636_0 = _rtP->P_1734 * rtb_B_77_37_0 * _rtP->P_1735;
    B_97_1637_0 = _rtDW->UD_DSTATE_k;
    B_97_1638_0 = _rtB->B_97_1636_0 - B_97_1637_0;
    B_5_0_0_idx_3 = (_rtP->P_1729 * rtb_B_77_37_0 + _rtDW->DiscreteTimeIntegrator_DSTATE_k) + B_97_1638_0;
    if (B_5_0_0_idx_3 > _rtP->P_1737) {
        _rtB->B_97_1640_0 = _rtP->P_1737;
    } else if (B_5_0_0_idx_3 < _rtP->P_1738) {
        _rtB->B_97_1640_0 = _rtP->P_1738;
    } else {
        _rtB->B_97_1640_0 = B_5_0_0_idx_3;
    }
    B_5_0_0_idx_3 = _rtP->P_1739 * _rtB->B_97_1640_0 - _rtDW->UnitDelay_DSTATE_d0;
    if (B_5_0_0_idx_3 > _rtP->P_1741) {
        B_5_0_0_idx_3 = _rtP->P_1741;
    } else {
        if (B_5_0_0_idx_3 < _rtP->P_1742) {
            B_5_0_0_idx_3 = _rtP->P_1742;
        }
    }
    _rtB->B_97_1645_0 = B_5_0_0_idx_3 + _rtDW->UnitDelay_DSTATE_d0;
%<tlcOutputsFcnOfS82B322>\
    _rtB->B_97_1648_0 = _rtP->P_1748 * rtb_B_77_37_0;
    B_97_1649_0 = ((B_97_1542_0_idx_0 * rtb_B_97_967_0 + B_97_1542_0_idx_1 * rtb_B_97_16_0) + B_97_1542_0_idx_2 * rtb_B_97_1236_0) * 0.66666666666666663;
    tmpForInput[0] = B_97_1542_0_idx_0;
    tmpForInput[1] = B_97_1542_0_idx_1;
    tmpForInput[2] = B_97_1542_0_idx_2;
    tmpForInput[3] = rtb_B_97_967_0;
    tmpForInput[4] = B_97_1331_0_idx_0;
    tmpForInput[5] = rtb_B_97_16_0;
    tmpForInput[6] = rtb_B_97_17_0;
    tmpForInput[7] = rtb_B_97_1236_0;
    tmpForInput[8] = rtb_B_97_1_0;
    B_97_1542_0_idx_0 = -0.0;
    for (i = 0; i < 9; i++) {
        B_97_1542_0_idx_0 += tmpForInput[i];
    }
    B_97_1651_0 = _rtP->P_1749 * B_97_1542_0_idx_0;
}
%<tlcOutputsFcnOfS82B385>\
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    rtb_B_97_1177_0[0] = _rtP->P_1753[0] * rtb_B_97_56_0[0] * _rtB->B_97_55_0[1];
    rtb_B_97_1177_0[1] = _rtP->P_1753[1] * rtb_B_97_56_0[1] * _rtB->B_97_55_0[0];
    rtb_B_97_1718_0 = rtb_B_97_1177_0[0] + rtb_B_97_1177_0[1];
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        _rtB->B_97_1725_0[0] = rtb_B_97_32_0;
        _rtB->B_97_1725_0[1] = _rtP->P_1752 * rtb_B_97_48_0;
        _rtB->B_97_1725_0[2] = rtb_B_97_48_0 * rtb_B_97_1718_0 * _rtP->P_1754;
        _rtB->B_97_1725_0[3] = rtb_B_97_47_0;
        _rtB->B_97_1725_0[4] = _rtP->P_1757 * muDoubleScalarRem(_rtDW->DiscreteTimeIntegrator2_DSTATE_j, 6.2831853071795862);
        _rtB->B_97_1725_0[5] = _rtP->P_1758 * rtb_B_97_1718_0;
    }
}
_rtB->B_97_1726_0 = B_97_1714_0 * _rtB->B_97_1725_0[1];
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_1727_0 = _rtDW->UnitDelay2_DSTATE_h;
    i = ssIsSampleHit(S, 2, 0);
    if (i != 0) {
        rtb_B_97_1740_0[0] = _rtB->B_97_116_0[27];
        rtb_B_97_1740_0[1] = _rtB->B_97_116_0[28];
    }
    rtb_B_97_1740_0[0] *= _rtP->P_1766;
    rtb_B_97_1740_0[1] *= _rtP->P_1766;
    _rtB->B_97_1742_0 = ((2.0 * rtb_B_97_1740_0[0] + rtb_B_97_1740_0[1]) * rtb_B_97_36_1 + 1.7320508075688772 * rtb_B_97_1740_0[1] * rtb_B_97_36_0) * 0.33333333333333331;
    _rtB->B_97_1743_0 = ((2.0 * rtb_B_97_1740_0[0] + rtb_B_97_1740_0[1]) * rtb_B_97_36_0 + -1.7320508075688772 * rtb_B_97_1740_0[1] * rtb_B_97_36_1) * 0.33333333333333331;
    rtb_B_97_1194_0[11] = _rtP->P_1773[11] * _rtB->B_97_1742_0;
    rtb_B_97_1194_0[12] = _rtP->P_1773[12] * _rtB->B_97_1743_0;
    rtb_B_97_67_0 = muDoubleScalarPower(rtb_B_97_1194_0[12], 2.0) + muDoubleScalarPower(rtb_B_97_1194_0[11], 2.0);
    if (rtb_B_97_67_0 < 0.0) {
        _rtB->B_97_1759_0 = -muDoubleScalarSqrt(-rtb_B_97_67_0);
    } else {
        _rtB->B_97_1759_0 = muDoubleScalarSqrt(rtb_B_97_67_0);
    }
}
%<tlcOutputsFcnOfS82B386>\
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    rtb_B_97_67_0 = muDoubleScalarPower(rtb_B_97_1194_0[12], 2.0) + muDoubleScalarPower(rtb_B_97_1194_0[11], 2.0);
    if (rtb_B_97_67_0 < 0.0) {
        _rtB->B_97_1763_0 = -muDoubleScalarSqrt(-rtb_B_97_67_0);
    } else {
        _rtB->B_97_1763_0 = muDoubleScalarSqrt(rtb_B_97_67_0);
    }
%<tlcOutputsFcnOfS82B387>\
    _rtB->B_97_1766_0 = ((_rtB->B_97_1761_0 + _rtB->B_97_1762_0) - B_97_1764_0) - _rtDW->UnitDelay1_DSTATE_fx;
%<tlcOutputsFcnOfS82B388>\
    _rtB->B_97_1768_0 = _rtP->P_1787 * B_97_1767_0;
%<tlcOutputsFcnOfS82B389>\
    rtb_B_97_36_0 = (B_97_1769_0 > _rtB->B_97_1770_0);
    rtb_B_97_36_1 = _rtP->P_1794 * B_97_1764_0 + _rtB->B_97_1777_0;
    rtb_B_97_32_0 = (B_97_1769_0 < rtb_B_97_36_1);
    _rtB->B_97_1790_0 = (((real_T)((rtb_B_97_36_0 != 0.0) && (rtb_B_97_32_0 != 0.0)) * B_97_1769_0 + (real_T)!(rtb_B_97_36_0 != 0.0) * _rtB->B_97_1770_0) + (real_T)!(rtb_B_97_32_0 != 0.0) * rtb_B_97_36_1) * _rtP->P_1798;
%<tlcOutputsFcnOfS82B390>\
    _rtB->B_97_1792_0 = _rtP->P_1804 * _rtB->B_97_1791_0;
%<tlcOutputsFcnOfS82B391>\
}
_rtB->B_97_1794_0 = 0.0;
_rtB->B_97_1794_0 += _rtP->P_1811[0] * _rtX->CONTROLSYSTEM_CSTATE_b[0];
_rtB->B_97_1794_0 += _rtP->P_1811[1] * _rtX->CONTROLSYSTEM_CSTATE_b[1];
_rtB->B_97_1795_0 = _rtP->P_1812 * _rtB->B_97_1794_0;
/* Limited  Integrator  */
if (ssIsMajorTimeStep(S) != 0) {
    if (_rtX->Integrator_CSTATE_k >= _rtP->P_1814) {
        _rtX->Integrator_CSTATE_k = _rtP->P_1814;
    } else {
        if (_rtX->Integrator_CSTATE_k <= _rtP->P_1815) {
            _rtX->Integrator_CSTATE_k = _rtP->P_1815;
        }
    }
}
_rtB->B_97_1796_0 = _rtX->Integrator_CSTATE_k;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtB->B_97_1798_0 = _rtB->B_97_1797_0 - _rtB->B_97_1725_0[1];
}
_rtB->B_97_1799_0 = 0.0;
_rtB->B_97_1799_0 += _rtP->P_1818 * _rtX->TF1_CSTATE_p;
_rtB->B_97_1799_0 += _rtP->P_1819 * _rtB->B_97_1795_0;
_rtB->B_97_1800_0 = 0.0;
_rtB->B_97_1800_0 += _rtP->P_1821 * _rtX->TF2_CSTATE_m;
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    B_97_1801_0 = muDoubleScalarHypot(_rtB->B_97_1742_0, _rtB->B_97_1743_0);
    _rtB->B_97_1802_0 = _rtP->P_1822 * _rtB->B_97_1727_0;
}
i = ssIsSampleHit(S, 1, 0);
if ((i != 0) && (_rtDW->RateTransition1_semaphoreTaken_g == 0)) {
    _rtDW->RateTransition1_Buffer0_j = _rtB->B_97_1726_0;
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    _rtDW->RateTransition1_semaphoreTaken_g = 1;
    rtb_B_97_1804_0 = _rtDW->RateTransition1_Buffer0_j;
    _rtDW->RateTransition1_semaphoreTaken_g = 0;
    rtb_B_97_1804_0 *= _rtP->P_1824;
    _rtB->B_97_1809_0 = ((rtb_B_97_1804_0 / (rtb_B_97_48_0 + 2.2204460492503131e-16) - rtb_B_97_1718_0) - _rtP->P_1825 * rtb_B_97_48_0) * _rtP->P_1826;
    _rtB->B_97_1810_0 = _rtP->P_1827 * rtb_B_97_47_0;
    _rtB->B_97_1811_0 = _rtP->P_1828 * rtb_B_97_48_0;
    if (_rtB->B_97_1896_0 >= _rtP->P_1834) {
        rtb_B_97_1804_0 = _rtB->B_97_1895_0;
    } else {
        rtb_B_97_1804_0 = rt_Lookup(_rtP->P_1832, 4, ssGetTaskTime(S, 2), _rtP->P_1833);
    }
    if (_rtB->B_97_1900_0 >= _rtP->P_1837) {
        _rtB->B_97_1903_0 = rtb_B_97_1804_0;
    } else {
        _rtB->B_97_1903_0 = _rtB->B_97_1901_0;
    }
}
_rtB->B_97_1905_0 = rt_Lookup(_rtP->P_1838, 5, ssGetT(S), _rtP->P_1839);
if (_rtB->B_97_1894_0 >= _rtP->P_1840) {
    _rtB->B_97_1906_0 = _rtB->B_97_1903_0;
} else {
    _rtB->B_97_1906_0 = _rtB->B_97_1905_0;
}
if ((_rtDW->TimeStampA >= ssGetT(S)) && (_rtDW->TimeStampB >= ssGetT(S))) {
    _rtB->B_97_1907_0 = 0.0;
} else {
    rtb_B_97_47_0 = _rtDW->TimeStampA;
    lastU = &_rtDW->LastUAtTimeA;
    if (_rtDW->TimeStampA < _rtDW->TimeStampB) {
        if (_rtDW->TimeStampB < ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB;
            lastU = &_rtDW->LastUAtTimeB;
        }
    } else {
        if (_rtDW->TimeStampA >= ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB;
            lastU = &_rtDW->LastUAtTimeB;
        }
    }
    _rtB->B_97_1907_0 = (_rtB->B_97_1905_0 - *lastU) / (ssGetT(S) - rtb_B_97_47_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_1913_0 >= _rtP->P_1844) {
        _rtB->B_97_1915_0 = rtb_B_97_1804_0;
    } else {
        _rtB->B_97_1915_0 = _rtB->B_97_1901_0;
    }
}
_rtB->B_97_1917_0 = rt_Lookup(_rtP->P_1845, 5, ssGetT(S), _rtP->P_1846);
if (_rtB->B_97_1912_0 >= _rtP->P_1847) {
    _rtB->B_97_1918_0 = _rtB->B_97_1915_0;
} else {
    _rtB->B_97_1918_0 = _rtB->B_97_1917_0;
}
if ((_rtDW->TimeStampA_c >= ssGetT(S)) && (_rtDW->TimeStampB_a >= ssGetT(S))) {
    _rtB->B_97_1919_0 = 0.0;
} else {
    rtb_B_97_47_0 = _rtDW->TimeStampA_c;
    lastU = &_rtDW->LastUAtTimeA_d;
    if (_rtDW->TimeStampA_c < _rtDW->TimeStampB_a) {
        if (_rtDW->TimeStampB_a < ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_a;
            lastU = &_rtDW->LastUAtTimeB_d;
        }
    } else {
        if (_rtDW->TimeStampA_c >= ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_a;
            lastU = &_rtDW->LastUAtTimeB_d;
        }
    }
    _rtB->B_97_1919_0 = (_rtB->B_97_1917_0 - *lastU) / (ssGetT(S) - rtb_B_97_47_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_1925_0 >= _rtP->P_1851) {
        _rtB->B_97_1927_0 = rtb_B_97_1804_0;
    } else {
        _rtB->B_97_1927_0 = _rtB->B_97_1901_0;
    }
}
_rtB->B_97_1929_0 = rt_Lookup(_rtP->P_1852, 5, ssGetT(S), _rtP->P_1853);
if (_rtB->B_97_1924_0 >= _rtP->P_1854) {
    _rtB->B_97_1930_0 = _rtB->B_97_1927_0;
} else {
    _rtB->B_97_1930_0 = _rtB->B_97_1929_0;
}
if ((_rtDW->TimeStampA_cb >= ssGetT(S)) && (_rtDW->TimeStampB_ax >= ssGetT(S))) {
    _rtB->B_97_1931_0 = 0.0;
} else {
    rtb_B_97_47_0 = _rtDW->TimeStampA_cb;
    lastU = &_rtDW->LastUAtTimeA_d2;
    if (_rtDW->TimeStampA_cb < _rtDW->TimeStampB_ax) {
        if (_rtDW->TimeStampB_ax < ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_ax;
            lastU = &_rtDW->LastUAtTimeB_m;
        }
    } else {
        if (_rtDW->TimeStampA_cb >= ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_ax;
            lastU = &_rtDW->LastUAtTimeB_m;
        }
    }
    _rtB->B_97_1931_0 = (_rtB->B_97_1929_0 - *lastU) / (ssGetT(S) - rtb_B_97_47_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_1945_0 >= _rtP->P_1861) {
        rtb_B_97_1948_0 = _rtB->B_97_1944_0;
    } else {
        rtb_B_97_1948_0 = rt_Lookup(_rtP->P_1859, 4, ssGetTaskTime(S, 2), _rtP->P_1860);
    }
    if (_rtB->B_97_1949_0 >= _rtP->P_1864) {
        _rtB->B_97_1952_0 = rtb_B_97_1948_0;
    } else {
        _rtB->B_97_1952_0 = _rtB->B_97_1950_0;
    }
}
_rtB->B_97_1954_0 = rt_Lookup(_rtP->P_1865, 5, ssGetT(S), _rtP->P_1866);
if (_rtB->B_97_1943_0 >= _rtP->P_1867) {
    _rtB->B_97_1955_0 = _rtB->B_97_1952_0;
} else {
    _rtB->B_97_1955_0 = _rtB->B_97_1954_0;
}
if ((_rtDW->TimeStampA_co >= ssGetT(S)) && (_rtDW->TimeStampB_f >= ssGetT(S))) {
    _rtB->B_97_1956_0 = 0.0;
} else {
    rtb_B_97_47_0 = _rtDW->TimeStampA_co;
    lastU = &_rtDW->LastUAtTimeA_l;
    if (_rtDW->TimeStampA_co < _rtDW->TimeStampB_f) {
        if (_rtDW->TimeStampB_f < ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_f;
            lastU = &_rtDW->LastUAtTimeB_i;
        }
    } else {
        if (_rtDW->TimeStampA_co >= ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_f;
            lastU = &_rtDW->LastUAtTimeB_i;
        }
    }
    _rtB->B_97_1956_0 = (_rtB->B_97_1954_0 - *lastU) / (ssGetT(S) - rtb_B_97_47_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_1962_0 >= _rtP->P_1871) {
        _rtB->B_97_1964_0 = rtb_B_97_1948_0;
    } else {
        _rtB->B_97_1964_0 = _rtB->B_97_1950_0;
    }
}
_rtB->B_97_1966_0 = rt_Lookup(_rtP->P_1872, 5, ssGetT(S), _rtP->P_1873);
if (_rtB->B_97_1961_0 >= _rtP->P_1874) {
    _rtB->B_97_1967_0 = _rtB->B_97_1964_0;
} else {
    _rtB->B_97_1967_0 = _rtB->B_97_1966_0;
}
if ((_rtDW->TimeStampA_k >= ssGetT(S)) && (_rtDW->TimeStampB_g >= ssGetT(S))) {
    _rtB->B_97_1968_0 = 0.0;
} else {
    rtb_B_97_47_0 = _rtDW->TimeStampA_k;
    lastU = &_rtDW->LastUAtTimeA_m;
    if (_rtDW->TimeStampA_k < _rtDW->TimeStampB_g) {
        if (_rtDW->TimeStampB_g < ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_g;
            lastU = &_rtDW->LastUAtTimeB_n;
        }
    } else {
        if (_rtDW->TimeStampA_k >= ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_g;
            lastU = &_rtDW->LastUAtTimeB_n;
        }
    }
    _rtB->B_97_1968_0 = (_rtB->B_97_1966_0 - *lastU) / (ssGetT(S) - rtb_B_97_47_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_1974_0 >= _rtP->P_1878) {
        _rtB->B_97_1976_0 = rtb_B_97_1948_0;
    } else {
        _rtB->B_97_1976_0 = _rtB->B_97_1950_0;
    }
}
_rtB->B_97_1978_0 = rt_Lookup(_rtP->P_1879, 5, ssGetT(S), _rtP->P_1880);
if (_rtB->B_97_1973_0 >= _rtP->P_1881) {
    _rtB->B_97_1979_0 = _rtB->B_97_1976_0;
} else {
    _rtB->B_97_1979_0 = _rtB->B_97_1978_0;
}
if ((_rtDW->TimeStampA_n >= ssGetT(S)) && (_rtDW->TimeStampB_e >= ssGetT(S))) {
    _rtB->B_97_1980_0 = 0.0;
} else {
    rtb_B_97_47_0 = _rtDW->TimeStampA_n;
    lastU = &_rtDW->LastUAtTimeA_n;
    if (_rtDW->TimeStampA_n < _rtDW->TimeStampB_e) {
        if (_rtDW->TimeStampB_e < ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_e;
            lastU = &_rtDW->LastUAtTimeB_nm;
        }
    } else {
        if (_rtDW->TimeStampA_n >= ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_e;
            lastU = &_rtDW->LastUAtTimeB_nm;
        }
    }
    _rtB->B_97_1980_0 = (_rtB->B_97_1978_0 - *lastU) / (ssGetT(S) - rtb_B_97_47_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_1994_0 >= _rtP->P_1888) {
        rtb_B_97_1997_0 = _rtB->B_97_1993_0;
    } else {
        rtb_B_97_1997_0 = rt_Lookup(_rtP->P_1886, 26, ssGetTaskTime(S, 2), _rtP->P_1887);
    }
    if (_rtB->B_97_1998_0 >= _rtP->P_1891) {
        _rtB->B_97_2001_0 = rtb_B_97_1997_0;
    } else {
        _rtB->B_97_2001_0 = _rtB->B_97_1999_0;
    }
}
_rtB->B_97_2003_0 = rt_Lookup(_rtP->P_1892, 5, ssGetT(S), _rtP->P_1893);
if (_rtB->B_97_1992_0 >= _rtP->P_1894) {
    _rtB->B_97_2004_0 = _rtB->B_97_2001_0;
} else {
    _rtB->B_97_2004_0 = _rtB->B_97_2003_0;
}
if ((_rtDW->TimeStampA_k3 >= ssGetT(S)) && (_rtDW->TimeStampB_j >= ssGetT(S))) {
    _rtB->B_97_2005_0 = 0.0;
} else {
    rtb_B_97_47_0 = _rtDW->TimeStampA_k3;
    lastU = &_rtDW->LastUAtTimeA_mm;
    if (_rtDW->TimeStampA_k3 < _rtDW->TimeStampB_j) {
        if (_rtDW->TimeStampB_j < ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_j;
            lastU = &_rtDW->LastUAtTimeB_l;
        }
    } else {
        if (_rtDW->TimeStampA_k3 >= ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_j;
            lastU = &_rtDW->LastUAtTimeB_l;
        }
    }
    _rtB->B_97_2005_0 = (_rtB->B_97_2003_0 - *lastU) / (ssGetT(S) - rtb_B_97_47_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_2011_0 >= _rtP->P_1898) {
        _rtB->B_97_2013_0 = rtb_B_97_1997_0;
    } else {
        _rtB->B_97_2013_0 = _rtB->B_97_1999_0;
    }
}
_rtB->B_97_2015_0 = rt_Lookup(_rtP->P_1899, 5, ssGetT(S), _rtP->P_1900);
if (_rtB->B_97_2010_0 >= _rtP->P_1901) {
    _rtB->B_97_2016_0 = _rtB->B_97_2013_0;
} else {
    _rtB->B_97_2016_0 = _rtB->B_97_2015_0;
}
if ((_rtDW->TimeStampA_l >= ssGetT(S)) && (_rtDW->TimeStampB_l >= ssGetT(S))) {
    _rtB->B_97_2017_0 = 0.0;
} else {
    rtb_B_97_47_0 = _rtDW->TimeStampA_l;
    lastU = &_rtDW->LastUAtTimeA_h;
    if (_rtDW->TimeStampA_l < _rtDW->TimeStampB_l) {
        if (_rtDW->TimeStampB_l < ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_l;
            lastU = &_rtDW->LastUAtTimeB_b;
        }
    } else {
        if (_rtDW->TimeStampA_l >= ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_l;
            lastU = &_rtDW->LastUAtTimeB_b;
        }
    }
    _rtB->B_97_2017_0 = (_rtB->B_97_2015_0 - *lastU) / (ssGetT(S) - rtb_B_97_47_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_2023_0 >= _rtP->P_1905) {
        _rtB->B_97_2025_0 = rtb_B_97_1997_0;
    } else {
        _rtB->B_97_2025_0 = _rtB->B_97_1999_0;
    }
}
_rtB->B_97_2027_0 = rt_Lookup(_rtP->P_1906, 5, ssGetT(S), _rtP->P_1907);
if (_rtB->B_97_2022_0 >= _rtP->P_1908) {
    _rtB->B_97_2028_0 = _rtB->B_97_2025_0;
} else {
    _rtB->B_97_2028_0 = _rtB->B_97_2027_0;
}
if ((_rtDW->TimeStampA_cm >= ssGetT(S)) && (_rtDW->TimeStampB_gf >= ssGetT(S))) {
    _rtB->B_97_2029_0 = 0.0;
} else {
    rtb_B_97_47_0 = _rtDW->TimeStampA_cm;
    lastU = &_rtDW->LastUAtTimeA_n3;
    if (_rtDW->TimeStampA_cm < _rtDW->TimeStampB_gf) {
        if (_rtDW->TimeStampB_gf < ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_gf;
            lastU = &_rtDW->LastUAtTimeB_g;
        }
    } else {
        if (_rtDW->TimeStampA_cm >= ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_gf;
            lastU = &_rtDW->LastUAtTimeB_g;
        }
    }
    _rtB->B_97_2029_0 = (_rtB->B_97_2027_0 - *lastU) / (ssGetT(S) - rtb_B_97_47_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_2043_0 >= _rtP->P_1915) {
        rtb_B_97_2046_0 = _rtB->B_97_2042_0;
    } else {
        rtb_B_97_2046_0 = rt_Lookup(_rtP->P_1913, 4, ssGetTaskTime(S, 2), _rtP->P_1914);
    }
    if (_rtB->B_97_2047_0 >= _rtP->P_1918) {
        _rtB->B_97_2050_0 = rtb_B_97_2046_0;
    } else {
        _rtB->B_97_2050_0 = _rtB->B_97_2048_0;
    }
}
_rtB->B_97_2052_0 = rt_Lookup(_rtP->P_1919, 5, ssGetT(S), _rtP->P_1920);
if (_rtB->B_97_2041_0 >= _rtP->P_1921) {
    _rtB->B_97_2053_0 = _rtB->B_97_2050_0;
} else {
    _rtB->B_97_2053_0 = _rtB->B_97_2052_0;
}
if ((_rtDW->TimeStampA_f >= ssGetT(S)) && (_rtDW->TimeStampB_gp >= ssGetT(S))) {
    _rtB->B_97_2054_0 = 0.0;
} else {
    rtb_B_97_47_0 = _rtDW->TimeStampA_f;
    lastU = &_rtDW->LastUAtTimeA_dj;
    if (_rtDW->TimeStampA_f < _rtDW->TimeStampB_gp) {
        if (_rtDW->TimeStampB_gp < ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_gp;
            lastU = &_rtDW->LastUAtTimeB_o;
        }
    } else {
        if (_rtDW->TimeStampA_f >= ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_gp;
            lastU = &_rtDW->LastUAtTimeB_o;
        }
    }
    _rtB->B_97_2054_0 = (_rtB->B_97_2052_0 - *lastU) / (ssGetT(S) - rtb_B_97_47_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_2060_0 >= _rtP->P_1925) {
        _rtB->B_97_2062_0 = rtb_B_97_2046_0;
    } else {
        _rtB->B_97_2062_0 = _rtB->B_97_2048_0;
    }
}
_rtB->B_97_2064_0 = rt_Lookup(_rtP->P_1926, 5, ssGetT(S), _rtP->P_1927);
if (_rtB->B_97_2059_0 >= _rtP->P_1928) {
    _rtB->B_97_2065_0 = _rtB->B_97_2062_0;
} else {
    _rtB->B_97_2065_0 = _rtB->B_97_2064_0;
}
if ((_rtDW->TimeStampA_d >= ssGetT(S)) && (_rtDW->TimeStampB_eg >= ssGetT(S))) {
    _rtB->B_97_2066_0 = 0.0;
} else {
    rtb_B_97_47_0 = _rtDW->TimeStampA_d;
    lastU = &_rtDW->LastUAtTimeA_dy;
    if (_rtDW->TimeStampA_d < _rtDW->TimeStampB_eg) {
        if (_rtDW->TimeStampB_eg < ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_eg;
            lastU = &_rtDW->LastUAtTimeB_a;
        }
    } else {
        if (_rtDW->TimeStampA_d >= ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_eg;
            lastU = &_rtDW->LastUAtTimeB_a;
        }
    }
    _rtB->B_97_2066_0 = (_rtB->B_97_2064_0 - *lastU) / (ssGetT(S) - rtb_B_97_47_0);
}
i = ssIsSampleHit(S, 2, 0);
if (i != 0) {
    if (_rtB->B_97_2072_0 >= _rtP->P_1932) {
        _rtB->B_97_2074_0 = rtb_B_97_2046_0;
    } else {
        _rtB->B_97_2074_0 = _rtB->B_97_2048_0;
    }
}
_rtB->B_97_2076_0 = rt_Lookup(_rtP->P_1933, 5, ssGetT(S), _rtP->P_1934);
if (_rtB->B_97_2071_0 >= _rtP->P_1935) {
    _rtB->B_97_2077_0 = _rtB->B_97_2074_0;
} else {
    _rtB->B_97_2077_0 = _rtB->B_97_2076_0;
}
if ((_rtDW->TimeStampA_b >= ssGetT(S)) && (_rtDW->TimeStampB_k >= ssGetT(S))) {
    _rtB->B_97_2078_0 = 0.0;
} else {
    rtb_B_97_47_0 = _rtDW->TimeStampA_b;
    lastU = &_rtDW->LastUAtTimeA_f;
    if (_rtDW->TimeStampA_b < _rtDW->TimeStampB_k) {
        if (_rtDW->TimeStampB_k < ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_k;
            lastU = &_rtDW->LastUAtTimeB_h;
        }
    } else {
        if (_rtDW->TimeStampA_b >= ssGetT(S)) {
            rtb_B_97_47_0 = _rtDW->TimeStampB_k;
            lastU = &_rtDW->LastUAtTimeB_h;
        }
    }
    _rtB->B_97_2078_0 = (_rtB->B_97_2076_0 - *lastU) / (ssGetT(S) - rtb_B_97_47_0);
}
%<SLibInsertSolverResetCode()>\
%closefile cfgTxt
%<cfgTxt>
%assign rtmArgSys = ::CompiledModel.System[::CompiledModel.System[::CompiledModel.RTWCGModules.RTWCGModule[4].CGSystemIdx].NonInlinedParentSystemIdx]
%if SysFcnArgNeeded("Output", rtmArgSys.Interface.RTMArgDef, rtmArgSys.CurrentTID, FcnSysModuleIsRateGrouping(rtmArgSys, "Output"))
%<SLibCG_AccessArg(4, 1, 0)>
%endif
%if SLibCG_ArgAccessed(4, 1, 0)
%<SLibAccessArg(rtmArgSys.Interface.RTMArgDef, "Output", rtmArgSys.CurrentTID, FcnSysModuleIsRateGrouping(rtmArgSys, "Output"))>
%endif
%if (IsModelReferenceBaseSys(rtmArgSys) && (IsModelRefScalableBuild() || GenerateClassInterface)) ||...
(GenerateClassInterface && SLibIsMultiInstanceServer(rtmArgSys))
%<SLibCG_UndoAccessArg(4, 1, 0)>
%endif
%<LibSetSystemField(system, "CachedOutputLocalVars", localVarDecl)>
%assign ::GlobalCurrentTID = []
%endif
%if tid == 5
%assign ::GlobalCurrentTID = 5
%<SLibCGIRAccessLocalVar(68, 5, "")> %% B_97_155_0
%assign cfgTxt = ""
%openfile cfgTxt
%assign localVarDecl = ""
%openfile localVarDecl

int32_T i;
B_Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_T *_rtB;
P_Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_T *_rtP;
DW_Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_T *_rtDW;
%closefile localVarDecl
%assign _modelSS = ""

%<SLibCG_TrackDW(82)>\
_rtDW = %<(SLibCG_SE(SLibGetDWorkStructPtr()))>;
%<SLibCG_TrackParam(82)>\
_rtP = %<(SLibCG_SE(SLibGetParamStructPtr()))>;
%<SLibCG_TrackBlockIO(82)>\
_rtB = %<(SLibCG_SE(SLibGetBlockIOStructPtr()))>;
memcpy(&_rtB->B_97_0_0[0], &_rtP->P_537[0], 13U * sizeof(real_T));
_rtB->B_97_7_0 = _rtP->P_542;
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[3], "Output",5)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_SaturationTID5",3,0)
%<SLibCG_AccessArg(4 ,2, 0)>
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_SaturationTID5", ["S", "&_rtB->Saturation_i", "&_rtP->Saturation_i"], 3, 1, 7, 5, 7, 82)>\

%endif
_rtB->B_97_10_0 = _rtP->P_543;
_rtB->B_97_15_0 = _rtP->P_548;
_rtB->B_97_18_0 = _rtP->P_551;
for (i = 0; i < 25; i++) {
    _rtB->B_97_11_0[i] = _rtP->P_544[i];
    _rtB->B_97_13_0[i] = _rtP->P_546[i];
    _rtB->B_97_14_0[i] = _rtP->P_547[i];
    _rtB->B_97_19_0[i] = _rtP->P_552[i];
    _rtB->B_97_20_0[i] = _rtP->P_553 * _rtB->B_97_13_0[i];
}
_rtB->B_97_38_0 = _rtP->P_562;
%if !SLibCGSysFcnIsEmptyForTid(CompiledModel.System[3], "Output",5)
%if SLibCG_SystemFcnArgAccessed("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_SaturationTID5",3,0)
%<SLibCG_AccessArg(4 ,2, 0)>
%endif

%<SLibCGIRGenReusableSysCall("Improved_With_PV_Disconnection_at_11s_Assignment_1_19052017_SaturationTID5", ["S", "&_rtB->Saturation", "&_rtP->Saturation"], 3, 0, 7, 5, 7, 82)>\

%endif
_rtB->B_97_41_0 = _rtP->P_563;
_rtB->B_97_46_0 = _rtP->P_568;
_rtB->B_97_49_0 = _rtP->P_571;
for (i = 0; i < 25; i++) {
    _rtB->B_97_42_0[i] = _rtP->P_564[i];
    _rtB->B_97_44_0[i] = _rtP->P_566[i];
    _rtB->B_97_45_0[i] = _rtP->P_567[i];
    _rtB->B_97_50_0[i] = _rtP->P_572[i];
    _rtB->B_97_51_0[i] = _rtP->P_573 * _rtB->B_97_44_0[i];
}
_rtB->B_97_63_0 = _rtP->P_578;
_rtB->B_97_64_0 = _rtP->P_579;
_rtB->B_97_65_0 = _rtP->P_580;
_rtB->B_97_77_0 = _rtP->P_592;
_rtB->B_97_85_0 = _rtP->P_594;
_rtB->B_97_86_0 = _rtP->P_595;
_rtB->B_97_96_0 = _rtP->P_598;
_rtB->B_97_97_0 = _rtP->P_599;
_rtB->B_97_98_0 = _rtP->P_600;
_rtB->B_97_104_0 = _rtP->P_601;
_rtB->B_97_135_0 = _rtP->P_619;
B_97_155_0 = _rtP->P_628;
_rtB->B_97_159_0 = _rtP->P_629;
_rtB->B_97_161_0 = _rtP->P_630;
_rtB->B_97_178_0 = _rtP->P_637;
_rtB->B_97_180_0 = _rtP->P_638;
_rtB->B_97_217_0 = _rtP->P_664;
_rtB->B_97_219_0 = _rtP->P_665;
_rtB->B_97_352_0 = _rtP->P_805;
_rtB->B_97_355_0 = _rtP->P_806;
_rtB->B_97_358_0 = _rtP->P_807;
for (i = 0; i < 6; i++) {
    _rtB->B_97_372_0[i] = _rtP->P_817[i];
    _rtB->B_97_373_0[i] = _rtP->P_818[i];
}
_rtB->B_97_379_0 = _rtP->P_820;
_rtB->B_97_398_0 = _rtP->P_825;
_rtB->B_97_399_0 = _rtP->P_826;
_rtB->B_97_400_0 = _rtP->P_827;
_rtB->B_97_402_0 = _rtP->P_828;
_rtB->B_27_1_0 = _rtP->P_60;
_rtB->B_27_4_0 = _rtP->P_61;
_rtB->B_27_34_0 = _rtP->P_84;
_rtB->B_27_36_0 = _rtP->P_86;
_rtB->B_27_46_0 = _rtP->P_95;
_rtB->B_27_49_0 = _rtP->P_96;
_rtB->B_27_77_0 = _rtP->P_119;
_rtB->B_27_82_0 = _rtP->P_121;
_rtB->B_27_84_0 = _rtP->P_122;
_rtB->B_27_96_0 = _rtP->P_125;
_rtB->B_27_98_0 = _rtP->P_126;
_rtB->B_27_140_0 = _rtP->P_154 * _rtP->P_153 / _rtP->P_155;
_rtB->B_27_145_0[0] = _rtP->P_158[0];
_rtB->B_27_145_0[1] = _rtP->P_158[1];
_rtB->B_27_145_0[2] = _rtP->P_158[2];
_rtB->B_27_146_0 = _rtP->P_159;
_rtB->B_27_147_0 = _rtP->P_160;
_rtB->B_27_165_0 = _rtP->P_162;
_rtB->B_27_167_0 = _rtP->P_163;
_rtB->B_27_188_0 = _rtP->P_176;
_rtB->B_23_0_0 = _rtP->P_27;
_rtB->B_23_2_0 = _rtP->P_28;
if (ssIsMajorTimeStep(S) != 0) {
    srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC_nm);
}
_rtB->B_27_240_0 = _rtP->P_216;
_rtB->B_27_242_0 = _rtP->P_218;
if (ssIsMajorTimeStep(S) != 0) {
    srUpdateBC(_rtDW->GridSupportingasCurrentSourceGridFeeding_SubsysRanBC);
}
_rtB->B_97_413_0 = _rtP->P_836;
_rtB->B_97_414_0 = _rtP->P_837;
_rtB->B_36_0_0 = _rtP->P_256;
_rtB->B_36_9_0 = _rtP->P_264;
_rtB->B_36_12_0 = _rtP->P_266 * _rtP->P_265;
_rtB->B_36_16_0 = _rtP->P_269;
_rtB->B_36_18_0 = _rtP->P_270;
_rtB->B_36_25_0 = _rtP->P_278;
_rtB->B_36_31_0 = (uint8_T)(_rtP->P_283 == _rtP->P_284);
_rtB->B_36_35_0 = (uint8_T)(_rtP->P_283 == _rtP->P_285);
_rtB->B_36_51_0 = _rtP->P_293;
_rtB->B_36_55_0 = _rtP->P_294;
_rtB->B_36_57_0 = _rtP->P_295;
_rtB->B_36_78_0 = _rtP->P_308;
_rtB->B_30_0_0 = _rtP->P_223;
_rtB->B_30_2_0 = _rtP->P_224;
if (ssIsMajorTimeStep(S) != 0) {
    srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC_p);
}
_rtB->B_36_107_0 = (uint8_T)(_rtP->P_333 == _rtP->P_334);
_rtB->B_36_111_0 = (uint8_T)(_rtP->P_333 == _rtP->P_335);
if (ssIsMajorTimeStep(S) != 0) {
    srUpdateBC(_rtDW->Gridforming_SubsysRanBC);
}
_rtB->B_97_424_0 = _rtP->P_838;
_rtB->B_97_442_0 = _rtP->P_856;
_rtB->B_97_446_0 = _rtP->P_857;
_rtB->B_97_448_0 = _rtP->P_858;
_rtB->B_97_469_0 = _rtP->P_871;
_rtB->B_44_0_0 = _rtP->P_340;
_rtB->B_44_2_0 = _rtP->P_341;
if (ssIsMajorTimeStep(S) != 0) {
    srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC_hn);
}
_rtB->B_97_576_0 = _rtP->P_908;
_rtB->B_97_578_0 = _rtP->P_909;
_rtB->B_97_615_0 = _rtP->P_935;
_rtB->B_97_617_0 = _rtP->P_936;
_rtB->B_97_750_0 = _rtP->P_1076;
_rtB->B_97_753_0 = _rtP->P_1077;
_rtB->B_97_756_0 = _rtP->P_1078;
for (i = 0; i < 6; i++) {
    _rtB->B_97_770_0[i] = _rtP->P_1088[i];
    _rtB->B_97_771_0[i] = _rtP->P_1089[i];
}
_rtB->B_97_788_0 = _rtP->P_1098;
_rtB->B_97_810_0 = _rtP->P_1103;
_rtB->B_97_828_0 = _rtP->P_1121;
_rtB->B_97_832_0 = _rtP->P_1122;
_rtB->B_97_834_0 = _rtP->P_1123;
_rtB->B_97_855_0 = _rtP->P_1136;
_rtB->B_66_0_0 = _rtP->P_420;
_rtB->B_66_2_0 = _rtP->P_421;
if (ssIsMajorTimeStep(S) != 0) {
    srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC_n);
}
_rtB->B_97_890_0 = _rtP->P_1167;
_rtB->B_97_893_0 = _rtP->P_1168;
_rtB->B_97_921_0 = _rtP->P_1190;
_rtB->B_97_924_0 = _rtP->P_1191;
_rtB->B_97_952_0 = _rtP->P_1210;
_rtB->B_97_954_0 = _rtP->P_1212;
_rtB->B_97_956_0 = _rtP->P_1214;
_rtB->B_97_959_0 = _rtP->P_1217;
_rtB->B_97_963_0 = _rtP->P_1222;
_rtB->B_97_968_0 = _rtP->P_1224;
_rtB->B_97_970_0 = _rtP->P_1225;
_rtB->B_97_982_0 = _rtP->P_1228;
_rtB->B_97_984_0 = _rtP->P_1229;
_rtB->B_97_1026_0 = _rtP->P_1257 * _rtP->P_1256 / _rtP->P_1258;
_rtB->B_97_1031_0[0] = _rtP->P_1261[0];
_rtB->B_97_1031_0[1] = _rtP->P_1261[1];
_rtB->B_97_1031_0[2] = _rtP->P_1261[2];
_rtB->B_97_1032_0 = _rtP->P_1262;
_rtB->B_97_1033_0 = _rtP->P_1263;
_rtB->B_97_1050_0 = _rtP->P_1265;
_rtB->B_97_1052_0 = _rtP->P_1266;
_rtB->B_97_1073_0 = _rtP->P_1279;
_rtB->B_93_0_0 = _rtP->P_506;
_rtB->B_93_2_0 = _rtP->P_507;
if (ssIsMajorTimeStep(S) != 0) {
    srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC);
}
_rtB->B_97_1125_0 = _rtP->P_1319;
_rtB->B_97_1127_0 = _rtP->P_1321;
_rtB->B_97_1163_0 = _rtP->P_1323;
_rtB->B_97_1164_0 = _rtP->P_1324;
_rtB->B_97_1165_0 = _rtP->P_1937;
_rtB->B_97_1166_0 = _rtP->P_1325;
_rtB->B_97_1169_0 = _rtP->P_1327;
_rtB->B_97_1181_0 = _rtP->P_1332;
_rtB->B_97_1170_0[0] = _rtP->P_1328[0];
_rtB->B_97_1182_0[0] = _rtP->P_1333[0];
_rtB->B_97_1170_0[1] = _rtP->P_1328[1];
_rtB->B_97_1182_0[1] = _rtP->P_1333[1];
_rtB->B_97_1203_0 = _rtP->P_1356;
_rtB->B_97_1210_0 = (real_T)(_rtP->P_1358 == _rtP->P_1359) * _rtP->P_1360;
_rtB->B_97_1245_0 = _rtP->P_1389;
_rtB->B_97_1251_0[0] = _rtP->P_1396[0];
_rtB->B_97_1251_0[1] = _rtP->P_1396[1];
_rtB->B_97_1355_0 = _rtP->P_1516;
_rtB->B_97_1358_0 = _rtP->P_1517;
_rtB->B_97_1361_0 = _rtP->P_1518;
_rtB->B_97_1373_0 = _rtP->P_1522;
_rtB->B_97_1391_0 = _rtP->P_1540;
_rtB->B_97_1395_0 = _rtP->P_1541;
_rtB->B_97_1397_0 = _rtP->P_1542;
_rtB->B_97_1418_0 = _rtP->P_1555;
_rtB->B_55_0_0 = _rtP->P_380;
_rtB->B_55_2_0 = _rtP->P_381;
if (ssIsMajorTimeStep(S) != 0) {
    srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC_e);
}
_rtB->B_97_1566_0 = _rtP->P_1691;
_rtB->B_97_1569_0 = _rtP->P_1692;
_rtB->B_97_1572_0 = _rtP->P_1693;
_rtB->B_97_1584_0 = _rtP->P_1696;
_rtB->B_97_1602_0 = _rtP->P_1714;
_rtB->B_97_1606_0 = _rtP->P_1715;
_rtB->B_97_1608_0 = _rtP->P_1716;
_rtB->B_97_1628_0 = _rtP->P_1728;
_rtB->B_77_0_0 = _rtP->P_460;
_rtB->B_77_2_0 = _rtP->P_461;
if (ssIsMajorTimeStep(S) != 0) {
    srUpdateBC(_rtDW->AutomaticGainControl_SubsysRanBC_h);
}
_rtB->B_97_1728_0 = _rtP->P_1938;
_rtB->B_97_1729_0 = _rtP->P_1760;
_rtB->B_97_1732_0 = _rtP->P_1762;
_rtB->B_97_1744_0 = _rtP->P_1767;
_rtB->B_97_1733_0[0] = _rtP->P_1763[0];
_rtB->B_97_1745_0[0] = _rtP->P_1768[0];
_rtB->B_97_1733_0[1] = _rtP->P_1763[1];
_rtB->B_97_1745_0[1] = _rtP->P_1768[1];
_rtB->B_97_1761_0 = _rtP->P_1774;
_rtB->B_97_1762_0 = _rtP->P_1775;
_rtB->B_97_1770_0 = _rtP->P_1793;
_rtB->B_97_1777_0 = (real_T)(_rtP->P_1795 == _rtP->P_1796) * _rtP->P_1797;
_rtB->B_97_1797_0 = _rtP->P_1816;
_rtB->B_97_1803_0[0] = _rtP->P_1823[0];
_rtB->B_97_1803_0[1] = _rtP->P_1823[1];
_rtB->B_97_1894_0 = _rtP->P_1829;
_rtB->B_97_1895_0 = _rtP->P_1830;
_rtB->B_97_1896_0 = _rtP->P_1831;
_rtB->B_97_1900_0 = _rtP->P_1835;
_rtB->B_97_1901_0 = _rtP->P_1836;
_rtB->B_97_1912_0 = _rtP->P_1842;
_rtB->B_97_1913_0 = _rtP->P_1843;
_rtB->B_97_1924_0 = _rtP->P_1849;
_rtB->B_97_1925_0 = _rtP->P_1850;
_rtB->B_97_1943_0 = _rtP->P_1856;
_rtB->B_97_1944_0 = _rtP->P_1857;
_rtB->B_97_1945_0 = _rtP->P_1858;
_rtB->B_97_1949_0 = _rtP->P_1862;
_rtB->B_97_1950_0 = _rtP->P_1863;
_rtB->B_97_1961_0 = _rtP->P_1869;
_rtB->B_97_1962_0 = _rtP->P_1870;
_rtB->B_97_1973_0 = _rtP->P_1876;
_rtB->B_97_1974_0 = _rtP->P_1877;
_rtB->B_97_1992_0 = _rtP->P_1883;
_rtB->B_97_1993_0 = _rtP->P_1884;
_rtB->B_97_1994_0 = _rtP->P_1885;
_rtB->B_97_1998_0 = _rtP->P_1889;
_rtB->B_97_1999_0 = _rtP->P_1890;
_rtB->B_97_2010_0 = _rtP->P_1896;
_rtB->B_97_2011_0 = _rtP->P_1897;
_rtB->B_97_2022_0 = _rtP->P_1903;
_rtB->B_97_2023_0 = _rtP->P_1904;
_rtB->B_97_2041_0 = _rtP->P_1910;
_rtB->B_97_2042_0 = _rtP->P_1911;
_rtB->B_97_2043_0 = _rtP->P_1912;
_rtB->B_97_2047_0 = _rtP->P_1916;
_rtB->B_97_2048_0 = _rtP->P_1917;
_rtB->B_97_2059_0 = _rtP->P_1923;
_rtB->B_97_2060_0 = _rtP->P_1924;
_rtB->B_97_2071_0 = _rtP->P_1930;
_rtB->B_97_2072_0 = _rtP->P_1931;
%closefile cfgTxt
%<cfgTxt>
%assign rtmArgSys = ::CompiledModel.System[::CompiledModel.System[::CompiledModel.RTWCGModules.RTWCGModule[4].CGSystemIdx].NonInlinedParentSystemIdx]
%if SysFcnArgNeeded("Output", rtmArgSys.Interface.RTMArgDef, rtmArgSys.CurrentTID, FcnSysModuleIsRateGrouping(rtmArgSys, "Output"))
%<SLibCG_AccessArg(4, 2, 0)>
%endif
%if SLibCG_ArgAccessed(4, 2, 0)
%<SLibAccessArg(rtmArgSys.Interface.RTMArgDef, "Output", rtmArgSys.CurrentTID, FcnSysModuleIsRateGrouping(rtmArgSys, "Output"))>
%endif
%if (IsModelReferenceBaseSys(rtmArgSys) && (IsModelRefScalableBuild() || GenerateClassInterface)) ||...
(GenerateClassInterface && SLibIsMultiInstanceServer(rtmArgSys))
%<SLibCG_UndoAccessArg(4, 2, 0)>
%endif
%<LibSetSystemField(system, "CachedOutput5LocalVars", localVarDecl)>
%assign ::GlobalCurrentTID = []
%endif
%endfunction
%function OutputsFcnProtoTypeForTID(block, system, tid) Output
%if tid == 0
%assign ::GlobalCurrentTID = 0
%assign fcnProtoType = ""
%openfile fcnProtoType
static void Outputs0(\
%assign comma = ""
%<comma>%<::tSimStructType> *S\
%assign comma = ", "
%closefile fcnProtoType
%<SLibCG_SetFcnProtoType(4, 1, fcnProtoType)>
%assign ::GlobalCurrentTID = []
%endif
%if tid == 5
%assign ::GlobalCurrentTID = 5
%assign fcnProtoType = ""
%openfile fcnProtoType
static void Outputs1(\
%assign comma = ""
%<comma>%<::tSimStructType> *S\
%assign comma = ", "
%closefile fcnProtoType
%<SLibCG_SetFcnProtoType(4, 2, fcnProtoType)>
%assign ::GlobalCurrentTID = []
%endif
%endfunction
